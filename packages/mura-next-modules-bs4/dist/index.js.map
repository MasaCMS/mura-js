{"version":3,"file":"index.js","sources":["../src/Video/Youtube.js","../src/Video/Vimeo.js","../src/Video/Wistia.js","../src/Video/ModalVideo.js","../src/Video/Video.js","../src/ItemDate.js","../src/ItemCredits.js","../src/ItemTags.js","../src/OutputMarkup.js","../src/ArticleMeta.js","../src/Collection.js","../src/CollectionNav.js","../src/CollectionLayout.js","../src/CollectionReadMoreBtn.js","../src/ItemImage.js","../src/CollectionLayoutAccordion.js","../src/CollectionLayoutAlternatingBoxes.js","../src/CollectionLayoutAlternatingRows.js","../src/ItemCategories.js","../src/NoItemsMessage.js","../src/CollectionLayoutCards.js","../src/CollectionLayoutList.js","../src/CollectionLayoutMasonry.js","../src/CollectionLayoutSlickSlider.js","../src/Container.js","../src/Hr.js","../src/CTAButton.js","../src/Embed.js","../src/Image.js","../src/Login.js","../src/MatrixSelector.js","../src/PrimaryNav.js","../node_modules/babel-plugin-transform-async-to-promises/helpers.mjs","../src/ResourceHub.js","../src/Text.js","../src/PrivacyTools.js","../src/GatedAsset.js","../src/Gist.js","../src/SearchResults.js","../src/SearchResultsLayout.js","../src/SearchForm.js","../src/UtilityNav.js","../src/MuraClassicWrapper.js"],"sourcesContent":["import React from 'react';\n\nfunction Youtube(props) {\n  const { instanceid, videoid } = props;\n  // z5DqB0cv8uw\n  return (\n    <div className=\"youtubeWrapper\" id={`player-${instanceid}`}>\n      <iframe\n        title=\"Youtube Player\"\n        src={`//www.youtube.com/embed/${videoid}?rel=0&autoplay=0&vq=hd1080&controls=1`}\n        frameBorder=\"0\"\n        allowFullScreen\n      />\n    </div>\n  );\n}\n\nexport default Youtube;","import React from 'react';\n\nfunction Vimeo(props) {\n\tconst { instanceid, videoid } = props;\n\t// 56282283\n\treturn (\n\t  <div className=\"vimeoWrapper\" id={`player-${instanceid}`}>\n\t\t<iframe\n\t\t\tsrc={`https://player.vimeo.com/video/${videoid}`}\n\t\t\twidth=\"960\"\n\t\t\theight=\"540\"\n\t\t\tframeBorder=\"0\"\n\t\t\tallow=\"autoplay; fullscreen\"\n\t\t\tallowFullScreen>\n\t\t</iframe>\t\t\n\t  </div>\n\t);\n}\n\nexport default Vimeo;","import React, {useEffect} from 'react';\nimport Head from 'next/head';\nimport { getMura} from '@murasoftware/next-core';\n\nfunction Wistia(props) {\n\tconst Mura = props.Mura || getMura();\n\tconst { instanceid, videoid, dynamicProps } = props;\n\t\n\tuseEffect(() => {\n\t\tif(typeof dynamicProps == 'undefined'){\n\t\t\tconst loader=Mura.loader();\n\t\t\tif(typeof window.Wistia == 'undefined'){\n\t\t\t\tloader.loadjs('https://fast.wistia.net/assets/external/E-v1.js',{async:true});\n\t\t\t}\n\t\t\tloader.loadjs('https://fast.wistia.com/embed/medias/${videoid}.jsonp',{async:true});\n\t\t}\n\t}, []);\n\n\t// j38ihh83m5\n\treturn (\n\t  <div className=\"wistiaWrapper\" id={`player-${instanceid}`}>\n\t\t<Head>\n\t\t\t<script async src='https://fast.wistia.net/assets/external/E-v1.js'></script>\n\t\t\t<script async src={`https://fast.wistia.com/embed/medias/${videoid}.jsonp`}></script>\n\t\t</Head>\n\t\t<div\n\t\t\tclassName=\"wistia_responsive_padding\"\n\t\t\tstyle={{padding: '56.25% 0 0 0',position: 'relative'}}>\n\t\t\t<div\n\t\t\t\tclassName=\"wistia_responsive_wrapper\"\n\t\t\t\tstyle={{height:'100%',left:0,position:'absolute',top:0,width:'100%'}}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`wistia_embed wistia_async_${videoid}`}\n\t\t\t\t\tseo='false'\n\t\t\t\t\tvideofoam='true'\n\t\t\t\t\tstyle={{height:'100%',width:'100%'}}>&nbsp;</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t  </div>\n\t);\n}\n\nexport default Wistia;","import React from 'react';\nimport Head from 'next/head';\n\nconst ModalVideo = ({props,children}) => {\n\n\tconst {modalcta,buttonclass,buttonplayiconsize,buttonctatext,showbuttonplayicon} = props;\n\tconst openPlayer=function(){openVidyardLightbox(props.videoid); return false;};\n\tswitch(modalcta) {\n\t\tcase \"button\":\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={openPlayer}\n\t\t\t\t\tclassName={`btn btn-${buttonclass}`}>\n\t\t\t\t\t{showbuttonplayicon ?\n\t\t\t\t\t\t<i className={`fas fa-play fa-${buttonplayiconsize} align-middle`}></i>\n\t\t\t\t\t\t:\n\t\t\t\t\t\tnull\n\t\t\t\t\t}\n\t\t\t\t\t{buttonctatext}\n\t\t\t\t\t<Head>\n\t\t\t\t\t\n\t\t\t\t\t</Head>\n\t\t\t\t</button>\n\t\t\t)\n\t\t\tbreak;\t\n\n\t\tdefault:\n\t\t\treturn <div>Nah</div>\n\t}\n}\n\nexport default ModalVideo;","import React from 'react';\nimport Youtube from './Youtube';\nimport Vimeo from './Vimeo';\n//import Vidyard from './Vidyard';\nimport Wistia from './Wistia';\nimport ModalVideo from './ModalVideo';\nimport {videoConfig} from './videoConfig';\n\nconst getVideoPlayer = props => {\n  const players = {};\n  players['youtube'] = Youtube(props);\n  players['vimeo'] = Vimeo(props);\n  players['wistia'] = Wistia(props);\n  //players['vidyard'] = Vidyard(props);\n\n  return players[props.videoplatform];\n};\n\nfunction Video(props) {\n\n  const { displaytype, videoid, videoplatform } = props;\n  const {modalsize} = videoConfig;\n  if(typeof videoplatform=='undefined' || !videoplatform.length) {\n    return <div>Video platform missing.</div>\n  }\n  else if(!videoid) {\n    return <div>Video id missing.</div>\n  }\n  else {\n\n    if(displaytype === 'modal') {\n      return (\n      <ModalVideo props={props}>\n        {getVideoPlayer(props)}\n      </ModalVideo>\n      )\n    }\n    else {\n      return getVideoPlayer(props);\n    }\n  }\n}\n\nexport default Video;\n","import React from 'react';\n\nexport const ItemDate = (props) => {\n    let date = '';\n    let formatteddate = '';\n    \n    if((props.releasedate != null && props.releasedate != '') || (props.lastupdate != null && props.lastupdate != '')) {\n      if(props.releasedate){\n        date = new Date(props.releasedate);\n      } else {\n        date = new Date(props.lastupdate);\n      }\n      formatteddate = Intl.DateTimeFormat(\"en-US\", {year: \"numeric\",month: \"long\",day: \"2-digit\"}).format(date);\n      return formatteddate\n    }    \n\n    return (\n        null\n    )\n  }\n\n  export default ItemDate;","import React from 'react';\n\nconst ItemCredits = (props) => {\n    const Credits = props.credits.split(',');\n    let creditsList = [];\n    let credit = '';\n    // console.log(props.tags);\n    for(let i = 0;i < Credits.length;i++) {\n        credit = Credits[i];\n        creditsList.push(\n            <div className=\"mura-item-meta__credits pb-2\" key={credit}>\n                By: <strong>{credit}</strong>\n            </div>\n        )\n    }\n\n    return creditsList;\n}\n\nexport default ItemCredits;","import React from 'react';\nimport Badge from 'react-bootstrap/Badge';\n\nfunction ItemTags(props){\n    \n    const Tags = props.tags.split(',');;\n    let tagList = [];\n    let tag = '';\n    const variant = props.variant ? props.variant : 'primary';\n    // console.log(props.tags);\n    for(let i = 0;i < Tags.length;i++) {\n        tag = Tags[i];\n        tagList.push(\n            <Badge variant={`${variant} mr-2`} key={tag}>{tag}</Badge>\n        )\n    }\n\n    return tagList;\n\n}\n\nexport default ItemTags;","import React from 'react';\nimport ReactMarkdown from 'react-markdown/with-html';\nimport { getMura, getMuraConfig, Decorator  } from '@murasoftware/next-core';\nimport gfm from 'remark-gfm';\nimport slug from 'remark-slug';\nimport directive from 'remark-directive';\nimport visit from 'unist-util-visit';\nimport h from 'hastscript';\n\nfunction htmlDirectives() {\n    return transform\n  \n    function transform(tree) {\n      visit(tree, ['textDirective', 'leafDirective', 'containerDirective'], ondirective)\n    }\n  \n    function ondirective(node) {\n      var data = node.data || (node.data = {})\n      var hast = h(node.name, node.attributes)\n  \n      data.hName = hast.tagName\n      data.hProperties = hast.properties\n    }\n  }\n\nfunction renderDirective(elem){\n\n    //console.log(elem)\n\n    let tag=elem.node.data.hName;\n    let props= Object.assign({},elem.node.data.hProperties);\n    \n    try{\n        switch(elem.node.data.hName.toLowerCase()){\n            case 'module':\n                tag=Decorator;\n                props['data-render']=\"client\";\n                props.ssr=false;\n             break;\n\n            case 'content':\n\n\n                break;\n\n            case 'content':\n\n\n                break;\n        } \n        if(elem.children.length){\n            return React.createElement(tag, props, elem.children);\n        } else {\n            return React.createElement(tag, props);\n        }\n    } catch(e){\n        console.error(\"error rendering html directive\",e);\n        return '';\n    }\n}\n\nconst renderers = {\n    textDirective:renderDirective,\n    leafDirective:renderDirective,\n    containerDirective:renderDirective,\n    heading:function (elem){\n        return React.createElement('h' + elem.level, elem.node.data.hProperties, elem.children);\n    }\n    \n}\n\nfunction parseStringAsTemplate(stringValue){\n    const errors={};\n    let parsedString=stringValue;\n    let doLoop=true;\n\n    do {\n        const finder=/(\\${)(.+?)(})/.exec(parsedString)\n        if(finder){\n            let template;\n            try {\n                template=eval('`${' + finder[2] + '}`');\n            } catch(e){\n                console.log('error parsing string template: ' + '${' + finder[2] + '}',e);\n                template='[error]' + finder[2] + '[/error]';\n            }\n            parsedString=parsedString.replace(finder[0],template);\n        } else {\n            doLoop=false;\n        }\n    } while (doLoop)\n\n    parsedString=parsedString.replace('[error]','${');\n    parsedString=parsedString.replace('[/error]','}');\n\n    return parsedString;\n}\n\nfunction OutputMarkup({source,className}){\n    const parsedSource=parseStringAsTemplate(source);\n  \n    if(getMuraConfig().ConnectorConfig.htmleditortype == 'markdown'){\n        return(\n            <ReactMarkdown plugins={[gfm,slug,directive,htmlDirectives]} allowDangerousHtml renderers={renderers} children={parsedSource} className={className} />\n        )\n    }\n\n    return(\n        <div dangerouslySetInnerHTML={{__html:parsedSource}} className={className} />\n    )\n    \n}\n\nexport default OutputMarkup;","import React from 'react';\nimport ItemDate from './ItemDate';\nimport ItemCredits from './ItemCredits';\nimport ItemTags from './ItemTags';\nimport OutputMarkup from './OutputMarkup';\n\nexport const ArticleMeta = (props) => {\n    // console.log('fields ArticleMeta: ' + props.fields);\n    \n    const fields = props.fields ? props.fields : '';\n    const fieldlist = fields ? fields.toLowerCase().split(\",\") : [];\n    const titleclass = props.titleclass ? props.titleclass : '';    \n    const item = props.content;\n    let catAssignments = item.categoryassignments;\n    let FeaturedCategoryOnly = \"no\";\n    if (props.featuredcategoryonly){\n        FeaturedCategoryOnly = \"yes\";\n    }\n    // console.log('fieldlist: ' + fieldlist);\n    return (\n        <div className=\"mura-article-meta\">\n            {\n                fieldlist.map(field => {\n                    switch(field) {\n                    case \"category\":\n                        return (\n                            <div key={field} className=\"mura-item-meta__category\">\n                                <ItemCategories categories={catAssignments} featuredonly={FeaturedCategoryOnly} />\n                            </div>\n                        );\n                    case \"title\":\n                        return (\n                            <h1 key=\"title\" key={field} className={titleclass}>{item.title}</h1>\n                        );\n                    case \"menutitle\":\n                        return (\n                            <p key=\"menutitle\" key={field} className=\"mura-item-meta__menutitle\">{item.menutitle}</p>\n                        );\n                    case \"summary\":\n                        return (\n                            <OutputMarkup source={item.summary} className=\"lead\" key={field} />\n                        );\n                    case \"date\":\n                    case \"releasedate\":\n                        return (\n                            <span className=\"mura-item-meta__date\" key={field}>\n                               <ItemDate releasedate={item.releasedate} lastupdate={item.lastupdate}></ItemDate>\n                            </span>\n                        );\n                    case \"credits\":\n                        if(item.credits){\n                            return (\n                                <ItemCredits credits={item.credits} key={field} />\n                            );\n                        }\n                        return null\n                    case \"tags\":\n                        if(item.tags){\n                            return (\n                                <div className=\"mura-item-meta__tags\" key={field}>\n                                    <ItemTags tagshref=\"/blog\" tags={item.tags} />\n                                </div>\n                            );\n                        }\n                        return null\n                    default:\n                        return <div className={`mura-item-meta__${field}`} key={field} data-value={props.content[field]}>{props.content[field]}</div>\n                    }\n                })\n            }\n        </div>\n    )\n}\n\nexport default ArticleMeta;","import React,{ useState,useEffect } from 'react';\nimport Link from \"next/link\";\nimport { getMura, getMuraConfig, getHref } from '@murasoftware/next-core';\n\nexport const getLayout=function(layout) {\n  const muraConfig =getMuraConfig();\n  const { ComponentRegistry } = muraConfig;\n  const uselayout = (!layout || layout == 'default') ? \"List\" : layout;\n\n  if(typeof ComponentRegistry[uselayout] != 'undefined') {\n    return ComponentRegistry[uselayout];\n  } else {\n    console.log(\"Layout not registered: \",layout);\n    return ComponentRegistry['List'];\n  }\n}\n\n\nfunction getDefaultQueryPropsFromLayout(layout,item){\n  if(layout){\n    return layout.getQueryProps ? layout.getQueryProps(item) : {fields:''};\n  } else {\n    return  {fields:''};\n  }\n}\n\nfunction Collection(props) {\n   /* \n    In new development you should use this. \n    const { Mura } = props; \n\n    This pattern is for legacy support \n    const Mura = props.Mura || getMura();\n  */\n  const Mura=props.Mura || getMura();\n  const objectparams = Object.assign({}, props);\n  const DynamicCollectionLayout = getLayout(objectparams.layout).component;\n\n  objectparams.fields= getDefaultQueryPropsFromLayout(DynamicCollectionLayout,objectparams).fields || objectparams.fields || 'Image,Date,Title,Summary,Credits,Tags';\n  objectparams.dynamicProps=objectparams.dynamicProps ||  {};\n\n  const _collection=objectparams.dynamicProps.collection ? new Mura.EntityCollection(objectparams.dynamicProps.collection,Mura._requestcontext) : false;\n\n  if(!_collection){\n    const [collection,setCollection]=useState(_collection);\n\n    useEffect(() => {\n      let isMounted = true;\n      if(isMounted){\n        getDynamicProps(objectparams).then((_dynamicProps)=>{\n          if(isMounted){\n            setCollection(new Mura.EntityCollection(_dynamicProps.collection,Mura._requestcontext));\n          }\n        });   \n      }\n      return () => { isMounted = false };\n    }, []);\n\n    if(collection) {\n      return (\n        <DynamicCollectionLayout setCollection={setCollection} collection={collection} props={objectparams} link={RouterlessLink}/>\n      )\n    }\n    else {\n      return (\n       <div></div>\n      )\n    }\n  } else {\n    const [collection,setCollection]=useState(_collection);\n\n    return (\n        <DynamicCollectionLayout setCollection={setCollection} collection={collection} props={props} link={RouterLink}/>\n      )\n  }\n}\n\nexport const RouterlessLink = function({href,children,className}) {\n  return (\n    <a href={getHref(href)} className={className}>\n      {children}\n    </a>\n  );\n}\n\nexport const RouterLink = function({href,children,className}) {\n  return (\n    <Link href={getHref(href)}>\n      <a className={className}>{children}</a>\n    </Link>\n  );\n}\n\nexport const getDynamicProps = async function(props){\n   /* \n    In new development you should use this. \n    const { Mura } = props; \n\n    This pattern is for legacy support \n    const Mura = props.Mura || getMura();\n  */\n  const Mura=props.Mura || getMura();\n  \n  const getItemsPerPage = function(props){\n    if(Mura.renderMode !='static'){\n      if(typeof props.nextn != 'undefined'){\n       return props.nextn\n      } else if(typeof props.itemsperpage != 'undefined'){\n       return props.itemsperpage;\n      } else {\n        return 0;\n      }\n    } else {\n      return 0;\n    }\n  }\n  const data = {};\n  let cdata = {};\n  let {content} = props;\n\n  if(props.sourcetype === 'children') {\n    const feed = Mura.getFeed('content');\n\n    if(content.getAll) {\n      cdata = content.getAll();\n    }\n    else {\n      cdata = content;\n    }\n\n    feed.andProp('parentid').isEQ(cdata.contentid);\n    feed.fields(getSelectFields(props));\n    feed.expand(getExpandFields(props));\n    feed.maxItems(props.maxitems);;\n    feed.itemsPerPage(getItemsPerPage(props))\n    feed.sort(cdata.sortby,cdata.sortdirection);\n    \n    const query = await feed.getQuery();\n    data.collection = query.getAll();\n  }\n  else if(props.sourcetype === 'relatedcontent') {\n    const src = props.source;\n   \n    if(src==='custom'){\n      if(typeof props.items !='undefined'){\n        if(!Array.isArray(props.items)){\n          try{\n            JSON.parse(props.items);\n          } catch(e){\n            console.log(e)\n            props.items=[];\n          }\n        }\n      } else {\n        props.items=[];\n      }\n\n      if(props.items.length){\n        const related = await Mura.getFeed('content')\n        .where()\n        .fields(getSelectFields(props))\n        .expand(getExpandFields(props))\n        .itemsPerPage(getItemsPerPage(props))\n        .maxItems(props.maxitems)\n        .findMany(props.items)\n        .getQuery();\n        \n        data.collection=related.getAll();\n      } else {\n        data.collection={\n          items: [],\n          totaltems: 0,\n        }\n      }\n    } else {\n      if(!content.getRelatedContent){\n        content=Mura.getEntity(\"content\").set(content);\n      }\n      const related = await content.getRelatedContent(\n        src,\n        {\n          fields:getSelectFields(props),\n          expand:getExpandFields(props),\n          imagesizes:getImageSizes(props),\n          itemsPerPage:getItemsPerPage(props),\n          maxitems:props.maxitems\n        }\n      );\n      data.collection = related.getAll(); \n    }\n  \n    return data;\n  }\n  else if ((\n    typeof props.sourcetype === 'undefined'\n    || props.sourcetype === ''\n    ) \n    ||  (\n      typeof props.sourcetype !== 'undefined' &&\n      props.sourcetype === 'localindex' &&\n      Mura.isUUID(props.source)\n    )\n  ) {\n    const feed = Mura.getFeed('content');\n\n    if(props.source) {\n      feed.andProp('feedid').isEQ(props.source);\n    }\n    feed.fields(getSelectFields(props));\n    feed.expand(getExpandFields(props));\n    feed.imageSizes(getImageSizes(props));\n    feed.maxItems(props.maxitems);\n    feed.itemsPerPage(getItemsPerPage(props));\n\n    //Add stuff like maxitems, nextn\n      \n    const query = await feed.getQuery();\n\n    data.collection = query.getAll();\n  }\n  \n  return data;\n};\n\nconst getExpandFields = function(props) {\n\n  const data = getLayout(props.layout).getQueryProps();\n\n  if(data.expand){\n    return data.expand;\n  } else {\n    return '';\n  }\n\n}\n\nconst getImageSizes = function(props) {\n\n  const data = getLayout(props.layout).getQueryProps();\n\n  if(data.imagesizes){\n    return data.imagesizes;\n  } else {\n    return '';\n  }\n\n}\n\nexport const getSelectFields = function(props) {\n\n  const data = getLayout(props.layout).getQueryProps(props);\n\n  let fieldlist = '';\n\n  if(data.fields) {\n    fieldlist = data.fields;\n  } else {\n    fieldlist = data.fields ? data.fields  : '';\n  }\n\n  if(!fieldlist){\n    return '';\n  }\n\n  let fieldarray=fieldlist.split(\",\");\n  let hasDate=false;\n  let hasFilename=false;\n  let hasReleaseDate=false;\n  let hasLastUpdate=false;\n  let hasCreated=false;\n  let hasImage=false;\n  let hasFileid=false;\n  let hasContentid=false;\n  let hasContenthistid=false;\n  let hasParentid=false;\n\n  fieldarray=fieldarray.filter(field=>{\n    field=field.toLowerCase();\n    if(field==='filename'){\n      hasFilename=true;\n    } else if(field==='date'){\n      hasDate=true;\n      return false;\n    } else if(field==='image'){\n      hasImage=true;\n      return false;\n    } else if(field==='images'){\n      hasImage=true;\n      return false;\n    } else if(field==='fileid'){\n      hasFileid=true;\n    } else if(field==='contentid'){\n      hasContentid=true;\n    } else if(field==='contenthistid'){\n      hasContenthistid=true;\n    } else if(field==='parentid'){\n      hasParentid=true;\n    } \n    return true;\n  });\n\n  //There is no generic date field.  If selected these are the options\n  if(hasDate){\n    if(!hasReleaseDate){\n      fieldarray.push('releasedate');\n    } \n    if(!hasLastUpdate){\n      fieldarray.push('lastupdate');\n    }\n    if(!hasCreated){\n      fieldarray.push('created');\n    }\n  }\n  if(hasImage){\n    if(!hasFileid){\n      fieldarray.push('fileid');\n    }\n    fieldarray.push('images');\n  }\n  if(!hasFilename){\n    fieldarray.push('filename');\n  }\n  if(!hasContentid){\n    fieldarray.push('contentid');\n  }\n  if(!hasContenthistid){\n    fieldarray.push('contenthistid');\n  }\n  if(!hasParentid){\n    fieldarray.push('parentid');\n  }\n  return fieldarray.join(',').toLowerCase();\n}\n\n\nexport default Collection;","import { getMura} from '@murasoftware/next-core';\nimport React, {useState,useEffect} from \"react\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons'\nimport { faChevronLeft } from '@fortawesome/free-solid-svg-icons'\n\nconst CollectionNav = (props) => {\n\t /* \n    In new development you should use this. \n    const { Mura } = props; \n\n    This pattern is for legacy support \n    const Mura = props.Mura || getMura();\n  */\n\tconst Mura=props.Mura || getMura();\n\tlet nav = [];\n\tconst {collection,setCollection,pos,nextn,setPos,scrollpages,instanceid,itemsTo,setItemsTo,setPage} = props;\n\n\tif(Mura.renderMode == 'static'){\n\t\tconst items = collection.get('items');\n\t\tconst maxItems = props.maxitems;\n\t\tconst next = pos+nextn;\n\t\tconst prev = pos > 0 ? pos-nextn > 0 ? pos-nextn : 0 : 0;\n\t\tlet itemsOf = pos+nextn > items.length ? items.length : pos+nextn;\n\t\tlet itemsToMax = items.length >= maxItems ? maxItems : items.length\n\t\t\n\t\tif (maxItems < items.length && pos+nextn > maxItems){\n\t\t\titemsToMax = maxItems;\n\t\t}\n\n\t\tif(scrollpages){\n\t\t\tif(Mura.isInNode()){\n\t\t\t\tconst isEndVisible = () => {\n\t\t\t\t\tconst end=Mura(`div.mura-collection-end[data-instanceid=\"${instanceid}\"]`);\n\t\t\t\t\tif(itemsTo  && maxItems && Mura.isScrolledIntoView(end.node)){\n\t\t\t\t\t\tif(itemsTo < (maxItems)){\n\t\t\t\t\t\t\tsetItemsTo(itemsTo+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(itemsTo < (maxItems)){\n\t\t\t\t\t\tsetTimeout(isEndVisible,50);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tMura(isEndVisible);\n\t\t\t}\t\t\n\n\t\t\treturn (\n\t\t\t\t<div className=\"mura-collection-end\" data-instanceid={instanceid}/>\n\t\t\t)\n\t\t}\n\n\t\tif(pos > 0) {\n\t\t\tnav.push (\n\t\t\t<NavButton key=\"prev\" pos={pos} val={prev} onItemClick={setPos} label=\"Prev\"/>\n\t\t\t)\n\t\t}\n\t\t\n\t\tif(next<itemsToMax) {\n\t\t\tnav.push (\n\t\t\t<NavButton key=\"next\" pos={pos} val={next} onItemClick={setPos} label=\"Next\"/>\n\t\t\t)\n\t\t}\n\t\t\n\t\tif(nav.length){\n\t\t\treturn (\n\t\t\t<div>\n\t\t\t\t<p>Displaying items {pos+1}-{itemsOf} of {itemsToMax}</p>\n\t\t\t\t<ul className=\"pagination\">\n\t\t\t\t\t{nav}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\n\t} else {\n\n\t\tif(\n\t\t\t((typeof scrollpages === 'boolean' || typeof scrollpages === 'number') && scrollpages)\n\t\t\t|| ( typeof scrollpages === 'string' && scrollpages.toLocaleLowerCase() === 'true' )\n\t\t){\t\n\n\t\t\tconst [endindex,setEndindex]=useState(0);\n\t\n\t\t\tconst isEndVisible = () => {\n\t\t\t\tconst end=Mura(`div.mura-collection-end[data-instanceid=\"${instanceid}\"]`);\n\t\t\t\tif(collection.has('next')){\n\t\t\t\t\tif(Mura.isScrolledIntoView(end.node) &&  endindex != collection.get('endindex')){\n\t\t\t\t\t\tsetEndindex(collection.get('endindex'));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetTimeout(isEndVisible,50);\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tuseEffect(()=>{\n\t\t\t\tlet isMounted = true;\n\t\t\t\tif(isMounted){\n\t\t\t\t\tcollection.get('next').then(function(_collection){\n\t\t\t\t\t\tlet incoming=_collection.getAll();\n\n\t\t\t\t\t\tcollection.getAll().items.reverse().forEach((item)=>{\n\t\t\t\t\t\t\tincoming.items.unshift(item);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsetCollection(new Mura.EntityCollection(incoming,Mura._requestcontext));\n\t\t\t\t\t\tsetTimeout(isEndVisible,50);\n\t\t\t\t\t});\t\n\t\t\t\t}\n\t\t\t\treturn () => { isMounted = false };\n\t\t\t},[endindex]);\n\n\t\t\tif(!Mura.isInNode()){\t\t\t\t\n\t\t\t\tMura(isEndVisible);\n\t\t\t}\n\t\t\t\t\n\t\t\treturn (\n\t\t\t\t<div className=\"mura-collection-end\" data-instanceid={instanceid}/>\n\t\t\t)\n\t\t} else {\n\n\t\t\tconst goToPage = function(page){\n\t\t\t\tlet isMounted = true;\n\t\t\t\tif(isMounted){\n\t\t\t\t\tcollection.get(page).then(function(_collection){\n\t\t\t\t\t\tif(isMounted){\n\t\t\t\t\t\t\tsetCollection(_collection);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn () => { isMounted = false };\n\t\t\t}\n\n\t\t\tif(collection.has('previous')) {\n\t\t\t\tnav.push (\n\t\t\t\t<NavButton key=\"prev\" val=\"previous\" onItemClick={goToPage} label=\"Prev\"/>\n\t\t\t\t)\n\t\t\t}\n\t\t\t\n\t\t\tif(collection.has('next')) {\n\t\t\t\tnav.push (\n\t\t\t\t<NavButton key=\"next\" val=\"next\" onItemClick={goToPage} label=\"Next\"/>\n\t\t\t\t)\n\t\t\t}\n\n\t\t}\n\n\t\tif(nav.length){\n\t\t\treturn (\n\t\t\t<div>\n\t\t\t\t<p>Displaying items {collection.get('startindex')}-{collection.get('endindex')} of {collection.get('totalitems')}</p>\n\t\t\t\t<ul className=\"pagination\">\n\t\t\t\t\t{nav}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t}\n\n  }\n  \n  const NavButton = props => {\n\tlet {val,onItemClick} = props;\n  \n\tconst _onClick = () => {\n\t  onItemClick(val);\n\t}\n\n\t\n\treturn (\n\t  <li className=\"page-item\">\n\t  \t<a onClick={_onClick} className=\"page-link\" aria-label={props.label}><NavButtonLabel label={props.label} /></a>\n\t  </li>\n\t)\n  }\n\n  const NavButtonLabel = props => {\n\tif (props.label == 'Next'){\n\t\treturn(\n\t\t\t<>\n\t\t\t\t{props.label} <FontAwesomeIcon icon={faChevronRight} />\n\t\t  \t</>\n\t\t)\n\t} else {\n\t\treturn(\n\t\t\t<>\n\t\t\t\t<FontAwesomeIcon icon={faChevronLeft} /> {props.label}\n\t\t  \t</>\n\t\t)\n\t}\n  }\n  \n  export default CollectionNav;","import React,{ useEffect,useState } from \"react\";\nimport OutputMarkup from \"./OutputMarkup\";\nimport CollectionNav from './CollectionNav';\nimport { getMura } from '@murasoftware/next-core';\n\nconst CollectionLayout = ({props,collection,setCollection,link}) => {\n  const {nextn} = props;\n  const items = collection.get('items');\n  const [pos, setPos] = useState(0);\n  const [itemsTo,setItemsTo]= useState((pos+nextn > items.length ? items.length : pos+nextn));\n\n  useEffect(()=>{\n    setItemsTo((pos+nextn > items.length ? items.length : pos+nextn));\n  },[pos]);\n  \n  return (\n    <div>\n      <ul style={{'listStyle': 'none'}}>\n        <CurrentItems collection={collection}  itemsTo={itemsTo} pos={pos} link={link} {...props} />\n      </ul>\n      <CollectionNav setCollection={setCollection} collection={collection}  itemsTo={itemsTo}  setItemsTo={setItemsTo} pos={pos} setPos={setPos} link={link} {...props} />   \n    </div>\n  )\n}\n\nconst CurrentItems = (props) => {\n  const {collection,link,pos,itemsTo,scrollpages} = props;\n  let itemsList = [];\n  let item = '';\n  const Link = link;\n  const items = collection.get('items');\n\n  if(getMura().renderMode != 'static' && scrollpages){\n    itemsTo=items.length;\n  } else {\n    if (maxItems < items.length && pos+nextn > maxItems){\n      itemsTo = maxItems;\n    }\n  }\n\n  for(let i = pos;i < itemsTo;i++) {\n    item = items[i];\n    itemsList.push(\n    <li key={item.get('contentid')}>\n        <h1>\n          <Link href={`/${item.get('filename')}`}>\n            {item.get('title')}\n          </Link>\n        </h1>\n        <OutputMarkup source={item.get('summary')}/>\n    </li>\n    );\n  }\n\n  return itemsList;\n}\n\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = () => {\n  const data = {};\n  \n  /*\n    You wouldn't really need to set this because\n    both of these are available in the default field list\n  */\n  data['fields'] = \"title,summary\";\n\n  return data;\n};\n\nexport default CollectionLayout;","\nimport React from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons'\n\nconst CollectionReadMoreBtn = (props) => {\n    const Link = props.link;\n    return (\n        <Link href={props.href} passHref className=\"stretched-link btn btn-primary\">{props.ctatext}  <FontAwesomeIcon icon={faChevronRight} /></Link>\n    )\n  }\n\nexport default CollectionReadMoreBtn;","import React from 'react';\n\nexport const ItemImage = function ({image,className,alt}){\n    const itemImage = image;\n    if(typeof itemImage != 'undefined' && itemImage){\n        return(\n            <img\n                src={itemImage}\n                alt={alt}\n                className={className}\n            />\n        )\n    }\n    return null;\n}\n\nexport default ItemImage;","import React, { useState } from \"react\";\nimport OutputMarkup from \"./OutputMarkup\";\nimport CollectionNav from './CollectionNav';\nimport ItemDate from './ItemDate';\nimport Accordion from \"react-bootstrap/Accordion\";\nimport Card from \"react-bootstrap/Card\";\nimport CollectionReadMoreBtn from \"./CollectionReadMoreBtn\";\nimport ItemCredits from './ItemCredits';\nimport ItemTags from './ItemTags';\nimport ItemImage from './ItemImage';\nimport { getMura } from '@murasoftware/next-core';\n/*\n  The link component throws an error when rerending after being \n  reconfigured in edit mode. Hence CollectionLink\n*/\n\nexport const CollectionLayoutAccordian = ({props,collection,setCollection,link}) => {\n  const [pos, setPos] = useState(0);\n  return (\n    <>\n      <Accordion className={`collectionLayoutAccordion ${props.accordionpadding}-spacing ${props.collapseindicators} ${props.collapseindicatorslocation}-indicator`}>\n        <CurrentItems collection={collection} pos={pos} link={link} {...props} /> \n      </Accordion>\n\n      <div className=\"row\">\n        <div className=\"col-12\">\n        <CollectionNav setCollection={setCollection} collection={collection} pos={pos} setPos={setPos} link={link} {...props} />\n        </div>\n      </div>\n    </>\n  )\n}\n\nconst CurrentItems = (props) => {\n  const {collection,nextn,link,pos,fields,scrollpages} = props;\n  let itemsList = [];\n  let item = '';\n  const Link = link;\n  const items = collection.get('items');\n  let itemsTo = pos+nextn > items.length ? items.length : pos+nextn;\n  const fieldlist = fields ? fields.toLowerCase().split(\",\") : [];\n  const maxItems = props.maxitems;\n  // console.log('fieldlist: ' + fieldlist);\n\n  if(getMura().renderMode != 'static' && scrollpages){\n    itemsTo=items.length;\n  } else {\n    if (maxItems < items.length && pos+nextn > maxItems){\n      itemsTo = maxItems;\n    }\n  }\n\n  const [activeId, setActiveId] = useState('0');\n\n  function toggleActive(id) {\n    if (activeId === id) {\n      setActiveId(null);\n    } else {\n      setActiveId(id);\n    }\n  }\n\n  // console.log(fieldlist);\n  //console.log(\"image size: \" + props.imagesize);\n\n  for(let i = pos;i < itemsTo;i++) {\n    item = items[i];\n    itemsList.push(\n      <Card key={item.get('contentid')}>\n        <Accordion.Toggle as={Card.Header} variant=\"link\" eventKey={item.get('contentid')} className={activeId === i ? 'open' : 'not-open'} onClick={() => toggleActive(i)} role=\"button\">\n          {item.get('title')}\n        </Accordion.Toggle>\n        <Accordion.Collapse eventKey={item.get('contentid')}>\n          <Card.Body>\n            {\n                fieldlist.map(field => {\n                  switch(field) {\n                    case \"image\":\n                        return(\n                          <ItemImage image={item.get('images')[props.imagesize]} className=\"img-fluid\" alt={item.get('title')} key=\"image\" />\n                        );\n                    case \"date\":\n                    case \"releasedate\":\n                        return (\n                          <div className=\"mura-item-meta__date\" key={field}>\n                            <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                          </div>\n                        );\n                    case \"summary\":\n                      return <OutputMarkup source={item.get('summary')} key={field} />\n                    case \"readmore\":\n                          return (\n                            <CollectionReadMoreBtn\n                              href={`/${item.get('filename')}`}\n                              ctatext=\"Read More\"\n                              link={Link}\n                              key={field}\n                            />\n                          )\n                    case \"credits\":\n                        if(item.get('credits').length){\n                          return (\n                            <div className=\"mura-item-meta__credits\">\n                              <ItemCredits credits={item.get('credits')} key=\"credits\" />\n                            </div>\n                          );\n                        }\n                        return null;\n                    case \"tags\":\n                        return (\n                            <div className=\"mura-item-meta__tags pb-2\" key=\"tags\">\n                              <ItemTags tags={item.get('tags')} />\n                            </div>\n                        );\n                    default:\n                      return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n                  }        \n                })\n            }\n          </Card.Body>\n        </Accordion.Collapse>\n      </Card>\n    );\n  }\n\n  return itemsList;\n}\n\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = () => {\n  const data = {};\n  data['fields'] = \"title,summary\";\n\n  return data;\n};\n\nexport default CollectionLayoutAccordian;","import React, { useState } from \"react\";\nimport Card from 'react-bootstrap/Card';\nimport OutputMarkup from \"./OutputMarkup\";\nimport CollectionNav from './CollectionNav';\nimport ItemDate from './ItemDate';\nimport CollectionReadMoreBtn from \"./CollectionReadMoreBtn\";\nimport ItemCredits from './ItemCredits';\nimport ItemTags from './ItemTags';\nimport { getMura } from '@murasoftware/next-core';\n\n/*\n  The link component throws an error when rerending after being \n  reconfigured in edit mode. Hence CollectionLink\n*/\nconst AlternatingBoxes = ({props,collection,setCollection,link}) => {\n  const [pos, setPos] = useState(0);\n  return (\n    <>\n      <div className=\"collectionLayoutAlternatingBoxes\">\n          <CurrentItems collection={collection} pos={pos} link={link} {...props} /> \n      </div>\n      <div className=\"row\">\n        <div className=\"col-12\">\n        <CollectionNav setCollection={setCollection} collection={collection} pos={pos} setPos={setPos} link={link} {...props} />\n        </div>\n      </div>\n    </>\n  )\n}\n\nconst CurrentItems = (props) => {\n  const {collection,nextn,link,pos,fields,scrollpages} = props;\n  let itemsList = [];\n  let item = '';\n  const Link = link;\n  const items = collection.get('items');\n  let itemsTo = pos+nextn > items.length ? items.length : pos+nextn;\n  const fieldlist = fields ? fields.toLowerCase().split(\",\") : [];\n  const maxItems = props.maxitems;\n  // console.log('fieldlist: ' + fieldlist);\n\n  if(getMura().renderMode != 'static' && scrollpages){\n    itemsTo=items.length;\n  } else {\n    if (maxItems < items.length && pos+nextn > maxItems){\n      itemsTo = maxItems;\n    }\n  }\n  \n  for(let i = pos;i < itemsTo;i++) {\n    item = items[i];\n    itemsList.push(\n\n      <Card className=\"border-0\" key={item.get('contentid')}>\n        <div className=\"row no-gutters align-items-stretch\">\n          <div className={`col-12 col-md-6 ${i % 2 == 0 ? \"card-img-left\" : \"card-img-right  order-md-2\"}`}>\n            <Card.Img variant=\"top\" src={item.get('images')[props.imagesize]} className=\"rounded-0\" />\n          </div>\n          <div className=\"col-12 col-md-6 p-0\">\n            <Card.Body className=\"spacing-normal h-100\">\n              <div className=\"mura-item-meta\">\n                {\n                fieldlist.map(field => {\n                  switch(field) {\n                    case \"title\":\n                      return (\n                        <Card.Title key={field}>{item.get('title')}</Card.Title>\n                      )\n                    case \"date\":\n                    case \"releasedate\":\n                        return (\n                          <div className=\"mura-item-meta__date\" key=\"date\">\n                            <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                          </div>\n                        );\n                    case \"summary\":\n                      return <OutputMarkup source={item.get('summary')} key={field} />\n                    case \"readmore\":\n                      return(\n                        <CollectionReadMoreBtn\n                          href={`/${item.get('filename')}`}\n                          ctatext=\"Read More\"\n                          link={Link}\n                          key={item.get('contentid')}\n                        />\n                      );\n                    case \"credits\":\n                        if(item.get('credits').length){\n                          return (\n                            <div className=\"mura-item-meta__credits\">\n                              <ItemCredits credits={item.get('credits')} key=\"credits\" />\n                            </div>\n                          );\n                        }\n                        return null;\n                    case \"tags\":\n                        return (\n                            <div className=\"mura-item-meta__tags pb-2\" key=\"tags\">\n                              <ItemTags tags={item.get('tags')} />\n                            </div>\n                        );\n                    default:\n                      return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n                  }        \n                })\n                }\n                {\n                  !fieldlist.includes('readmore') &&\n                    <Link href={`/${item.get('filename')}`} className=\"stretched-link\"></Link>\n                }\n              </div>\n            </Card.Body>\n          </div>\n        </div>\n      </Card>\n    );\n  }\n\n  return itemsList;\n}\n\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = () => {\n  const data = {};\n  data['fields'] = \"title,summary\";\n\n  return data;\n};\n\nexport default AlternatingBoxes;","import React, { useState } from \"react\";\nimport Card from 'react-bootstrap/Card';\nimport OutputMarkup from \"./OutputMarkup\";\nimport CollectionNav from './CollectionNav';\nimport ItemDate from './ItemDate';\nimport CollectionReadMoreBtn from './CollectionReadMoreBtn';\nimport ItemCredits from './ItemCredits';\nimport ItemTags from './ItemTags';\nimport { getMura } from '@murasoftware/next-core';\n/*\n  The link component throws an error when rerending after being \n  reconfigured in edit mode. Hence CollectionLink\n*/\nconst AlternatingRows = ({props,collection,setCollection,link}) => {\n  const [pos, setPos] = useState(0);\n  return (\n    <>\n      <div className=\"collectionLayoutAlternatingBoxes\">\n          <CurrentItems collection={collection} pos={pos} link={link} {...props} /> \n      </div>\n      <div className=\"row\">\n        <div className=\"col-12\">\n        <CollectionNav setCollection={setCollection} collection={collection} pos={pos} setPos={setPos} link={link} {...props} />\n        </div>\n      </div>\n    </>\n  )\n}\n\nconst CurrentItems = (props) => {\n  const {collection,nextn,link,pos,fields,scrollpages} = props;\n  let itemsList = [];\n  let item = '';\n  const Link = link;\n  const items = collection.get('items');\n  let itemsTo = pos+nextn > items.length ? items.length : pos+nextn;\n  const fieldlist = fields ? fields.toLowerCase().split(\",\") : [];\n  const maxItems = props.maxitems;\n  // console.log('fieldlist: ' + fieldlist);\n\n  if(getMura().renderMode != 'static' && scrollpages){\n    itemsTo=items.length;\n  } else {\n    if (maxItems < items.length && pos+nextn > maxItems){\n      itemsTo = maxItems;\n    }\n  }\n  \n  for(let i = pos;i < itemsTo;i++) {\n    item = items[i];\n    itemsList.push(\n    \n    <div className=\"mb-4\" key={item.get('contentid')}>\n      <Card className=\"mb-3 h-100 shadow\">\n        <div className=\"row no-gutters align-items-stretch\">\n          <div className={`col-12 col-md-6 ${i % 2 == 0 ? \"card-img-left\" : \"card-img-right  order-md-2\"}`}>\n            <Card.Img variant=\"top\" src={item.get('images')[props.imagesize]} />\n          </div>\n          <div className=\"col-12 col-md-6 p-0\">\n            <Card.Body className=\"spacing-normal h-100\">\n              <div className=\"mura-item-meta\">\n                {\n                fieldlist.map(field => {\n                  switch(field) {\n                    case \"title\":\n                      return (\n                        <Card.Title key={field}>{item.get('title')}</Card.Title>\n                      )\n                    case \"date\":\n                    case \"releasedate\":\n                        return (\n                          <div className=\"mura-item-meta__date\" key=\"date\">\n                            <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                          </div>\n                        );\n                    case \"summary\":\n                      return <OutputMarkup source={item.get('summary')} key={field} />\n                    case \"readmore\":\n                      return(\n                        <CollectionReadMoreBtn\n                          href={`/${item.get('filename')}`}\n                          ctatext=\"Read More\"\n                          link={Link}\n                          key={item.get('contentid')}\n                        />\n                      );\n                    case \"credits\":\n                        if(item.get('credits').length){\n                          return (\n                            <div className=\"mura-item-meta__credits\">\n                              <ItemCredits credits={item.get('credits')} key=\"credits\" />\n                            </div>\n                          );\n                        }\n                        return null;\n                    case \"tags\":\n                        return (\n                            <div className=\"mura-item-meta__tags pb-2\" key=\"tags\">\n                              <ItemTags tags={item.get('tags')} />\n                            </div>\n                        );\n                    default:\n                      return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n                  }        \n                })\n                }\n                {\n                  !fieldlist.includes('readmore') &&\n                    <Link href={`/${item.get('filename')}`} className=\"stretched-link\"></Link>\n                }\n              </div>\n            </Card.Body>\n          </div>\n        </div>\n      </Card>\n    </div>\n    );\n  }\n\n  return itemsList;\n}\n\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = () => {\n  const data = {};\n  data['fields'] = \"title,summary\";\n\n  return data;\n};\n\nexport default AlternatingRows;","import React from \"react\";\n\nexport const ItemCategories = (props) => {\n    const Categories = props.categories;\n    let catsList = [];\n    let cat = '';\n    let cats = Categories.items;\n    let Featuredonly = 0;\n    let hasnext = false;\n    const Parentcatname = props.parentcatname;\n\n    if (props.featuredonly == \"yes\"){\n        Featuredonly = 1;\n    }\n    // console.log('Featuredonly: ', Featuredonly);\n\n    //filter for featured categories\n    if(cats.length > 1 && Featuredonly){\n        const filteredCats = cats.filter(category => category.isfeature == 1);\n        if(filteredCats.length > 1){\n            cats = filteredCats[0];\n        } else {\n            cats = filteredCats;\n        }        \n    }\n    \n\n    if (cats && cats.length){\n        let catsTo = cats.length;\n\n        for(let i = 0;i < catsTo;i++) {\n          cat = cats[i];\n          hasnext = i+1 < catsTo;\n          \n          catsList.push(\n              <span key={cat.categoryid}>{cat.categoryname}{hasnext && `, ` }</span>\n          ) \n        }\n    }\n    return catsList\n}\n\nexport default ItemCategories;","import React from 'react';\n\nfunction CheckForItems() {\n    return(\n        <div className=\"alert alert-warning\">No results to display.</div>\n    )\n}\n\nexport default CheckForItems;","import React, { useState } from \"react\";\nimport Card from 'react-bootstrap/Card';\nimport OutputMarkup from \"./OutputMarkup\";\nimport CollectionNav from './CollectionNav';\nimport ItemDate from './ItemDate';\nimport CollectionReadMoreBtn from './CollectionReadMoreBtn';\nimport ItemCategories from './ItemCategories';\nimport NoItemsMessage from './NoItemsMessage';\nimport { getMura } from '@murasoftware/next-core';\n\nconst Cards = ({props,collection,setCollection,link}) => {\n  const [pos, setPos] = useState(0);\n  if (!collection.properties.totalpages){\n    return(\n      <NoItemsMessage />\n    )\n  }\n  return (\n    <>\n      <div className={`row collectionLayoutCards row-cols-1 row-cols-sm-${props.rowcolssm} row-cols-md-${props.rowcolsmd} row-cols-lg-${props.rowcolslg} row-cols-xl-${props.rowcolsxl}`}>\n          <CurrentItems collection={collection} pos={pos} link={link} {...props} /> \n      </div>\n      <div className=\"row\">\n        <div className=\"col-12\">\n        <CollectionNav setCollection={setCollection} collection={collection} pos={pos} setPos={setPos} link={link} {...props} />\n        </div>\n      </div>\n    </>\n  )\n}\n\nconst CurrentItems = (props) => {\n  const {collection,nextn,link,pos,fields,scrollpages} = props;\n\n  let itemsList = [];\n  let item = '';\n  const Link = link;\n  const items = collection.get('items');\n  let itemsTo = pos+nextn > items.length ? items.length : pos+nextn;\n  const fieldlist = fields ? fields.toLowerCase().split(\",\") : [];\n  const maxItems = props.maxitems;\n  let catAssignments = [];\n\n  if(getMura().renderMode != 'static' && scrollpages){\n    itemsTo=items.length;\n  } else {\n    if (maxItems < items.length && pos+nextn > maxItems){\n      itemsTo = maxItems;\n    }\n  }\n\n  for(let i = pos;i < itemsTo;i++) {\n    item = items[i];\n    catAssignments = item.getAll().categoryassignments;\n    \n    itemsList.push(    \n    <div className=\"col mb-4\" key={item.get('contentid')}>\n      <Card className=\"mb-3 h-100 shadow\">\n        {\n          fieldlist.filter(field => field == 'image').map(filteredField => (\n            <Card.Img variant=\"top\" src={item.get('images')[props.imagesize]} key={item.get('fileid')} />\n          ))\n        }\n        <Card.Body>\n          <div className=\"mura-item-meta\">\n            {\n            fieldlist.map(field => {\n              switch(field) {\n                case \"title\":\n                  return (\n                    <Card.Title key={field}>{item.get('title')}</Card.Title>\n                  )\n                case \"date\":\n                case \"releasedate\":\n                    return (\n                      <div className=\"mura-item-meta__date\" key={`date${item.get('contentid')}`}>\n                        <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                      </div>\n                    );\n                case \"summary\":\n                  return <OutputMarkup source={item.get('summary')} key={field} />\n                case \"readmore\":\n                  return null\n                default:\n                  return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n              }        \n            })\n            }\n          </div>\n          {\n            !fieldlist.includes('readmore') &&\n              <Link href={`/${item.get('filename')}`} className=\"stretched-link\"></Link>\n          }\n        </Card.Body>\n        {(fieldlist.includes('readmore') || (catAssignments && props.showcategories)) &&\n        <Card.Footer>\n        {\n          fieldlist.includes('readmore') &&\n            <CollectionReadMoreBtn\n              href={`/${item.get('filename')}`}\n              ctatext=\"Read More\"\n              link={Link}\n              key={item.get('contentid')}\n            />\n        }       \n          \n          {catAssignments && props.showcategories &&\n            <>\n              <hr />\n              <Card.Text key=\"categories\">\n                <ItemCategories \n                  categories={catAssignments}\n                  featuredonly={props.featuredcategoriesonly}\n                />\n              </Card.Text>\n            </>\n          }\n        </Card.Footer>\n        }\n      </Card>\n    </div>\n    );\n  }\n  return itemsList;\n}\n\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = () => {\n  const data = {};\n  data['fields'] = \"title,summary\";\n\n  return data;\n};\n\nexport default Cards;","import React, { useState } from \"react\";\nimport OutputMarkup from \"./OutputMarkup\";\nimport CollectionNav from './CollectionNav';\nimport ItemDate from './ItemDate';\nimport CollectionReadMoreBtn from './CollectionReadMoreBtn';\nimport ItemCredits from './ItemCredits';\nimport ItemTags from './ItemTags';\nimport ItemImage from './ItemImage';\nimport { getMura } from '@murasoftware/next-core';\n\n/*\n  The link component throws an error when rerending after being \n  reconfigured in edit mode. Hence CollectionLink\n*/\nconst List = ({props,collection,setCollection,link}) => {\n  const [pos, setPos] = useState(0);\n  return (\n    <div className=\"collectionLayoutList\">\n      <CurrentItems collection={collection} pos={pos} link={link} {...props} /> \n      \n      <div className=\"row\">\n        <div className=\"col-12\">\n        <CollectionNav setCollection={setCollection} collection={collection} pos={pos} setPos={setPos} link={link} {...props} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst CurrentItems = (props) => {\n  const {collection,nextn,link,pos,fields,scrollpages} = props;\n  let itemsList = [];\n  let item = '';\n  const Link = link;\n  const items = collection.get('items');\n  let itemsTo = pos+nextn > items.length ? items.length : pos+nextn;\n  const fieldlist = fields ? fields.toLowerCase().split(\",\") : [];\n  const maxItems = props.maxitems;\n  console.log('itemsTo', itemsTo);\n  console.log('pos', pos);\n  \n  if(getMura().renderMode != 'static' && scrollpages){\n    itemsTo=items.length;\n  } else {\n    if (maxItems < items.length && pos+nextn > maxItems){\n      itemsTo = maxItems;\n    }\n  }\n  \n  for(let i = pos;i < itemsTo;i++) {\n    item = items[i];\n    // console.log(item);\n\n    itemsList.push(\n      <div className=\"row mb-3\" key={item.get('contentid')}>\n        <ListImage fieldlist={fieldlist} item={item} imagesize={props.imagesize} />\n        <ListMeta fieldlist={fieldlist} item={item} Link={Link} />\n      </div>\n    );\n  }\n\n  return itemsList;\n}\n\nconst ListImage = (props) => {\n  const {fieldlist, item} = props;\n\n  let hasImage = false;\n  if (fieldlist.indexOf(\"image\") > -1) {\n    hasImage = true;\n  }\n  if(hasImage) {\n    const imagesize= props.imagesize || 'medium';\n    return(\n      <div className=\"col-12 col-md-3 mb-3 pr-md-0\">\n          <ItemImage image={item.get('images')[imagesize]} className=\"img-fluid\" alt={item.get('title')} key=\"image\" />\n      </div>\n    )  \n  }\n  return(\n    <></>\n  )\n}\n\nconst ListMeta = (props) => {\n  const {fieldlist, item, Link} = props;\n\n  let hasImage = false;\n  if (fieldlist.indexOf(\"image\") > -1) {\n    hasImage = true;\n  }\n\n  let isLink = false;\n  if (item.get('type') === \"Link\") {\n    isLink = true;\n  }\n  // console.log(item.get('type'));\n  return(\n    <div className={hasImage ? 'col-12 col-md-9 py-3' : 'col-12 py-3'}>\n        <div className=\"mura-item-meta\">\n        {\n            fieldlist.map(field => {\n              switch(field) {\n                case \"title\":\n                  return (\n                    <div className=\"mura-item-meta__title\" key={item.get('field')}>\n                      <h3>{item.get('title')}</h3>\n                    </div>\n                  )\n                case \"date\":\n                case \"releasedate\":\n                    return (\n                      <div className=\"mura-item-meta__date\" key=\"date\">\n                        <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                      </div>\n                    );\n                case \"summary\":\n                  return <OutputMarkup source={item.get('summary')} key={field} />\n                case \"readmore\":\n                      return (\n                        <div className=\"mura-item-meta__readmore\" key={field}>\n                          <CollectionReadMoreBtn\n                            href={`/${item.get('filename')}`}\n                            ctatext=\"Read More\"\n                            link={Link}\n                            key={item.get('contentid')}\n                          />\n                        </div>\n                      )\n                case \"credits\":\n                    if(item.get('credits').length){\n                      return (\n                        <div className=\"mura-item-meta__credits\">\n                          <ItemCredits credits={item.get('credits')} key=\"credits\" />\n                        </div>\n                      );\n                    }\n                    return null;\n                case \"tags\":\n                    return (\n                        <div className=\"mura-item-meta__tags pb-2\" key=\"tags\">\n                          <ItemTags tags={item.get('tags')} />\n                        </div>\n                    );\n                default:\n                  return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n              }        \n            })\n        }\n        {\n          !fieldlist.includes('readmore') &&\n            <Link href={`/${item.get('filename')}`} className=\"stretched-link\"></Link>\n        }\n        </div>\n      </div>\n  )\n}\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = (item) => {\n  const data = {};\n  data['fields'] = \"\";\n\n  return data;\n};\n\nexport default List;","import React, { useState } from \"react\";\nimport Card from 'react-bootstrap/Card';\nimport OutputMarkup from \"./OutputMarkup\";\nimport CollectionNav from './CollectionNav';\nimport ItemDate from './ItemDate';\nimport CollectionReadMoreBtn from './CollectionReadMoreBtn';\nimport ItemCredits from './ItemCredits';\nimport ItemTags from './ItemTags';\nimport { getMura } from '@murasoftware/next-core';\n\n/*\n  The link component throws an error when rerending after being \n  reconfigured in edit mode. Hence CollectionLink\n*/\nconst Masonry = ({props,collection,setCollection,link}) => {\n  const [pos, setPos] = useState(0);\n  return (\n    <>\n      <div className={`collectionLayoutMasonry card-columns`}>\n          <CurrentItems collection={collection} pos={pos} link={link} {...props} /> \n      </div>\n      <div className=\"row\">\n        <div className=\"col-12\">\n        <CollectionNav setCollection={setCollection} collection={collection} pos={pos} setPos={setPos} link={link} {...props} />\n        </div>\n      </div>\n    </>\n  )\n}\n\nconst CurrentItems = (props) => {\n  const {collection,nextn,link,pos,fields,scrollpages} = props;\n  let itemsList = [];\n  let item = '';\n  const Link = link;\n  const items = collection.get('items');\n  let itemsTo = pos+nextn > items.length ? items.length : pos+nextn;\n  const fieldlist = fields ? fields.toLowerCase().split(\",\") : [];\n  const maxItems = props.maxitems;\n  // console.log('fieldlist: ' + fieldlist);\n\n  if(getMura().renderMode != 'static' && scrollpages){\n    itemsTo=items.length;\n  } else {\n    if (maxItems < items.length && pos+nextn > maxItems){\n      itemsTo = maxItems;\n    }\n  }\n  \n  for(let i = pos;i < itemsTo;i++) {\n    item = items[i];\n    itemsList.push(\n      \n      <Card className=\"mb-3 h-100 shadow\" key={item.get('contentid')}>\n        {\n          fieldlist.filter(field => field == 'image').map(filteredField => (\n            <Card.Img variant=\"top\" src={item.get('images')[props.imagesize]} key={item.get('fileid')} />\n          ))\n        }\n        <Card.Body>\n          <div className=\"mura-item-meta\">\n            {\n            fieldlist.map(field => {\n              switch(field) {\n                case \"title\":\n                  return (\n                    <Card.Title key={field}>{item.get('title')}</Card.Title>\n                  )\n                case \"date\":\n                case \"releasedate\":\n                    return (\n                      <div className=\"mura-item-meta__date\" key=\"date\">\n                        <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                      </div>\n                    );\n                case \"summary\":\n                  return <OutputMarkup source={item.get('summary')} key={field} />\n                case \"credits\":\n                    if(item.get('credits').length){\n                      return (\n                        <div className=\"mura-item-meta__credits\">\n                          <ItemCredits credits={item.get('credits')} key=\"credits\" />\n                        </div>\n                      );\n                    }\n                    return null;\n                case \"tags\":\n                    return (\n                        <div className=\"mura-item-meta__tags pb-2\" key=\"tags\">\n                          <ItemTags tags={item.get('tags')} />\n                        </div>\n                    );\n                default:\n                  return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n              }        \n            })\n            }\n          </div>\n          {\n            !fieldlist.includes('readmore') &&\n              <Link href={`/${item.get('filename')}`} className=\"stretched-link\"></Link>\n          }\n        </Card.Body>\n        { fieldlist.includes('readmore') &&\n          <Card.Footer>\n            <CollectionReadMoreBtn\n              href={`/${item.get('filename')}`}\n              ctatext=\"Read More\"\n              link={Link}\n              key={item.get('contentid')}\n            />\n          </Card.Footer>\n        }\n\n      </Card>\n    );\n  }\n\n  return itemsList;\n}\n\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = () => {\n  const data = {};\n  data['fields'] = \"title,summary\";\n\n  return data;\n};\n\nexport default Masonry;","import React, { useState } from \"react\";\nimport Card from 'react-bootstrap/Card';\nimport OutputMarkup from \"./OutputMarkup\";\nimport ItemDate from './ItemDate';\nimport CollectionReadMoreBtn from './CollectionReadMoreBtn';\nimport ItemCredits from './ItemCredits';\nimport ItemTags from './ItemTags';\n\nimport Slider from \"react-slick\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronRight, faChevronLeft } from '@fortawesome/free-solid-svg-icons'\n/*\n  The link component throws an error when rerending after being \n  reconfigured in edit mode. Hence CollectionLink\n*/\n\nconst SlickSlider = ({props,collection,link}) => {\n\n  function CustomNextArrow(props) {\n    const { className, style, onClick } = props;\n    return (\n      <div\n        className={className}\n        onClick={onClick}\n      >\n        <FontAwesomeIcon icon={faChevronRight} />\n      </div>\n    );\n  }\n  \n  function CustomPrevArrow(props) {\n    const { className, style, onClick } = props;\n    return (\n      <div\n        className={className}\n        onClick={onClick}\n      >\n        <FontAwesomeIcon icon={faChevronLeft} />\n      </div>\n    );    \n  }  \n  \n  const slides = collection.map((item) => (\n      <SliderItem \n        sliderimage={item.get('images')[props.imagesize]}\n        imagesize={props.imagesize}\n        item={item}\n        link={link}\n        slidestoshow={Number(props.slidestoshow)}\n        {...props}\n        key={item.get('contentid')}\n      />\n  ))\n  \n  //console.log('slidesToShow: ' + props.slidestoshow + ' slidesToScroll: ' + props.slidestoscroll + ' objectID: ' + props.objectid);\n  // var slickSettings = {\n  //   dots: {props.dots},\n  //   arrows: {props.arrows},\n  //   infinite: {props.infinite},\n  //   speed: {Number(props.speed)},\n  //   slidesToShow:{Number(props.slidestoshow)},\n  //   slidesToScroll: {Number(props.slidestoshow)},\n  //   autoplay: {props.autoplay},\n  //   autoplaySpeed: {Number(props.autoplayspeed)},\n  //   lazyLoad: {props.lazyload},\n  //   vertical: {props.vertical},\n  //   verticalSwiping: {props.verticalswiping},\n  //   responsive={[\n  //     {\n  //       breakpoint: 0,\n  //       settings: {\n  //         slidesToShow: 1,\n  //         slidesToScroll: 1\n  //       }\n  //     },\n  //     {\n  //       breakpoint: 576,\n  //       settings: {\n  //         slidesToShow: 2,\n  //         slidesToScroll: 2\n  //       }\n  //     },\n  //     {\n  //       breakpoint: 992,\n  //       settings: {\n  //         slidesToShow: Number(props.slidestoshow),\n  //         slidesToScroll: Number(props.slidestoshow)\n  //       }\n  //     }\n  //   ]},\n  //   nextArrow: {<CustomNextArrow />},\n  //   prevArrow: {<CustomPrevArrow />}\n  // }\n  return (\n      slides != null && slides.length > 0 &&\n      <div className={`collectionLayoutSlickSlider ${props.sliderlayout}`}>\n        <Slider \n          dots={props.dots}\n          arrows={props.arrows}\n          infinite={props.infinite}\n          speed={Number(props.speed)}\n          slidesToShow={Number(props.slidestoshow)}\n          slidesToScroll={Number(props.slidestoshow)}\n          autoplay={props.autoplay}\n          autoplaySpeed={Number(props.autoplayspeed)}        \n          lazyLoad={props.lazyload}\n          vertical={props.vertical}\n          verticalSwiping={props.verticalswiping}\n          fade={props.fade}\n          centerMode={props.centermode}\n          centerPadding={props.centerpadding}\n          responsive={[\n            {\n              breakpoint: 0,\n              settings: {\n                slidesToShow: 1,\n                slidesToScroll: 1\n              }\n            },\n            {\n              breakpoint: 576,\n              settings: {\n                slidesToShow: 2,\n                slidesToScroll: 2\n              }\n            },\n            {\n              breakpoint: 992,\n              settings: {\n                slidesToShow: Number(props.slidestoshow),\n                slidesToScroll: Number(props.slidestoshow)\n              }\n            }\n          ]}\n          nextArrow={<CustomNextArrow />}\n          prevArrow={<CustomPrevArrow />}\n          key={props.objectid}\n        >\n        {slides}\n      </Slider>\n      </div>\n      // these are causing an error: slidesPerRow={props.slidesperrow} rows={props.rows} \n  )\n}\n\nconst SliderItem = (props) => {\n  const item = props.item;\n  const slidesToShow = props.slidesToShow;\n  const Link = props.link;\n  const fieldlist = props.fields ? props.fields.toLowerCase().split(\",\") : [];\n  // console.log('image size: ' + props.imagesize);\n  if (props.sliderlayout === 'banner') {//swith to props.layout\n    return(\n      <div key={item.get('contentid')} className=\"h-100 position-relative\">\n        <Link href={`/${item.get('filename')}`} passHref>\n          <img src={props.sliderimage} />\n        </Link>\n        <div className=\"mura-item-meta\">\n                {\n                fieldlist.map(field => {\n                  switch(field) {\n                    case \"title\":\n                      return (\n                        <div className=\"mura-item-meta__title\" key={field}>{item.get('title')}</div>\n                      )\n                    case \"date\":\n                    case \"releasedate\":\n                        return (\n                          <div className=\"mura-item-meta__date\" key={item.get('releasedate')}>\n                            <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                          </div>\n                        );\n                    case \"summary\":\n                      return <OutputMarkup className=\"mura-item-meta__summary\" source={item.get('summary')} key={field} />\n                    case \"readmore\":\n                      return(\n                        <div className=\"mura-item-meta__readmore\" key={item.get('contentid')}>\n                          <CollectionReadMoreBtn\n                            href={`/${item.get('filename')}`}\n                            ctatext=\"Read More\"\n                            link={Link}\n                            key={item.get('contentid')}\n                          />\n                        </div>\n                      );\n                    case \"credits\":\n                        if(item.get('credits').length){\n                          return (\n                            <div className=\"mura-item-meta__credits\">\n                              <ItemCredits credits={item.get('credits')} key=\"credits\" />\n                            </div>\n                          );\n                        }\n                        return null;\n                    case \"tags\":\n                        return (\n                            <div className=\"mura-item-meta__tags pb-2\" key=\"tags\">\n                              <ItemTags tags={item.get('tags')} />\n                            </div>\n                        );\n                    default:\n                      return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n                  }        \n                })\n                }\n              </div>\n      </div>\n    )\n  } else {\n    return(\n      <div className=\"mx-2 h-100\" key={props.contentid} >\n        <Card className=\"h-100\">\n          {\n            fieldlist.filter(field => field == 'image').map(filteredField => (\n              <Card.Img variant=\"top\" src={item.get('images')[props.imagesize]} key={filteredField} />\n            ))\n          }          \n          <Card.Body className=\"spacing-normal h-100\">\n              <div className=\"mura-item-meta\">\n                {\n                fieldlist.map(field => {\n                  switch(field) {\n                    case \"title\":\n                      return (\n                        <Card.Title key={field}>{item.get('title')}</Card.Title>\n                      )\n                    case \"date\":\n                    case \"releasedate\":\n                        return (\n                          <div className=\"mura-item-meta__date\" key=\"date\">\n                            <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                          </div>\n                        );\n                    case \"summary\":\n                      return <OutputMarkup source={item.get('summary')} key={field} />\n                    case \"readmore\":\n                      return(\n                        <CollectionReadMoreBtn\n                          href={`/${item.get('filename')}`}\n                          ctatext=\"Read More\"\n                          link={Link}\n                          key={item.get('contentid')}\n                        />\n                      );\n                    default:\n                      return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n                  }        \n                })\n                }\n              </div>\n            </Card.Body>\n        </Card>\n      </div>   \n    )\n  }\n\n  \n\n}\n\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = () => {\n  const data = {};\n  data['fields'] = \"title,summary\";\n\n  return data;\n};\n\nexport default SlickSlider;","import React, {useEffect} from 'react';\n\n// eslint-disable-next-line\nimport { getComponent } from '@murasoftware/next-core';\nimport { Decorator, getMura } from '@murasoftware/next-core';\n\nexport const Container = function(props) {\n  const { items,content,instanceid } = props;\n  const Mura = props.Mura || getMura();\n\n  // console.log('Container -> items', items);\n  // console.log('Container -> props', props);\n  if (!items) return '';\n\n  useEffect(() => {\n    Mura.displayObjectInstances=Mura.displayObjectInstances || {};\n    if(typeof Mura.displayObjectInstances[instanceid]=='undefined'){\n      Mura.displayObjectInstances[instanceid]= new Mura.DisplayObject.Container(props);\n    }\n  }, []);\n\n  let $items=items;\n\n  if(!Array.isArray($items)){\n    try{\n      $items=JSON.parse($items);\n    } catch(e){\n      $items=[];\n    }\n  }\n\n  const resetInstanceIds=(_items)=>{\n    _items.forEach((item)=>{\n      item.instanceid=Mura.createUUID();\n      if(item.object=='container' && item.items){\n        let $items=item.items;\n       if(!Array.isArray($items)){\n          try{\n            $items=JSON.parse($items);\n          } catch(e){\n            $items=[];\n          }\n        }\n        item.items=resetInstanceIds($items);\n      }\n    })\n    return _items;\n  }\n\n  if(Mura.cloning){\n    $items=$items.map(function(i){return i;});\n    resetInstanceIds($items);\n  }\n\n  return ($items.map(item => {\n          const obj=Object.assign({},item);\n          obj.key=obj.instanceid;\n          obj.moduleStyleData=props.moduleStyleData;\n          obj.regionContext =  props.regionContext;\n          obj.queryParams =  props.queryParams;\n          obj.content = content;\n          obj.Mura = Mura;\n          return (<Decorator {...obj}> {getComponent(obj)} </Decorator>)\n      })\n   \n  );\n}\n\nexport default Container;\n","import React from 'react';\n\nconst Hr = function(props) {\n    return (\n      <hr />\n    );\n  \n}\n\nexport default Hr;\n","import React from 'react';\nimport Link from 'next/link';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons'\n\nexport const CTAButton = ({buttontext,buttoncolor,buttonsize,buttonlink,buttontarget,buttonblock}) => {\n\n  var btnclass = `btn btn-${buttoncolor||'primary'}`;\n  if (buttonsize != 'md'){\n    btnclass = btnclass + ` btn-${buttonsize}`;\n  }\n  if (buttonblock){\n    btnclass = btnclass + ` btn-block`;\n  }\n\n  return (\n    <>\n        <Link href={buttonlink||'https://www.murasoftware.com'} passHref>\n          <a target={buttontarget||'_self'} className={btnclass} role=\"button\">{buttontext || 'Press Me'} <FontAwesomeIcon icon={faChevronRight} /></a>\n        </Link>\n    </>\n  );\n}\n\nexport default CTAButton;","import React,{ useEffect } from 'react';\n\nconst Embed = function(props) {\n  const Mura = props.Mura || getMura();\n  let objectparams=Object.assign({},props);\n  objectparams.source=objectparams.source || '';\n  const containerid='source-contianer-' + objectparams.instanceid;\n\n  useEffect(() => {\n    Mura('#'  + containerid).html(objectparams.source);\n  }, []);\n\n  return (\n    <div id={containerid}/>\n  )\n}\n\nexport default Embed;\n","import React from 'react';\nimport OutputMarkup from \"./OutputMarkup\";\n\nconst Image =function(props) {\n  let objectparams = Object.assign({},props);\n  objectparams=objectparams || {};\n\tobjectparams.src=objectparams.src||'';\n\tobjectparams.alt=objectparams.alt||'';\n\tobjectparams.caption=objectparams.caption||'';\n\tobjectparams.imagelink=objectparams.imagelink||'';\n  objectparams.fit=objectparams.fit||'';\n  objectparams.imagelinktarget=objectparams.imagelinktarget||'';\n\n  if(typeof objectparams.imagelinktarget==='string' && objectparams.imagelinktarget.toLowerCase()==='no'){\n    objectparams.imagelinktarget=\"\";\n  }\n\n\tif(!objectparams.src){\n\t\treturn '';\n\t}\n\n  if(objectparams.imagelink){\n    return (\n      <figure>\n        <a href={objectparams.imagelink} target={objectparams.imagelinktarget}>\n          <Img {...objectparams} />\n        </a>\n        <FigCaption {...objectparams} />\n      </figure>\n  );\n  } else {\n    return (\n      <figure style={{margin:\"0px\"}}>\n         <Img {...objectparams} />\n        <FigCaption {...objectparams} />\n      </figure>\n  );\n  }\n \n}\n\nconst FigCaption = ({caption}) => {\n  if(caption && caption != '<p></p>'){\n    return (\n      <figcaption><OutputMarkup source={caption} /></figcaption>\n    );\n  } else {\n    return '';\n  }\n}\n\nconst Img = (props) => {\n  if(props.fit){\n    return (\n      <img src={props.src} alt={props.alt} loading=\"lazy\" style={{height:\"100%\",width:\"100%\",objectFit:props.fit}} data-object-fit={props.fit} />\n    );\n  } else {\n    return (\n      <img src={props.src} alt={props.alt} loading=\"lazy\" />\n    )\n  }\n \n}\n\n\nexport default Image;\n","import React, { useEffect } from 'react';\n/* \n    This is not being used yet\n\n    steps to use:\n        1. Set external:true or remove the attribute from the mura.config.json\n        2. Remove the comment from the mura/react/Login import in the mura.config.js\n        3. Add the component to the moduleRegistry \"login\" item in the mura.config.js\n        4. Update the MuraMinimal theme login module to be this.SSR aware\n        5. docker-compose up --build\n*/\n\nfunction Login(props) {\n\n    useEffect(() => {\n      Mura('div.mura-object[data-instanceid=\"'  + props.instanceid + '\"]').processDisplayObject();\n    }, []);\n\n    return (\n      <h3>Login</h3>\n    );\n  \n}\n\nexport default Login;\n","import React,{useState,useEffect} from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\nimport { faBolt } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nexport const MatrixSelector=function(props){\n    const objectparams = Object.assign({}, props);\n\n    const _personas = objectparams?.dynamicProps?.personas ? objectparams.dynamicProps.personas : false;\n    const _stages =  objectparams?.dynamicProps?.stages ? objectparams.dynamicProps.stages : false;\n \n    const [personas, setPersonas] = useState(_personas);\n    const [stages, setStages] = useState(_stages);\n\n    const _selfIdStart = objectparams.selfidstart ? objectparams.selfidstart : 'I am a';\n    const _selfIdMiddle = objectparams.selfidmiddle ? objectparams.selfidmiddle : 'who';\n    const _selfIdEnd = objectparams.selfidend ? objectparams.selfidend : 'your product.';\n    const _displayType = objectparams.displaytype ? objectparams.displaytype : 'inline';\n\n    const [selfIdStart, setSelfIdStart] = useState(_selfIdStart);\n    const [selfIdMiddle, setSelfIdMiddle] = useState(_selfIdMiddle);\n    const [selfIdEnd, setSelfIdEnd] = useState(_selfIdEnd);\n    const [displayType, setDisplayType] = useState(_displayType);\n    const [currentStageId, setCurrentStageId] = useState(false);\n    const [currentPersonaId, setCurrentPersonaId] = useState(false);\n    const [isPreview, setIsPreview] = useState(false);\n\n    const [curSelPersona, setCurSelPersona] = useState('');\n    const [curSelStage, setCurSelStage] = useState('');\n    const [buttonEnabled, setButtonEnabled] = useState(false);\n    const [updateSuccess, setUpdateSuccess] = useState(false);\n    const [showingAlert,setShowingAlert] = useState(false);\n    const [isSaving, setIsSaving] = useState(false);\n    const [isClearing, setIsClearing] = useState(false);\n    const [isPreviewing, setIsPreviewing] = useState(false);\n    const [selHasChanged, setSelHasChanged] = useState(false);\n\n    const [selPersonaValidated, setSelPersonaValidated] = useState(false);\n    const [selStageValidated, setSelStageValidated] = useState(false);\n\n    const handleSave = (e) => {\n        e.preventDefault();\n        saveExperience(curSelPersona,curSelStage);\n        return false;\n    }\n\n    const handlePreview = (e) => {\n        e.preventDefault();\n        previewExperience(curSelPersona,curSelStage);\n        return false;\n    }\n\n    const handleClear = (e) => {\n        e.preventDefault();\n        clearExperience();\n        return false;\n    }\n\n    objectparams.mode=objectparams.mode  || 'preview only';\n\n    const updateSelectedPersona = (e) => {\n        const newPersona = e.target.value;\n        if (curSelPersona != newPersona){\n            setCurSelPersona(newPersona);\n            setSelHasChanged(true);\n            checkSelectValidation(newPersona,curSelStage);\n        }\n    }\n\n    const updateSelectedStage = (e) => {\n        const newStage = e.target.value;\n        if (curSelStage != newStage){\n            setCurSelStage(newStage);\n            setSelHasChanged(true);\n            checkSelectValidation(curSelPersona,newStage);\n        }        \n    }\n\n    const checkSelectValidation = (persona,stage) => {\n        //check persona value and personas length to see if validated flag should be updated\n        if (persona != '' && personas.length){\n            setSelPersonaValidated(true);\n        } else if (persona = '' && personas.length){\n            setSelPersonaValidated(false);\n        }\n        //check stage value and stages length to see if validated flag should be updated\n        if (stage != '' && stages.length){\n            setSelStageValidated(true);\n        } else if (stage = '' && stages.length){\n            setSelStageValidated(false);\n        }\n       \n    }\n\n    const updateButtonStatus = (selPersonaValidated,selStageValidated) => {\n        //check validation flags to see if Button should be enabled\n        if (selPersonaValidated && selStageValidated){\n            setButtonEnabled(true);\n        } else {\n            setButtonEnabled(false);\n        }\n    }\n    const saveExperience = (personaid,stageid) => {\n        setIsSaving(true);\n        setButtonEnabled(false);\n    \n         Mura\n          .getEntity('matrix_selector')\n          .invoke(\n            'updateExperience',\n            {\n                personaid:personaid,\n                stageid:stageid\n            },\n            'post'\n          ).then( (exp)=>{\n            if (exp.personaselected || exp.stageselected){\n                window.location = window.location.href.split(\"?\")[0];\n            }\n          });\n    }\n\n    const previewExperience = (personaid,stageid) => {\n        setIsPreviewing(true);\n        setButtonEnabled(false);\n    \n        Mura\n          .getEntity('matrix_selector')\n          .invoke(\n            'previewExperience',\n            {\n                personaid:personaid,\n                stageid:stageid\n            },\n            'post'\n        ).then(() => {\n            setUpdateSuccess(1);\n            setShowingAlert(true);\n            setIsPreviewing(false);\n            setSeconds(3);\n          });\n       \n\n    }\n\n    const clearExperience = () => {\n        setIsClearing(true);\n        setButtonEnabled(false);\n    \n        Mura\n          .getEntity('matrix_selector')\n          .invoke(\n            'clearExperience',\n            {},\n            'post'\n          ).then(() => {\n            window.location = window.location.href.split(\"?\")[0];\n          });\n    }\n    \n    useEffect(() => {\n        let isMounted = true;\n\n        if (isMounted) {\n            updateButtonStatus(selPersonaValidated,selStageValidated);\n            //should we force a page refresh after this to load the updated persona and stage?\n        }\n        \n        return () => { isMounted = false };\n    }, [selPersonaValidated,selStageValidated])\n\n    const [seconds, setSeconds] = useState(0);\n    useEffect(() => {\n        if (seconds > 0){\n            setTimeout(() => setSeconds(seconds -1), 1000);\n        }\n        if (seconds < 1 && showingAlert ){\n             window.location = window.location.href.split(\"?\")[0];\n        }\n    }, [seconds]);\n\n    if(!objectparams?.dynamicProps?.personas || !objectparams?.dynamicProps?.stages){\n        useEffect(async () => {\n            let isMounted = true;\n            if (isMounted) {\n                const dynamicProps = await getDynamicProps();\n             \n                if (isMounted) {\n                    setPersonas(dynamicProps.personas);\n\n                    if (!personas.length){\n                        if (isMounted) {\n                            setSelPersonaValidated(true);\n                        }\n                    }\n\n                    setStages(dynamicProps.stages);\n\n                    if (!dynamicProps.stages.length){\n                        if (isMounted) {\n                            setSelStageValidated(true);\n                        }\n                    }\n\n                    setCurrentStageId(dynamicProps.currentstageid);\n                    setCurrentPersonaId(dynamicProps.currentpersonaid);\n                    setCurSelPersona(dynamicProps.currentpersonaid);\n                    setCurSelStage(dynamicProps.currentstageid);\n                    setIsPreview(dynamicProps.ispreview);\n                }\n          \n            }\n            return () => { isMounted = false };\n        }, []);\n        //todo do we need to add hidden form fields if personas or stages EQ 1?\n        const [open, setOpen] = useState('');\n\n        switch(displayType){\n            case \"widget\" :\n                return (\n                    <>\n                    {/* Mura.editing doesn't seem to work here */}\n                    <Alert variant=\"info matrix-selector-edit-alert\" >\n                        <p className=\"mb-0\">Matrix Selector</p>\n                    </Alert>\n                    <div className={`${open ? 'open' : ''} mura-matrix-selector__widget ${props.widgetposition}`}>\n                        <Button \n                            variant=\"light\"\n                            onClick={() => { setOpen(!open); }}>\n                            <FontAwesomeIcon icon={faBolt} /> Optimize Your Experience\n                        </Button>\n                        <div className=\"mura-matrix-selector__widget__inner\">\n                            <MatrixForm \n                                updateSuccess={updateSuccess}\n                                showingAlert={showingAlert}\n                                handleSave={handleSave}\n                                handleClear={handleClear}\n                                handlePreview={handlePreview}\n                                selfIdStart={selfIdStart}\n                                updateSelectedPersona={updateSelectedPersona}\n                                personas={personas}\n                                stages={stages}\n                                setShowingAlert={setShowingAlert}\n                                setUpdateSuccess={setUpdateSuccess}\n                                setSeconds={setSeconds}\n                                curSelPersona={curSelPersona}\n                                curSelStage={curSelStage}\n                                currentStageId={currentStageId}\n                                currentPersonaId={currentPersonaId}\n                                isPreview={isPreview}\n                                mode={objectparams.mode}\n                                selHasChanged={selHasChanged}\n                                selfIdMiddle={selfIdMiddle}\n                                updateSelectedStage={updateSelectedStage}\n                                selfIdEnd={selfIdEnd}\n                                buttonEnabled={buttonEnabled}\n                                isSaving={isSaving}\n                                isPreviewing={isPreviewing}\n                                isClearing={isClearing}\n                                displaytype={displayType}\n                                {...props}\n                                seconds={seconds}\n                            />\n                            <div className=\"mura-matrix-selector__widget__inner__footer\">\n                                <MatrixSelectorFooter {...props} />\n                            </div>\n                        </div>\n                    </div>\n                    </>\n                )\n                break\n            case \"eyebrow\" :\n                return(\n                    <div className={`mura-matrix-selector__eyebrow`}>\n                        <div className=\"mura-matrix-selector__eyebrow__inner\">\n                            {!showingAlert &&\n                                <div className=\"mura-matrix-selector__eyebrow__inner__heading\">\n                                    <h4><FontAwesomeIcon icon={faBolt} /> Optimize Your Experience</h4>\n                                </div>\n                            }\n                            <MatrixForm \n                                updateSuccess={updateSuccess}\n                                showingAlert={showingAlert}\n                                handleSave={handleSave}\n                                handleClear={handleClear}\n                                handlePreview={handlePreview}\n                                selfIdStart={selfIdStart}\n                                updateSelectedPersona={updateSelectedPersona}\n                                personas={personas}\n                                stages={stages}\n                                setShowingAlert={setShowingAlert}\n                                setUpdateSuccess={setUpdateSuccess}\n                                setSeconds={setSeconds}\n                                curSelPersona={curSelPersona}\n                                curSelStage={curSelStage}\n                                currentStageId={currentStageId}\n                                currentPersonaId={currentPersonaId}\n                                isPreview={isPreview}\n                                mode={objectparams.mode}\n                                selHasChanged={selHasChanged}\n                                selfIdMiddle={selfIdMiddle}\n                                updateSelectedStage={updateSelectedStage}\n                                selfIdEnd={selfIdEnd}\n                                buttonEnabled={buttonEnabled}\n                                isSaving={isSaving}\n                                isPreviewing={isPreviewing}\n                                isClearing={isClearing}\n                                displaytype={displayType}\n                                {...props}\n                                seconds={seconds}\n                            />\n                            {!showingAlert &&\n                                <div className=\"mura-matrix-selector__eyebrow__inner__footer\">\n                                    <MatrixSelectorFooter {...props} />\n                                </div>\n                            }\n                        </div>\n                    </div>\n                )\n                break\n        }\n            return (\n                <>\n                <MatrixForm \n                    updateSuccess={updateSuccess}\n                    showingAlert={showingAlert}\n                    handleSave={handleSave}\n                    handleClear={handleClear}\n                    handlePreview={handlePreview}\n                    selfIdStart={selfIdStart}\n                    updateSelectedPersona={updateSelectedPersona}\n                    personas={personas}\n                    stages={stages}\n                    setShowingAlert={setShowingAlert}\n                    setUpdateSuccess={setUpdateSuccess}\n                    setSeconds={setSeconds}\n                    curSelPersona={curSelPersona}\n                    curSelStage={curSelStage}\n                    currentStageId={currentStageId}\n                    currentPersonaId={currentPersonaId}\n                    isPreview={isPreview}\n                    mode={objectparams.mode}\n                    selHasChanged={selHasChanged}\n                    selfIdMiddle={selfIdMiddle}\n                    updateSelectedStage={updateSelectedStage}\n                    selfIdEnd={selfIdEnd}\n                    buttonEnabled={buttonEnabled}\n                    isSaving={isSaving}\n                    isPreviewing={isPreviewing}\n                    isClearing={isClearing}\n                    {...props}\n                    seconds={seconds}\n                />\n                {!showingAlert &&\n                    <div className=\"mura-matrix-selector__inline__footer\" key=\"matrix-selector-footer\">\n                        <MatrixSelectorFooter {...props} />\n                    </div>\n                }\n                </>\n            )\n    } else {\n\n    }\n}\nconst MatrixSelectorFooter = (props) => {\n    const CustomLinks = props.customlinks ? Array.from(props.customlinks) : [];\n    //console.log('props: ', props);\n    if (CustomLinks && CustomLinks.length){\n        const UtilityLinks = CustomLinks.map((link, index) => \n        <li className=\"list-inline-item\" key={index}>\n            <a href={link.value}>{link.name}</a>\n        </li>\n        );\n        return (\n            <ul className=\"list-inline\" key='sdf'>\n                {UtilityLinks}\n            </ul>\n        )\n    }\n    return null    \n}\n\nconst MatrixForm = (props) => {\n\n    return (\n        <>\n        {props.updateSuccess && props.showingAlert &&\n            <div className=\"successMessage\">\n                <h4>Thanks!</h4>\n                <p>We&rsquo;re tailoring our content for you in &hellip; {props.seconds}</p>\n            </div>\n        }\n        {!props.updateSuccess && !props.showingAlert &&\n        <Form inline id=\"mura_matrix-selector-form\" onSubmit={props.handleSave} data-autowire=\"false\">\n            <div className=\"select-wrap\">\n            {props.personas && props.personas.length > 1 &&\n            <>\n                <Form.Label className=\"mr-2\">{props.selfIdStart}</Form.Label>\n                <Form.Control as=\"select\" name=\"persona\" size=\"sm\" className=\"mr-2\" value={props.curSelPersona} onChange={props.updateSelectedPersona}>\n                    {!props.currentPersonaId && <option value=\"\" key=\"--\">--</option>}\n                    {props.personas.map((persona) => (\n                    <option value={persona.personaid} key={persona.personaid}>{persona.selfidq}</option>\n                    ))}\n                </Form.Control>\n            </>\n            }\n            {props.stages && props.stages.length > 1 &&\n            <>\n                <Form.Label className=\"mr-2\">{props.selfIdMiddle}</Form.Label>\n                <Form.Control as=\"select\" name=\"stage\" size=\"sm\" className=\"mr-2\" value={props.curSelStage} onChange={props.updateSelectedStage}>\n                    {!props.currentStageId && <option value=\"\" key=\"--\">--</option>}\n                    {props.stages.map((stage) => (\n                    <option value={stage.stageid} key={stage.stageid}>{stage.selfidq}</option>\n                    ))}\n                </Form.Control>\n            </>\n            }\n            {props.personas && props.stages && <p>{props.selfIdEnd}</p>}\n          \n            {!props.isClearing && props.selHasChanged &&  props.curSelPersona &&  props.curSelStage && <Button className=\"ml-2\" size=\"sm\" type=\"button\" onClick={props.handlePreview}>\n                {props.isPreviewing ? 'Preview...' : 'Preview'}\n            </Button>}\n            {!props.isPreviewing && !props.isClearing && props.mode != 'preview only' && !props.selHasChanged && props.isPreview && <Button className=\"ml-2\" size=\"sm\" type=\"submit\">\n                {props.isSaving ? 'Saving...' : 'Save'}\n            </Button>}\n            {!props.isSaving && !props.isPreviewing && (props.currentPersonaId || props.currentStageId) && <Button className=\"ml-2\" size=\"sm\" type=\"button\" onClick={props.handleClear}>\n                {props.isClearing ? 'Clearing...' : 'Clear'}\n            </Button>}\n            </div>\n        </Form>\n        }\n        </>\n    )\n}\nexport const getDynamicProps = async () => {\n    const dynamicProps = await Mura.getEntity('matrix_selector').invoke('getDynamicProps');\n    console.log(dynamicProps)\n    return dynamicProps;\n}\n\n\nexport default MatrixSelector;","import React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport Navbar from 'react-bootstrap/Navbar'\nimport Nav from 'react-bootstrap/Nav'\nimport NavDropdown from 'react-bootstrap/NavDropdown'\nimport { getMura, getHref } from '@murasoftware/next-core';\nimport { SearchForm } from './';\n\nfunction PrimaryNav(props) {\n  const objectparams = Object.assign({}, props);\n  //console.log(props)\n\n  if(!objectparams.dynamicProps || !objectparams.dynamicProps.items){\n    const [items, setItems]=useState('');\n\n    useEffect(() => {\n        getDynamicProps(objectparams).then((dynamicProps)=>{\n          setItems(dynamicProps.items);\n        });\n    },[]);\n\n    if(items){\n      return (\n        <Render items={items} link={RouterlessLink} props={props} />\n      );\n    } else {\n      return (\n        <div></div>\n        );\n    }\n  } else {\n    return (\n      <Render items={objectparams.dynamicProps.items} link={RouterLink} props={props} />\n    );\n  }\n}\n\nconst Render = ({ items, link, ...props }) => {\n   /* \n    In new development you should use this. \n    const { Mura } = props; \n\n    This pattern is for legacy support \n    const Mura = props.Mura || getMura();\n  */\n    const Mura = props.Mura || getMura();\n    const Link=link;\n    const homeNavIcon = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" aria-hidden=\"true\" focusable=\"false\" width=\"1em\" height=\"1em\" style=\"-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 20 20\"><path d=\"M16 8.5l1.53 1.53l-1.06 1.06L10 4.62l-6.47 6.47l-1.06-1.06L10 2.5l4 4v-2h2v4zm-6-2.46l6 5.99V18H4v-5.97zM12 17v-5H8v5h4z\" fill=\"#626262\"/></svg>';\n   \n    return (\n      <Navbar bg=\"white\" variant=\"light\" expand=\"lg\" className=\"navbar-static-top py-0\"  collapseOnSelect>\n      <div className=\"container-xl\">\n        <Link\n          href={'/'}\n          className=\"navbar-brand\"\n          type=\"navbarbrand\"\n          navlogo={props.props.navlogo} />\n        <Navbar.Toggle aria-controls=\"primary-nav\" />\n        <Navbar.Collapse id=\"primary-nav\">\n          <Nav className=\"ml-auto\">\n\n            <Homelink displayhome={props.props.displayhome} link={Link} navicon={homeNavIcon} Mura={Mura} />\n            \n            {\n              items.map(item => {\n                  return (  \n                    <NavLinkDropdown key={item.contentid} contentid={item.contentid} filename={item.filename} menutitle={item.menutitle} kids={item.kids} link={Link} navicon={item.navicon} />\n                  )\n              })\n            }\n            {props.props.content && props.props.content.translations && (\n                <LangOptions translations={props.props.content.translations} />\n              )\n            }\n            </Nav>\n            {props.props.displaysearch &&\n              <SearchForm />\n            }\n          </Navbar.Collapse>\n        </div>\n      </Navbar>\n    )\n};\n\nexport const getDynamicProps = async (props) => {\n   /* \n    In new development you should use this. \n    const { Mura } = props; \n\n    This pattern is for legacy support \n    const Mura = props.Mura || getMura();\n  */\n  const Mura = props.Mura || getMura();\n  //console.log(\"requesting primary nav data\",props.instanceid,Date.now(),Mura.siteid);\n \n  const collection=await Mura.getFeed('content')\n    .where()\n    .prop('parentid')\n    .isEQ(Mura.homeid)\n    .sort('orderno')\n    .expand(\"kids\")\n    .fields('navicon,menutitle,url,filename')\n    .getQuery();\n  \n    //console.log(\"receiving primary nav data\",props.instanceid,Date.now(),Mura.siteid);\n  return {\n    items:collection.getAll().items\n  };\n}\n\nconst RouterlessLink = ({href,className,type,menutitle,navlogo})=>{\n  switch(type) {\n    case \"navdropdownitem\":\n      return (\n        <NavDropdown.Item href={getHref(href)}>{menutitle}</NavDropdown.Item>\n      )\n    case \"navlink\":\n      return (\n        <Nav.Link href={getHref(href)}>{menutitle}</Nav.Link>\n      )\n    case \"navbarbrand\":\n      return(\n        <Navbar.Brand href={getHref(href)}>\n          <img src={navlogo} loading=\"lazy\" />\n        </Navbar.Brand>\n      )\n    default:\n      return (     \n        <a className={className} href={getHref(href)}>\n            {menutitle}\n        </a>\n      )\n    }\n  }\n  \nconst RouterLink = ({href,className,type,menutitle,navlogo})=>{\n  switch(type) {\n    case \"navdropdownitem\":\n      return (\n        <Link \n        href={getHref(href)} passHref>\n          <NavDropdown.Item>{menutitle}</NavDropdown.Item>\n        </Link>\n      )\n    case \"navlink\":\n      return (\n        <Link \n        href={getHref(href)} passHref>\n          <Nav.Link>{menutitle}</Nav.Link>\n        </Link>\n      )\n    case \"navbarbrand\":\n      return(\n        <Link \n        href={getHref(href)} passHref>\n          <Navbar.Brand>\n            <img src={navlogo} loading=\"lazy\" />\n          </Navbar.Brand>\n        </Link>\n      )\n    default:\n      return (\n        <Link \n          href={getHref(href)}>      \n            <a \n              className={className}>\n                {menutitle}\n            </a>\n        </Link>\n      )\n    }\n}\n\nconst Homelink = (props) => {\n  const Link=props.link;\n  const homeTitle = 'Home';\n  const Mura = props.Mura || getMura();\n\n  function createIcon() { \n    return {__html: props.navicon};\n  };\n\n  if (props.displayhome){\n    return (\n      <li className=\"nav-item\">\n        <Link\n          key={Mura.homeid}\n          href=\"/\"\n          className=\"nav-link\"\n          menutitle={<><span dangerouslySetInnerHTML={createIcon()} /> {homeTitle}</>}\n          type=\"navlink\" />\n      </li>\n    )\n  }\n  return (\n    <></>\n  )\n}\n\nconst LangOptions = props => {\n\n  if (props.translations.items.length) {\n       \n    return (\n      <>\n      <NavDropdown key=\"lang-options\" title=\"Other Languages\" id=\"lang-options\" href=\"\" renderMenuOnMount={true}>\n        {/* if there are children, build the rest of the dropdown */}\n        {props.translations.items.map((translation) => {\n          return(\n            <NavDropdown.Item key={`lang-option-${translation.siteid}`} href={translation.url}>{translation.label}</NavDropdown.Item>\n          )\n        })}\n      </NavDropdown>\n      </>\n    )\n  }\n}\n\nconst NavLinkDropdown = props => {\n  const Link = props.link;\n  function createIcon() { \n    return {__html: props.navicon};\n  };\n  if (props.kids.items.length) {\n       \n    return (\n      <>\n      <NavDropdown key={props.contentid + 'navdropdown'} title={<div style={{display: \"inline-block\"}}><span dangerouslySetInnerHTML={createIcon()} /> {props.menutitle} </div>} id={`dropdown-${props.contentid}`} href={`/${props.filename}`} renderMenuOnMount={true}>\n        {/* placing the main nav item in the dropdown for now since the parent nav item is not a clickable link */}\n        <Link\n          key={props.contentid + 'topitem'}\n          href={`/${props.filename}`}\n          type=\"navdropdownitem\"\n          menutitle={props.menutitle} />\n\n        {/* if there are children, build the rest of the dropdown */}\n        {props.kids.items.map((child) => {\n          return(\n            <Link\n              key={child.contentid}\n              href={`/${child.filename}`}\n              type=\"navdropdownitem\"\n              menutitle={child.menutitle} />\n          )\n        })}\n      </NavDropdown>\n      </>\n    )\n  }\n\n  // if item doesn't have children create a link\n  return (\n    <li className=\"nav-item\">\n      <Link \n        key={props.contentid}\n        href={`/${props.filename}`}\n        type=\"navlink\"\n        menutitle={<><span dangerouslySetInnerHTML={createIcon()} /> {props.menutitle} </>} />\n    </li>    \n  )\n\n}\nexport default PrimaryNav;\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import React,{useState,useEffect} from 'react';\nimport Form from 'react-bootstrap/Form';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport Button from 'react-bootstrap/Button';\nimport { getMura } from '@murasoftware/next-core';\nimport { getLayout, RouterlessLink, RouterLink, getSelectFields } from './Collection';\nimport { useRouter } from 'next/router';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\n\nfunction getDefaultQueryPropsFromLayout(layout,item){\n  if(layout){\n    return layout.getQueryProps ? layout.getQueryProps(item) : {fields:''};\n  } else {\n    return  {fields:''};\n  }\n}\n\nexport function ResourceHub(props) {\n  const Mura = getMura();\n  // return('This is the resource hub');\n  const objectparams = Object.assign({}, props);\n  const DynamicCollectionLayout = getLayout(objectparams.layout).component;\n\n  objectparams.fields=objectparams.fields || getDefaultQueryPropsFromLayout(DynamicCollectionLayout,objectparams).fields || 'Image,Date,Title,Summary,Credits,Tags';\n\n  let tags = '';\n  let author = '';\n  if (!Mura.editing){\n    const router = useRouter();\n    tags = router.query.t;\n    author = router.query.a;\n  }  \n\n  let _collection = false;\n  //SET DEFAULTS FOR CURRENT FILTER PARAMETERS\n  let _curSubtype = '*';\n  let _curCategoryIds = '*';\n  let _curPersonaId = '*';\n  let _curCategoriesArray = [];\n  let _hasMXP = false;\n\n  if(objectparams.dynamicProps){\n    _collection=new Mura.EntityCollection(objectparams.dynamicProps.collection,Mura._requestcontext);\n    _curSubtype = objectparams.dynamicProps.filterprops.subtype;\n    _curCategoryIds = objectparams.dynamicProps.filterprops.selectedcats.filter(sc => sc.instanceid == props.instanceid).map((item)=>item.value).join();\n    _curPersonaId = objectparams.dynamicProps.filterprops.personaid;\n    _curCategoriesArray = objectparams.dynamicProps.filterprops.selectedcats;\n    _hasMXP = objectparams.dynamicProps.filterprops.hasmxp;\n  }\n  const [collection,setCollection]=useState(_collection);\n  const instanceId = objectparams.instanceid;  \n\n  const [curSubtype, setCurSubtype]=useState(_curSubtype);\n  const [curCategoriesArray, setCurCategoriesArray]=useState(_curCategoriesArray);\n  const [curCategoryIds, setCurCategoryIds]=useState(_curCategoryIds);\n  const [curPersonaId, setCurPersonaId]=useState(_curPersonaId);\n  const [curSearchText, setCurSearchText]=useState('');\n  const [hasMXP, setHasMXP]=useState(_hasMXP);\n  const [showTextSearch, setShowTextSearch]=useState(objectparams.showtextsearch);//objectparams.showtextsearch\n  const [newFilter, setNewFilter]=useState(false);\n  const [filterUpdated, setFilterUpdated]=useState(new Date().toString());\n  \n  useEffect(() => {\n    let isMounted = true;\n    return () => { isMounted = false };\n  }, []);\n\n  const handleSubmit = (e) => {\n        e.preventDefault();\n        setCurSearchText(curSearchText);\n        setNewFilter(true);\n        setFilterUpdated(new Date().toString());\n  }\n  const updateFilter = (e) => {\n    switch(e.target.name) {\n      case 'subtype':\n        let subtype = e.target.value;\n        if (subtype != curSubtype) {\n          setCurSubtype(subtype);\n          setNewFilter(true);\n          setFilterUpdated(new Date().toString());\n        }\n        break\n      case 'personaid':\n        let personaid = e.target.value;\n        if (personaid != curPersonaId){\n          setCurPersonaId(personaid);\n          setNewFilter(true);\n          setFilterUpdated(new Date().toString());\n        }\n        break\n      default:\n        if (!curCategoryIds.includes(e.target.value)){\n          // console.log('e.target.value: ', e.target.value);\n          // console.log('curCategoryIds: ', curCategoryIds);\n          \n        }\n        // console.log('instanceId: ', instanceId);\n        setCurCategoriesArray(updateCategoryIds(e.target.name,e.target.value,curCategoriesArray,instanceId));\n          setCurCategoryIds(getCategoryIds(curCategoriesArray.filter(sc => sc.instanceid == instanceId)));\n          setNewFilter(true);\n          setFilterUpdated(new Date().toString());\n    }//switch    \n  }\n\n  if(!objectparams.dynamicProps){\n    useEffect(() => {\n      let isMounted = true;\n      if (isMounted) {\n        // setInstanceId(props.instanceid);\n        getFilterProps(curSubtype,curCategoryIds,curPersonaId,curCategoriesArray,newFilter).then((filterProps) => {\n          if (isMounted) {\n            \n            setHasMXP(filterProps.hasmxp);\n            setCurSubtype(filterProps.subtype);\n            setCurCategoryIds(filterProps.selectedcats.filter(sc => sc.instanceid == props.instanceid).map((item)=>item.value).join());\n            setCurPersonaId(filterProps.personaid);\n            setCurCategoriesArray(filterProps.selectedcats);\n            if(isMounted){\n              getCollection(props,filterProps,curSearchText,tags,author).then((collection) => {\n                setCollection(collection);\n              });\n            }\n          }\n        });\n      }\n      return () => { isMounted = false };\n    }, [filterUpdated])\n\n    if(collection) {\n    //   console.log('dynamic');\n    \n      return (\n        <div>\n          <RenderFilterForm \n            updateFilter={updateFilter}\n            {...props}\n            curSubtype={curSubtype}\n            curCategoryId={curCategoryIds}\n            curPersonaId={curPersonaId}\n            curCategoriesArray={curCategoriesArray}\n            hasMXP={hasMXP}\n            handleSubmit={handleSubmit}\n            curSearchText={curSearchText}\n            setCurSearchText={setCurSearchText}\n            showTextSearch={showTextSearch}\n          />\n\n          <DynamicCollectionLayout setCollection={setCollection} collection={collection} props={props} link={RouterlessLink}/>\n\n        </div>\n      )\n    } else {\n    //   console.log('empty');\n      return (\n        <div>{/* EMPTY COLLECTION */}</div>\n      )\n    }\n\n  } else {\n    // console.log('ssr');\n    useEffect(() => {\n      let isMounted = true;\n      if (isMounted) {\n        getFilterProps(curSubtype,curCategoryIds,curPersonaId,curCategoriesArray,newFilter).then((filterProps) => {\n          if(isMounted){\n            setHasMXP(filterProps.hasmxp);\n            setCurSubtype(filterProps.subtype);\n            setCurCategoryIds(filterProps.categoryid);\n            setCurPersonaId(filterProps.personaid);\n            setCurCategoriesArray(filterProps.selectedcats);\n            \n            getCollection(props,filterProps,curSearchText,tags,author).then((collection) => {\n              if(isMounted){\n                setCollection(collection);\n              }\n            })\n          }\n        });\n      }\n      return () => { isMounted = false };\n    }, [filterUpdated])\n    // console.log('collection: ', collection);\n    return (\n      <div>\n        <RenderFilterForm \n          updateFilter={updateFilter}\n          {...props}\n          curSubtype={curSubtype}\n          curCategoryId={curCategoryIds}\n          curPersonaId={curPersonaId}\n          curCategoriesArray={curCategoriesArray}\n          hasMXP={hasMXP}\n            handleSubmit={handleSubmit}\n            curSearchText={curSearchText}\n            setCurSearchText={setCurSearchText}\n            showTextSearch={showTextSearch}\n        />\n        <DynamicCollectionLayout setCollection={setCollection} collection={collection} props={props} link={RouterLink}/>\n      </div>\n    )\n\n  }\n}\n\nconst getCategoryIds = categories => {\n  let categoriesList;\n  for (let i = 0; i < categories.length; i++){\n    if (categories[i].value != '*'){\n      if (i < 1){\n        categoriesList = categories[i].value;\n      } else {\n        categoriesList = categoriesList + ',' + categories[i].value;\n      }\n    }\n  }\n  \n  if (categoriesList == undefined){\n    categoriesList = '*';\n  }\n  return categoriesList\n}\n\nexport const getDynamicProps = async props => {\n  const filterProps = await getFilterProps('','','','',false);\n\n  \n  const collection = await getCollection(props,filterProps);\n \n  if(!Array.isArray(filterProps.selectedcats)){\n    try{\n      filterProps.selectedcats = JSON.parse(filterProps.selectedcats);\n    }catch(e){\n      filterProps.selectedcats = [];\n    }\n  }\n  return{\n    collection:collection.getAll(),\n    filterprops:filterProps\n  }\n}\n\nconst getCollection = async (props,filterProps,curSearchText,tags,author) => {\n  const Mura = props.Mura || getMura();\n    \n  let filterCategories = filterProps.categoryid;\n\n  if(typeof props.content.getAll != 'undefined'){\n      props.content=props.content.getAll();\n  }\n  if (filterProps.selectedcats.length){\n    filterCategories = filterProps.selectedcats.filter(sc => sc.instanceid == props.instanceid).map((item)=>item.value);\n    for( var i = 0; i < filterCategories.length; i++){ \n      if ( filterCategories[i] === '*') { \n        filterCategories.splice(i, 1); \n        i--; \n      }\n    }\n  }\n\n  // console.log('filterProps.selectedcats: ', filterProps.selectedcats);\n\n  let collection;\n\n  try{\n    const excludeIDList=props.content.contentid;\n    const feed = Mura.getFeed('content');\n\n    feed.prop('type').isIn('Page,Link,File');\n    feed.andProp('path').containsValue(props.content.contentid);\n    feed.andProp('contentid').isNotIn(excludeIDList);\n    feed.expand('categoryassignments');\n    feed.andProp('subtype').isNEQ('Author');\n    feed.andProp('subtype').isNEQ('Confirmation');\n    feed.andProp('subtype').isNEQ('Folder');\n    feed.fields(getSelectFields(props));\n    \n    if(filterProps.subtype.length){\n      feed.andProp('subtype').isEQ(filterProps.subtype);\n    }\n    \n    if(filterCategories.length){\n      feed.andProp('categoryid').isIn(filterCategories);\n      feed.useCategoryIntersect(true);\n    }\n    \n    if(curSearchText && curSearchText.length){\n      feed.andOpenGrouping();\n      feed.orProp('title').containsValue(curSearchText);\n      feed.orProp('body').containsValue(curSearchText);\n      feed.orProp('summary').containsValue(curSearchText);\n      feed.closeGrouping();\n    }\n    \n    if(tags){\n      feed.andProp('tag').containsValue(tags);\n    }\n    \n    if(author){\n      feed.andProp('Credits').isEQ(author);\n    }\n    \n    feed.maxItems(props.maxitems);\n\n    \n    if(Mura.renderMode !='static'){\n      \n      feed.itemsPerPage(props.nextn);\n    } else {\n      feed.itemsPerPage(0);\n    }\n\n    if(filterProps.personaid.length){\n      collection = await feed.getQuery({sortBy:\"mxpRelevance\"});\n    } else {\n      collection = await feed.sort('releasedate','desc').getQuery();\n    }\n  } catch(e){\n    console.log('error getting colleciton ',e)\n  }\n     \n  return collection;\n}\n\nconst getFilterProps = async (subtype,categoryid,personaid,selectedcategories,newfilter) => {\n    const Mura = getMura();\n    const Subtype = subtype;\n    const Categoryid = categoryid;\n    const Personaid = personaid;\n    const CurSelectedCats = selectedcategories;\n    const NewFilter = newfilter;\n    \n    const filterProps = await Mura\n        .getEntity('resourcehub')\n        .invoke(\n        'processFilterArgs',\n        {\n            subtype:Subtype, \n            categoryid:Categoryid, \n            personaid:Personaid, \n            selectedcats:CurSelectedCats, \n            newfilter: NewFilter?1:0\n        }\n    );\n  \n    return filterProps;\n}\n\nconst RenderFilterForm = (props) => {\n  const objectparams = Object.assign({}, props);\n  const [categoriesArray,setCategoriesArray]=useState(false);\n  const [personasArray,setPersonasArray]=useState(false);\n\n  const subtypesArray = objectparams.subtypes ? objectparams.subtypes.split(',') : [];\n  const categoryIds = objectparams.categoryids ? objectparams.categoryids.split(',') : [];\n  const personaIds = objectparams.personaids ? objectparams.personaids.split(',') : [];\n\n  useEffect(() => {\n    let isMounted = true;\n    if(isMounted && categoryIds && categoryIds.length){\n      getCategoriesInfo(categoryIds).then((data)=>{\n        if(isMounted && data.items.length){\n          setCategoriesArray(data.items);\n        }\n      });\n     }\n    if(isMounted && personaIds && personaIds.length){\n      getPersonasInfo(personaIds).then((data)=>{\n        if(isMounted && data.items.length){\n          setPersonasArray(data.items);  \n        }      \n      });\n    }   \n    return () => { isMounted = false };\n  }, []);\n\n  return (\n    <Form className=\"row row-cols-1 row-cols-sm-2 row-cols-lg-3\" id=\"resource-filter-form\" onSubmit={props.handleSubmit}>\n        {props.showTextSearch &&\n        <div className=\"col\">\n        <Form.Label>Search:</Form.Label>\n        <InputGroup controlid=\"textSearch\" className=\"text\">\n            <Form.Control \n                type=\"text\"\n                name=\"s\"\n                placeholder=\"Search\"\n                value={props.curSearchText}\n                onChange={e => props.setCurSearchText(e.target.value)}\n            />\n            <InputGroup.Append>\n              <Button variant=\"secondary\" type=\"submit\"><FontAwesomeIcon icon={faSearch} size=\"lg\" /></Button>\n            </InputGroup.Append>            \n        </InputGroup>\n        </div>\n        }\n      {subtypesArray && subtypesArray.length > 0 &&\n      <Form.Group controlid=\"selectSubtypes\" className=\"col type\">\n        <Form.Label>Content Types:</Form.Label>\n        <Form.Control as=\"select\" name=\"subtype\" custom onChange={ props.updateFilter } value={props.curSubtype}>\n          <option value=\"*\" key=\"All Subtypes\">All</option>\n          {subtypesArray.map((subtype, index) => (\n            <option value={subtype} key={index}>{subtype}</option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      }\n      {categoriesArray && categoriesArray.length > 0 &&\n      <>\n        {categoriesArray.map((category, index) => (\n          <CategorySelect categoryid={category.categoryid} filterlabel={category.name} updateFilter={props.updateFilter} curCategoryId={props.curCategoryId} key={category.categoryid} curCategoriesArray={props.curCategoriesArray} />\n        ))}\n      </>\n      }\n      {props.hasMXP && personasArray.length > 0 &&\n      <Form.Group controlid=\"selectPersonas\" className=\"col topic\">\n      <Form.Label>Audience:</Form.Label>\n        <Form.Control as=\"select\" name=\"personaid\" custom onChange={ props.updateFilter } value={props.curPersonaId}>\n          <option value=\"*\" key=\"All Personas\">All</option>\n          {personasArray.map(option => (\n            <option value={option.personaid} key={option.personaid}>{option.name}</option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      }\n    </Form>\n  );\n}\n\nconst CategorySelect = props => {\n  const [categoryKids,setCategoryKids]=useState([]);\n  let curSelectValue = '*';\n\n  useEffect(() => {\n    let isMounted = true;\n    getCategoryKidsInfo(props.categoryid).then((data)=>{\n      if (isMounted) {\n        setCategoryKids(data.items);\n      }\n    });\n\n    return () => { isMounted = false };\n  }, []);  \n  \n  for (let i=0; i < categoryKids.length; i++){\n      if (props.curCategoryId.includes(categoryKids[i].categoryid)){\n        curSelectValue = categoryKids[i].categoryid;\n        break\n      }\n  }\n  // console.log('curSelectValue: ', props.filterlabel, curSelectValue);\n  return(\n    <Form.Group controlid={`selectCategories${props.filterlabel}`} className=\"col topic\">\n      <Form.Label>{props.filterlabel}:</Form.Label>\n        <Form.Control as=\"select\" name={`categoryid${props.filterlabel}`} custom onChange={ props.updateFilter } value={curSelectValue}>\n          <option value=\"*\" key=\"All Categories\">All {props.filterlabel}</option>\n          {categoryKids.map((category, index) => (\n            <option value={category.categoryid} key={index}>{category.name}</option>\n          ))}\n        </Form.Control>\n    </Form.Group>\n  )\n}\n\nconst getCategoriesInfo = async (categoryIds) => {\n    const Mura = getMura();\n    const feed = Mura.getFeed('category');\n          feed.findMany(categoryIds);\n\n    const query = await feed.getQuery();\n    const categories = query.getAll();\n    // console.log('categories: ', categories);\n    return categories\n}\n\nconst getPersonasInfo = async (personaIds) => {\n    const Mura = getMura();\n    const feed = Mura.getFeed('persona');\n          feed.findMany(personaIds);\n\n    const query = await feed.getQuery();\n    const personas = query.getAll();\n\n  return personas\n}\n\nconst getCategoryKidsInfo = async (categoryId) => {\n    const Mura = getMura();\n    const feed = Mura.getFeed('category');\n          feed.prop('parentid').isEQ(categoryId);\n\n    const query = await feed.getQuery();\n    const categorykids = query.getAll();\n    // console.log('categorykids: ', categorykids);\n    return categorykids\n}\n\nconst updateCategoryIds = (name,value,curCategoriesArray,InstanceId) => {\n  let match = 0;\n  // console.log('InstanceId: ', InstanceId);\n    for (let i = 0; i < curCategoriesArray.length; i++) {\n      if (curCategoriesArray[i].name === name) {\n            curCategoriesArray[i].value = value;\n            curCategoriesArray[i].instanceid = InstanceId;\n          match = 1;\n          break;\n      }\n    }\n    if (!match){\n        curCategoriesArray.push({ \n          name:name,\n          value:value,\n          instanceid:InstanceId\n        });\n    }\n  \n  return curCategoriesArray;\n}\n\n\n//for debugging only\nconst replacerFunc = () => {\n  const visited = new WeakSet();\n  return (key, value) => {\n    if (typeof value === \"object\" && value !== null) {\n      if (visited.has(value)) {\n        return;\n      }\n      visited.add(value);\n    }\n    return value;\n  };\n};\n\nexport default ResourceHub;","import React,{useState,useEffect} from 'react';\nimport { getMura } from '@murasoftware/next-core';\nimport OutputMarkup from \"./OutputMarkup\";\n\nfunction Text(props) {\n  const objectparams = Object.assign({}, props);\n\n  if(!objectparams.dynamicProps && (objectparams.sourcetype==='component' || objectparams.sourcetype==='boundattribute' )){\n    const [source, setSource]=useState('');\n\n    useEffect(() => {\n        getDynamicProps(objectparams).then((dynamicProps)=>{\n          setSource(dynamicProps.source);\n        });\n    },[]);\n\n    if(source){\n      return (\n        <OutputMarkup source={source} />\n      );\n    } else {\n      return (\n        <div></div>\n        );\n    }\n  } else {\n    let source='';\n    if(objectparams.dynamicProps && (objectparams.sourcetype==='component' || objectparams.sourcetype==='boundattribute')){\n      source=objectparams.dynamicProps.source;\n    } else {\n      source=objectparams.source;\n    }\n    if(source && source !== 'unconfigured'){\n      return (\n        <OutputMarkup source={source} />\n      );\n    } else {\n      return (\n        <div></div>\n        );\n    }\n  }\n}\n\nexport const getDynamicProps = async props => {\n  /* \n    In new development you should use this. \n    const { Mura } = props; \n\n    This pattern is for legacy support \n    const Mura = props.Mura || getMura();\n  */\n  const Mura = props.Mura || getMura();\n  const data = {};\n  if (\n    typeof props.sourcetype !== 'undefined'\n    && (props.sourcetype === 'component' || props.sourcetype === 'boundattribute')\n  ) {\n    if(props.sourcetype === 'component'){\n      if(Mura.isUUID(props.source)){\n        const entity= await Mura.getEntity('content')\n          .loadBy('contentid', props.source, { type: 'component', fields: 'body' });\n          data.source=entity.get('body');\n      } else {\n        const entity= await Mura.getEntity('content')\n        .loadBy('title', props.source, { type: 'component', fields: 'body' });\n        data.source=entity.get('body');\n      } \n    } else if(props.sourcetype === 'boundattribute'){\n      if(typeof props.content.get =='function'){\n        data.source=props.content.get(props.source);\n      } else {\n        data.source=props.content[props.source] || '';\n      }\n    }\n  }\n\n  return data;\n};\n\nexport default Text;\n","import React,{useState,useEffect} from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\n\nfunction PrivacyTools(props){   \n    // const objectparams = Object.assign({}, props);\n    // console.log(objectparams);\n\n    const [optIn, setOptIn] = useState(0);\n    const [optOut, setOptOut] = useState(0);\n    const [mxpAnon, setMxpAnon] = useState(1);\n    const [updateSuccess,setUpdateSuccess] = useState(0);\n    const [showingAlert,setShowingAlert] = useState(false);\n\n    useEffect(() => {\n        let isMounted = true;\n        if (isMounted) {\n            \n            getCurrentPrivacy().then(result => {\n                setMxpAnon(result);\n                //console.log('result: ' + result);\n            }); \n\n        }\n        return () => { isMounted = false };\n    }, []);\n\n    // console.log('_mxpAnon: ', _mxpAnon);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        updatePrivacyMXP(optIn,optOut);        \n        setUpdateSuccess(1);\n        return false;\n    }   \n\n    const updatePrivacyMXP = async (optIn,optOut) => {\n        \n        const privacyOptIn = await Mura\n            .getEntity('privacy_tools')\n            .invoke(\n                'updatePrivacyMXP',\n                {\n                    mxp_opt_in:optIn,\n                    mxp_opt_out:optOut\n                }\n            );\n        \n        setShowingAlert(true);\n        return privacyOptIn;\n    }\n\n    const mxpAnonChanged = (e) => {\n        setMxpAnon(e.target.value);\n        if(e.target.value == 1){\n            setOptIn(0);\n            setOptOut(1);\n        } else {\n            setOptIn(1);\n            setOptOut(0);\n        }\n    }\n    \n    //update opt in / out values on radio button click\n    useEffect(() => {\n        let isMounted = true;\n        if (isMounted) {\n            if(mxpAnon == 1){\n                setOptIn(0);\n                setOptOut(1);\n            } else {\n                setOptIn(1);\n                setOptOut(0);\n            }\n        }\n    \n        return () => { isMounted = false };\n      }, [mxpAnon]); \n    \n    //show alert or not\n    useEffect(() => {\n        let isMounted = true;\n        if (isMounted) {\n            if(showingAlert){\n                setTimeout(() => {\n                    setShowingAlert(false);\n                }, 2000);\n            }\n        }\n\n        return () => { isMounted = false };\n    }, [showingAlert]);\n\n    return(\n    <>\n        <h3>Privacy Settings</h3>\n        {updateSuccess == 1 && showingAlert &&\n            <Alert variant=\"success\" >Your preference has been saved.</Alert>\n        }\n        <Form onSubmit={handleSubmit} data-autowire=\"false\">\n            <Form.Group controlId=\"radio_mxp_anon\">\n                <Form.Check\n                    type=\"radio\"\n                    id=\"mxp_anon1\"\n                    name=\"mxp_anon\"\n                    value=\"0\"\n                    checked={mxpAnon == 0}\n                    onChange={mxpAnonChanged}\n                    label=\"For a better experience, allow this site to store some identifying information\"\n                />\n                <Form.Check\n                    type=\"radio\"\n                    id=\"mxp_anon2\"\n                    name=\"mxp_anon\"\n                    value=\"1\"\n                    checked={mxpAnon == 1}\n                    onChange={mxpAnonChanged}\n                    label=\"Do not allow this site to store some identifying information\"\n                />\n            </Form.Group>\n            <Button variant=\"primary\" type=\"submit\">\n                Submit\n            </Button>\n        </Form>\n    </>\n    );\n}\n\nconst getCurrentPrivacy = async () => {\n    const mxpPrivacy = await Mura\n            .getEntity('privacy_tools')\n            .invoke(\n                'privacyStatus'\n            );\n    \n    // return mxpPrivacy.Output;\n    return mxpPrivacy;\n}\n\nexport default PrivacyTools","import React, { useState,useEffect } from 'react';\nimport { Decorator, getMura } from '@murasoftware/next-core';\n\nconst GatedAsset =function(props) {\n    const Mura=props.Mura || getMura();\n    \n    let objectparams = Object.assign({},props);\n    \n    const [gateIsOpen,setGateIsOpen]=useState(false);\n    const [editMode,setEditMode]=useState(Mura.editing);\n    const gateparams = objectparams.gateparams || {object:\"container\", items:[], 'render':'client',async:false};\n    const assetparams = objectparams.assetparams || {object:\"container\", items:[], 'render':'client',async:false};\n\n    gateparams.ssr=false;\n    assetparams.ssr=false;\n    gateparams.pinned=true;\n    assetparams.pinned=true;\n    \n    if(typeof objectparams.isgatelocked == 'undefined'){\n        objectparams.isgatelocked=true;\n    }\n\n    useEffect(() => {\n        let isMounted = true;\n        const gatedasset=Mura.getEntity('gatedasset');\n\n        if (isMounted) {\n            if(typeof Mura.displayObjectInstances[props.instanceid]=='undefined'){\n                Mura.displayObjectInstances[props.instanceid]= new Mura.DisplayObject.GatedAsset(props);\n            }\n\n            Mura(document).on('muraContentEditInit',function(){\n                if(isMounted){\n                    setEditMode(true);\n                }\n            })\n\n            const module= Mura('div[data-instanceid=\"' + props.instanceid +'\"]');\n\n            module.on('formSubmitSuccess',function(e){\n                if(isMounted && !gateIsOpen){\n                    const source = e.target || e.srcElement;\n                    const formObj=Mura(source).closest('div.mura-object[data-object=\"form\"]');\n                    gatedasset.invoke('openGate',{contentid: props.content.contentid,formid:formObj.data('objectid')},'get');\n                    setTimeout(\n                        function(){\n                            setGateIsOpen(true);\n                        },\n                        4000\n                    );\n                   \n                }\n            })\n            \n            const handleIsGateOpen = (response)=>{\n                if(typeof response === 'boolean' && response\n                    || typeof response === 'number' && response\n                    || typeof response === 'string' && response.toLowerCase()=='true'){\n                    if(isMounted){\n                        setGateIsOpen(true);\n                    }\n                }\n            }\n            \n            const checkContainerForOpenGates = function(params){\n                if(Array.isArray(params.items)){\n                    params.items.forEach((item)=>{\n                        if(item.object=='form'){\n                            gatedasset.invoke(\n                                'isGateOpen',\n                                {contentid: props.content.contentid,formid:item.objectid}\n                                ,'get')\n                                .then(\n                                    handleIsGateOpen,\n                                    handleIsGateOpen\n                                )\n                        } else if(item.object=='container'){\n                            checkContainerForOpenGates(item);\n                        }\n                    })\n                }\n            }\n\n            if( objectparams.isgatelocked ){\n                checkContainerForOpenGates(gateparams);\n            } else {\n                setGateIsOpen(true);\n            }\n            \n        }\n        return () => { isMounted = false };\n       \n      }, []);\n\n    return (\n        <div>\n            { \n                editMode\n                    ? <div><button className={!gateIsOpen ? 'btn btn-primary' : 'btn'} onClick={function(){setGateIsOpen(false)}}>Gate</button>\n                    <button className={gateIsOpen ? 'btn btn-primary' : 'btn'} onClick={function(){setGateIsOpen(true)}}>Asset</button></div>\n                    : null \n            }\n            <div>\n                <div className=\"mura-gate\" style={{display: !gateIsOpen ? 'block' : 'none' }}>\n                    <Decorator {...gateparams} content={props.content} Mura={props.Mura}/>\n                </div>\n                <div className=\"mura-asset\" style={{display: gateIsOpen ? 'block' : 'none' }}>\n                    <Decorator {...assetparams} content={props.content} Mura={props.Mura}/>\n                </div>\n            </div>\n        </div>\n    );\n}\n\n\nexport default GatedAsset;\n","import React from 'react';\n\nclass Gist extends React.PureComponent {\n  componentDidMount() {\n    this._updateIframeContent();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    this._updateIframeContent();\n  }\n\n  _defineUrl() {\n    const { id, file } = this.props;\n\n    const fileArg = file ? `?file=${file}` : '';\n\n    return `https://gist.github.com/${id}.js${fileArg}`;\n  }\n\n  _updateIframeContent() {\n    const { id, file } = this.props;\n\n    const iframe = this.iframeNode;\n\n    let doc = iframe.document;\n    if (iframe.contentDocument) doc = iframe.contentDocument;\n    else if (iframe.contentWindow) doc = iframe.contentWindow.document;\n\n    const gistLink = this._defineUrl()\n    const gistScript = `<script type=\"text/javascript\" src=\"${gistLink}\"></script>`;\n    const styles = '<style>*{font-size:12px;}</style>';\n    const elementId = file ? `gist-${id}-${file}` : `gist-${id}`;\n    const resizeScript = `onload=\"parent.document.getElementById('${elementId}').style.height=document.body.scrollHeight + 'px'\"`;\n    const iframeHtml = `<html><head><base target=\"_parent\">${styles}</head><body ${resizeScript}>${gistScript}</body></html>`;\n\n    doc.open();\n    doc.writeln(iframeHtml);\n    doc.close();\n  }\n\n  render() {\n    const { id, file } = this.props;\n\n    return (\n      <iframe\n        ref={(n) => { this.iframeNode = n; }}\n        width=\"100%\"\n        frameBorder={0}\n        id={file ? `gist-${id}-${file}` : `gist-${id}`}\n      />\n    );\n  }\n}\n\nconst render =function(props) {\n    let objectparams = Object.assign({},props);\n\n    objectparams.gistid = objectparams.gistid || '';\n    objectparams.file = objectparams.file || '';\n\n    if(objectparams.gistid){\n        return (\n            <Gist id={objectparams.gistid} file={objectparams.file} />\n        )\n    } else {\n        return (\n            <div></div>\n        )\n    }\n    \n}\n\nexport default render;\n","import React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport { getLayout, RouterlessLink, RouterLink, getSelectFields } from './Collection';\nimport { getMura } from '@murasoftware/next-core';\nimport Alert from 'react-bootstrap/Alert'\n\nfunction getDefaultQueryPropsFromLayout(layout,item){\n  if(layout){\n    return layout.getQueryProps ? layout.getQueryProps(item) : {fields:''};\n  } else {\n    return  {fields:''};\n  }\n}\n\nfunction SearchResults(props) {\n  const Mura = props.Mura || getMura();\n  const objectparams = Object.assign({}, props);\n  const DynamicCollectionLayout = getLayout('SearchResultsLayout').component;\n\n  objectparams.fields=objectparams.fields || getDefaultQueryPropsFromLayout(DynamicCollectionLayout,objectparams).fields || 'Image,Date,Title,Summary,Credits,Tags';\n\n  let queryText = '';\n\n  if (!Mura.editing){\n      const router = useRouter();\n      queryText = router.query.q;\n  }\n  \n  objectparams.dynamicProps=objectparams.dynamicProps ||  {something:'new'};\n\n  const _collection=objectparams.dynamicProps.collection ? new Mura.EntityCollection(objectparams.dynamicProps.collection,Mura._requestcontext) : false;\n  \n  if(!_collection){\n    const [collection,setCollection]=useState(_collection);\n    \n    useEffect(() => {\n      let isMounted = true;\n      if (isMounted) {\n        getDynamicProps(queryText,props).then((_dynamicProps) => {\n          if(isMounted){\n            setCollection(new Mura.EntityCollection(_dynamicProps.collection,Mura._requestcontext));\n          }\n        });\n      }\n      return () => { isMounted = false };\n    }, []);\n\n    if(collection) {\n      return (\n        <>\n          <SearchMessage qText={queryText} />\n          <DynamicCollectionLayout setCollection={setCollection} collection={collection} props={objectparams} link={RouterlessLink}/>\n        </>\n      )\n    }\n    else {\n      return (\n       <div></div>\n      )\n    }\n  } else {\n    const [collection,setCollection]=useState(_collection);\n\n    return (\n      <>\n        <SearchMessage qText={queryText} />\n        <DynamicCollectionLayout setCollection={setCollection} collection={collection} props={props} link={RouterLink}/>\n      </>\n      )\n  }\n}\n\nexport const getDynamicProps = async function(queryText,props) {\n    const Mura = props.Mura || getMura();\n    const data = {};\n    const feed = Mura.getFeed('content');\n\n    //exclude stuff you don't want returned\n    feed.prop('subtype').isNEQ('Author');\n    feed.andProp('subtype').isNEQ('Confirmation');\n    \n    feed.andOpenGrouping();\n    feed.orProp('title').containsValue(queryText);\n    feed.orProp('body').containsValue(queryText);\n    feed.orProp('summary').containsValue(queryText);\n    feed.closeGrouping();\n    feed.maxItems(props.maxitems);\n    \n    if(Mura.renderMode !='static'){      \n      feed.itemsPerPage(props.nextn);\n    } else {\n      feed.itemsPerPage(0);\n    }\n\n    const query = await feed.getQuery();\n    data.collection = query.getAll();\n    // console.log('search results: ', data);\n    return data;\n}\n\nconst SearchMessage = (props) => {\n  const qText = props.qText;\n  return(\n    <Alert variant=\"info\">\n        <p className=\"mb-0\">Results for your search of: <strong>{qText}</strong></p>\n    </Alert>\n  )\n}\nexport default SearchResults;","import React, { useState } from \"react\";\nimport OutputMarkup from \"./OutputMarkup\";\nimport CollectionNav from './CollectionNav';\nimport ItemDate from './ItemDate';\nimport CollectionReadMoreBtn from './CollectionReadMoreBtn';\nimport ItemCredits from './ItemCredits';\nimport ItemTags from './ItemTags';\nimport ItemImage from './ItemImage';\nimport { getMura } from '@murasoftware/next-core';\n\nconst SearchResultsLayout = ({props,collection,setCollection,link}) => {\n  const [pos, setPos] = useState(0);\n\n  return (\n    <div className=\"searchResultsLayout\">\n\n        <CurrentItems collection={collection} pos={pos} link={link} {...props} /> \n      \n        <div className=\"row\">\n            <div className=\"col-12\">\n            <CollectionNav setCollection={setCollection} collection={collection} pos={pos} setPos={setPos} link={link} {...props} />\n            </div>\n        </div>\n    </div>\n  )\n}\n\nconst CurrentItems = (props) => {\n  const Mura = props.Mura || getMura();\n  const {collection,nextn,link,pos,fields,scrollpages} = props;\n  let itemsList = [];\n  let item = '';\n  const Link = link;\n  const items = collection.get('items');\n  let itemsTo = pos+nextn > items.length ? items.length : pos+nextn;\n  const fieldlist = fields ? fields.toLowerCase().split(\",\") : [];\n  const maxItems = props.maxitems;\n  const startIndex = collection.get('startindex');\n\n  if(Mura.renderMode != 'static' && scrollpages){\n    itemsTo=items.length;\n  } else {\n    if (maxItems < items.length && pos+nextn > maxItems){\n      itemsTo = maxItems;\n    }\n  }\n  \n  for(let i = pos;i < itemsTo;i++) {\n    item = items[i];\n\n    itemsList.push(\n      <div className=\"row mb-3\" key={item.get('contentid')}>\n        <ListImage fieldlist={fieldlist} item={item} imagesize={props.imagesize} />\n        <ListMeta startIndex={startIndex} index={i} pos={pos} itemsTo={itemsTo} fieldlist={fieldlist} item={item} Link={Link} />\n      </div>\n    );\n  }\n\n  return itemsList;\n}\n\nconst ListImage = (props) => {\n  const {fieldlist, item} = props;\n\n  let hasImage = false;\n  if (fieldlist.indexOf(\"image\") > -1) {\n    hasImage = true;\n  }\n  if(hasImage) {\n    const imagesize= props.imagesize || 'medium';\n    return(\n      <div className=\"col-12 col-md-3 mb-3 pr-md-0\">\n          <ItemImage image={item.get('images')[imagesize]} className=\"img-fluid\" alt={item.get('title')} key=\"image\" />\n      </div>\n    )  \n  }\n  return(\n    <></>\n  )\n}\n\nconst ListMeta = (props) => {\n  const {fieldlist, item, Link, index, pos, startIndex} = props;\n  const currentIndex = index + startIndex;\n\n  let hasImage = false;\n  if (fieldlist.indexOf(\"image\") > -1) {\n    hasImage = true;\n  }\n\n  let isLink = false;\n  if (item.get('type') === \"Link\") {\n    isLink = true;\n  }\n  // console.log(item.get('type'));\n  return(\n    <div className=\"col-12 py-3\">\n        <div className=\"mura-item-meta\">\n        {\n            fieldlist.map(field => {\n              switch(field) {\n                case \"title\":\n                  return (\n                    <div className=\"mura-item-meta__title\" key={item.get('field')}>                        \n                        <h3><Link href={`/${item.get('filename')}`} className=\"text-dark\">{currentIndex}. {item.get('title')}</Link></h3>                        \n                    </div>\n                  )\n                case \"date\":\n                case \"releasedate\":\n                    return (\n                      <div className=\"mura-item-meta__date\" key=\"date\">\n                        <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                      </div>\n                    );\n                case \"summary\":\n                  return <OutputMarkup source={item.get('summary')} key={field} />\n                case \"readmore\":\n                      return (\n                        <div className=\"mura-item-meta__readmore\" key={field}>\n                          <CollectionReadMoreBtn\n                            href={`/${item.get('filename')}`}\n                            ctatext=\"Read More\"\n                            link={Link}\n                            key={item.get('contentid')}\n                          />\n                        </div>\n                      )\n                case \"credits\":\n                    if(item.get('credits').length){\n                      return (\n                        <div className=\"mura-item-meta__credits\">\n                          <ItemCredits credits={item.get('credits')} key=\"credits\" />\n                        </div>\n                      );\n                    }\n                    return null;\n                case \"tags\":\n                    return (\n                        <div className=\"mura-item-meta__tags pb-2\" key=\"tags\">\n                          <ItemTags tags={item.get('tags')} />\n                        </div>\n                    );\n                default:\n                  return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n              }        \n            })\n        }\n        </div>\n      </div>\n  )\n}\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = (item) => {\n  const data = {};\n  data['fields'] = \"\";\n\n  return data;\n};\n\nexport default SearchResultsLayout;","import React, { useState } from \"react\";\nimport Form from 'react-bootstrap/Form';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport Button from 'react-bootstrap/Button';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\n\nfunction SearchForm(props) {\n    return (\n\n        <Form method=\"get\" id=\"searchForm\" className=\"form-inline ml-5\" role=\"search\" action=\"/search-results\" key=\"siteSearch\">\n            <InputGroup className=\"\">\n                <Form.Control\n                placeholder=\"Search\"\n                aria-label=\"Search\"\n                aria-describedby=\"Search\"\n                name=\"q\"\n                type=\"text\"\n                />\n                <InputGroup.Append>\n                    <Button variant=\"light\" type=\"submit\"><FontAwesomeIcon icon={faSearch} size=\"lg\" /></Button>\n                </InputGroup.Append>\n            </InputGroup>\n        </Form>\n    )    \n\n}\n\nexport default SearchForm;","import React from 'react';\n\nexport function UtilityNav(props) {\n\treturn (\n\t\t<div className=\"mura-utility-links\">\n\t\t\t<UtilityLinks {...props} />\n\t\t</div>\n\t) \n\t\n}\n\nconst UtilityLinks = (props) => {\n\tconst CustomLinks = props.customlinks ? Array.from(props.customlinks) : [];\n\n\tif (CustomLinks && CustomLinks.length){\n\t\tconst UtilityLinks = CustomLinks.map((link,index) => \n\t\t<li className=\"list-inline-item\" key={index}>\n\t\t\t<a href={link.value} target={props.linktarget && props.linktarget != \"_self\" ? props.linktarget : ''}>{link.name}</a>\n\t\t</li>\n\t\t);\n\t\treturn (\n\t\t\t<ul className=\"list-inline\">\n\t\t\t\t{UtilityLinks}\n\t\t\t</ul>\n\t\t)\n\t}\n\treturn null    \n}\n\nexport default UtilityNav;","import React, { useEffect } from 'react';\n\nexport const MuraClassicWrapper=function(props) {\n    const{ Mura } = props;\n    const objectparams = Object.assign({}, props);\n    objectparams.html=objectparams.html || '';\n    const containerid='mc-container-' + objectparams.instanceid;\n\n    useEffect(() => {\n        if(!objectparams.dynamicProps || !objectparams.dynamicProps.html){\n            getDynamicProps(objectparams).then((dynamicProps)=>{\n                Mura('#'  + containerid).html(objectparams.dynamicProps.html);\n            });\n        } else {\n            Mura('#'  + containerid).html(objectparams.dynamicProps.html);\n        }\n        \n    },[]);\n  \n    return (\n        <div id={containerid}/>\n    );\n}\n\nexport const getDynamicProps = async props => {\n    const{ Mura } = props;\n    const objectparams = Object.assign({}, props);\n   \n    delete props.moduleStyleData;\n    delete props.content;\n    delete props.queryParams;\n    delete props.dynamicProps;\n    delete props.queryParams;\n    delete props.regionContext;\n    delete props.objectname\n    delete props.objecticon\n    delete props.objecticonclass\n    delete props.Mura\n\n    objectparams.render=\"server\";\n    objectparams.method='processAsyncObject';\n    objectparams.decoupled=false;\n   \n   const result=await Mura.get(Mura.getAPIEndpoint(),objectparams);\n   \n   return result.data;\n  }\n\n  export default MuraClassicWrapper;"],"names":["Youtube","props","instanceid","videoid","React","Vimeo","Wistia","Mura","getMura","dynamicProps","useEffect","loader","window","loadjs","async","padding","position","height","left","top","width","ModalVideo","modalcta","buttonclass","buttonplayiconsize","buttonctatext","showbuttonplayicon","openPlayer","openVidyardLightbox","getVideoPlayer","players","videoplatform","Video","displaytype","length","ItemDate","date","formatteddate","releasedate","lastupdate","Date","Intl","DateTimeFormat","year","month","day","format","ItemCredits","Credits","credits","split","creditsList","credit","i","push","ItemTags","Tags","tags","tagList","tag","variant","htmlDirectives","transform","tree","visit","ondirective","node","data","hast","h","name","attributes","hName","tagName","hProperties","properties","renderDirective","elem","Object","assign","toLowerCase","Decorator","ssr","children","createElement","e","console","error","renderers","textDirective","leafDirective","containerDirective","heading","level","parseStringAsTemplate","stringValue","parsedString","doLoop","finder","exec","template","eval","log","replace","OutputMarkup","source","className","parsedSource","getMuraConfig","ConnectorConfig","htmleditortype","gfm","slug","directive","__html","ArticleMeta","fields","fieldlist","titleclass","item","content","catAssignments","categoryassignments","FeaturedCategoryOnly","featuredcategoryonly","map","field","title","menutitle","summary","getLayout","layout","muraConfig","ComponentRegistry","uselayout","getDefaultQueryPropsFromLayout","getQueryProps","Collection","objectparams","DynamicCollectionLayout","component","_collection","collection","EntityCollection","_requestcontext","useState","setCollection","isMounted","getDynamicProps","then","_dynamicProps","RouterlessLink","RouterLink","href","getHref","getItemsPerPage","renderMode","nextn","itemsperpage","cdata","sourcetype","feed","getFeed","getAll","andProp","isEQ","contentid","getSelectFields","expand","getExpandFields","maxItems","maxitems","itemsPerPage","sort","sortby","sortdirection","getQuery","query","src","items","Array","isArray","JSON","parse","where","findMany","related","totaltems","getRelatedContent","getEntity","set","imagesizes","getImageSizes","isUUID","imageSizes","fieldarray","hasDate","hasFilename","hasImage","hasFileid","hasContentid","hasContenthistid","hasParentid","filter","join","CollectionNav","nav","pos","setPos","scrollpages","itemsTo","setItemsTo","get","next","prev","itemsOf","itemsToMax","isInNode","isEndVisible","end","isScrolledIntoView","setTimeout","toLocaleLowerCase","endindex","setEndindex","has","incoming","reverse","forEach","unshift","goToPage","page","NavButton","val","onItemClick","_onClick","label","NavButtonLabel","FontAwesomeIcon","faChevronRight","faChevronLeft","CollectionLayout","link","CurrentItems","itemsList","Link","CollectionReadMoreBtn","ctatext","ItemImage","image","alt","itemImage","CollectionLayoutAccordian","accordionpadding","collapseindicators","collapseindicatorslocation","activeId","setActiveId","toggleActive","id","Card","Header","imagesize","AlternatingBoxes","includes","AlternatingRows","ItemCategories","Categories","categories","catsList","cat","cats","Featuredonly","hasnext","featuredonly","filteredCats","category","isfeature","catsTo","categoryid","categoryname","CheckForItems","Cards","totalpages","NoItemsMessage","rowcolssm","rowcolsmd","rowcolslg","rowcolsxl","filteredField","showcategories","featuredcategoriesonly","List","ListImage","indexOf","ListMeta","Masonry","SlickSlider","CustomNextArrow","style","onClick","CustomPrevArrow","slides","Number","slidestoshow","sliderlayout","dots","arrows","infinite","speed","autoplay","autoplayspeed","lazyload","vertical","verticalswiping","fade","centermode","centerpadding","breakpoint","settings","slidesToShow","slidesToScroll","objectid","SliderItem","sliderimage","Container","displayObjectInstances","DisplayObject","$items","resetInstanceIds","_items","createUUID","object","cloning","obj","key","moduleStyleData","regionContext","queryParams","getComponent","Hr","CTAButton","buttontext","buttoncolor","buttonsize","buttonlink","buttontarget","buttonblock","btnclass","Embed","containerid","html","Image","caption","imagelink","fit","imagelinktarget","margin","FigCaption","Img","objectFit","Login","processDisplayObject","MatrixSelector","_personas","personas","_stages","stages","setPersonas","setStages","_selfIdStart","selfidstart","_selfIdMiddle","selfidmiddle","_selfIdEnd","selfidend","_displayType","selfIdStart","selfIdMiddle","selfIdEnd","displayType","currentStageId","setCurrentStageId","currentPersonaId","setCurrentPersonaId","isPreview","setIsPreview","curSelPersona","setCurSelPersona","curSelStage","setCurSelStage","buttonEnabled","setButtonEnabled","updateSuccess","setUpdateSuccess","showingAlert","setShowingAlert","isSaving","setIsSaving","isClearing","setIsClearing","isPreviewing","setIsPreviewing","selHasChanged","setSelHasChanged","selPersonaValidated","setSelPersonaValidated","selStageValidated","setSelStageValidated","handleSave","preventDefault","saveExperience","handlePreview","previewExperience","handleClear","clearExperience","mode","updateSelectedPersona","newPersona","target","value","checkSelectValidation","updateSelectedStage","newStage","persona","stage","updateButtonStatus","personaid","stageid","invoke","exp","personaselected","stageselected","location","setSeconds","seconds","currentstageid","currentpersonaid","ispreview","open","setOpen","widgetposition","faBolt","MatrixSelectorFooter","CustomLinks","customlinks","from","UtilityLinks","index","MatrixForm","selfidq","PrimaryNav","setItems","Render","homeNavIcon","navlogo","displayhome","filename","kids","navicon","translations","displaysearch","prop","homeid","type","Homelink","homeTitle","createIcon","LangOptions","translation","siteid","url","NavLinkDropdown","display","child","ResourceHub","author","editing","router","useRouter","t","a","_curSubtype","_curCategoryIds","_curPersonaId","_curCategoriesArray","_hasMXP","filterprops","subtype","selectedcats","sc","hasmxp","instanceId","curSubtype","setCurSubtype","curCategoriesArray","setCurCategoriesArray","curCategoryIds","setCurCategoryIds","curPersonaId","setCurPersonaId","curSearchText","setCurSearchText","hasMXP","setHasMXP","showtextsearch","showTextSearch","newFilter","setNewFilter","toString","filterUpdated","setFilterUpdated","handleSubmit","updateFilter","updateCategoryIds","getCategoryIds","getFilterProps","filterProps","getCollection","categoriesList","undefined","filterCategories","splice","excludeIDList","isIn","containsValue","isNotIn","isNEQ","useCategoryIntersect","andOpenGrouping","orProp","closeGrouping","sortBy","selectedcategories","newfilter","Subtype","Categoryid","Personaid","CurSelectedCats","NewFilter","RenderFilterForm","categoriesArray","setCategoriesArray","personasArray","setPersonasArray","subtypesArray","subtypes","categoryIds","categoryids","personaIds","personaids","getCategoriesInfo","getPersonasInfo","faSearch","curCategoryId","option","CategorySelect","categoryKids","setCategoryKids","curSelectValue","getCategoryKidsInfo","filterlabel","categoryId","categorykids","InstanceId","match","Text","setSource","loadBy","entity","PrivacyTools","optIn","setOptIn","optOut","setOptOut","mxpAnon","setMxpAnon","getCurrentPrivacy","result","updatePrivacyMXP","mxp_opt_in","mxp_opt_out","privacyOptIn","mxpAnonChanged","GatedAsset","gateIsOpen","setGateIsOpen","editMode","setEditMode","gateparams","assetparams","pinned","isgatelocked","gatedasset","document","on","module","srcElement","formObj","closest","formid","handleIsGateOpen","response","checkContainerForOpenGates","params","Gist","componentDidMount","_updateIframeContent","componentDidUpdate","prevProps","prevState","_defineUrl","file","fileArg","iframe","iframeNode","doc","contentDocument","contentWindow","gistLink","gistScript","styles","elementId","resizeScript","iframeHtml","writeln","close","render","n","PureComponent","gistid","SearchResults","queryText","q","something","SearchMessage","qText","SearchResultsLayout","startIndex","currentIndex","SearchForm","UtilityNav","linktarget","MuraClassicWrapper","objectname","objecticon","objecticonclass","method","decoupled","getAPIEndpoint"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,SAASA,OAAT,CAAiBC,KAAjB,EAAwB;EACtB,IAAQC,UAAR,GAAgCD,KAAhC,CAAQC,UAAR;MAAoBC,OAApB,GAAgCF,KAAhC,CAAoBE,OAApB;EAEA,oBACEC;IAAK,SAAS,EAAC,gBAAf;IAAgC,EAAE,cAAYF;kBAC5CE;IACE,KAAK,EAAC,gBADR;IAEE,GAAG,+BAA6BD,OAA7B,2CAFL;IAGE,WAAW,EAAC,GAHd;IAIE,eAAe;IALnB,CADF;AAUD;;ACbD,SAASE,KAAT,CAAeJ,KAAf,EAAsB;EACrB,IAAQC,UAAR,GAAgCD,KAAhC,CAAQC,UAAR;MAAoBC,OAApB,GAAgCF,KAAhC,CAAoBE,OAApB;EAEA,oBACEC;IAAK,SAAS,EAAC,cAAf;IAA8B,EAAE,cAAYF;kBAC7CE;IACC,GAAG,sCAAoCD,OADxC;IAEC,KAAK,EAAC,KAFP;IAGC,MAAM,EAAC,KAHR;IAIC,WAAW,EAAC,GAJb;IAKC,KAAK,EAAC,sBALP;IAMC,eAAe;IAPf,CADF;AAYA;;ACbD,SAASG,MAAT,CAAgBL,KAAhB,EAAuB;EACtB,IAAMM,IAAI,GAAGN,KAAK,CAACM,IAAN,IAAcC,gBAAO,EAAlC;EACA,IAAQN,UAAR,GAA8CD,KAA9C,CAAQC,UAAR;MAAoBC,OAApB,GAA8CF,KAA9C,CAAoBE,OAApB;MAA6BM,YAA7B,GAA8CR,KAA9C,CAA6BQ,YAA7B;EAEAC,eAAS,CAAC,YAAM;IACf,IAAG,OAAOD,YAAP,IAAuB,WAA1B,EAAsC;MACrC,IAAME,MAAM,GAACJ,IAAI,CAACI,MAAL,EAAb;;MACA,IAAG,OAAOC,MAAM,CAACN,MAAd,IAAwB,WAA3B,EAAuC;QACtCK,MAAM,CAACE,MAAP,CAAc,iDAAd,EAAgE;UAACC,KAAK,EAAC;SAAvE;;;MAEDH,MAAM,CAACE,MAAP,CAAc,uDAAd,EAAsE;QAACC,KAAK,EAAC;OAA7E;;GANO,EAQN,EARM,CAAT;EAWA,oBACEV;IAAK,SAAS,EAAC,eAAf;IAA+B,EAAE,cAAYF;kBAC9CE,6BAAC,IAAD,qBACCA;IAAQ,KAAK,MAAb;IAAc,GAAG,EAAC;IADnB,eAECA;IAAQ,KAAK,MAAb;IAAc,GAAG,4CAA0CD,OAA1C;IAFlB,CADC,eAKDC;IACC,SAAS,EAAC,2BADX;IAEC,KAAK,EAAE;MAACW,OAAO,EAAE,cAAV;MAAyBC,QAAQ,EAAE;;kBAC1CZ;IACC,SAAS,EAAC,2BADX;IAEC,KAAK,EAAE;MAACa,MAAM,EAAC,MAAR;MAAeC,IAAI,EAAC,CAApB;MAAsBF,QAAQ,EAAC,UAA/B;MAA0CG,GAAG,EAAC,CAA9C;MAAgDC,KAAK,EAAC;;kBAC7DhB;IACC,SAAS,iCAA+BD,OADzC;IAEC,GAAG,EAAC,OAFL;IAGC,SAAS,EAAC,MAHX;IAIC,KAAK,EAAE;MAACc,MAAM,EAAC,MAAR;MAAeG,KAAK,EAAC;;YAP9B,CAHD,CALC,CADF;AAqBA;;ACrCD,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAAsB;EAAA,IAApBpB,KAAoB,QAApBA,KAAoB;EAExC,IAAOqB,QAAP,GAAmFrB,KAAnF,CAAOqB,QAAP;MAAgBC,WAAhB,GAAmFtB,KAAnF,CAAgBsB,WAAhB;MAA4BC,kBAA5B,GAAmFvB,KAAnF,CAA4BuB,kBAA5B;MAA+CC,aAA/C,GAAmFxB,KAAnF,CAA+CwB,aAA/C;MAA6DC,kBAA7D,GAAmFzB,KAAnF,CAA6DyB,kBAA7D;;EACA,IAAMC,UAAU,GAAC,SAAXA,UAAW,GAAU;IAACC,mBAAmB,CAAC3B,KAAK,CAACE,OAAP,CAAnB;IAAoC,OAAO,KAAP;GAAhE;;EACA,QAAOmB,QAAP;IACC,KAAK,QAAL;MACC,oBACClB;QACC,IAAI,EAAC,QADN;QAEC,OAAO,EAAEuB,UAFV;QAGC,SAAS,eAAaJ;SACrBG,kBAAkB,gBAClBtB;QAAG,SAAS,sBAAoBoB,kBAApB;QADM,GAGlB,IAPF,EASEC,aATF,eAUCrB,6BAAC,IAAD,OAVD,CADD;;IAkBD;MACC,oBAAOA,gDAAP;;AAEF,CA3BD;;ACKA,IAAMyB,cAAc,GAAG,SAAjBA,cAAiB,CAAA5B,KAAK,EAAI;EAC9B,IAAM6B,OAAO,GAAG,EAAhB;EACAA,OAAO,CAAC,SAAD,CAAP,GAAqB9B,OAAO,CAACC,KAAD,CAA5B;EACA6B,OAAO,CAAC,OAAD,CAAP,GAAmBzB,KAAK,CAACJ,KAAD,CAAxB;EACA6B,OAAO,CAAC,QAAD,CAAP,GAAoBxB,MAAM,CAACL,KAAD,CAA1B;EAGA,OAAO6B,OAAO,CAAC7B,KAAK,CAAC8B,aAAP,CAAd;AACD,CARD;;AAUA,SAASC,KAAT,CAAe/B,KAAf,EAAsB;EAEpB,IAAQgC,WAAR,GAAgDhC,KAAhD,CAAQgC,WAAR;MAAqB9B,OAArB,GAAgDF,KAAhD,CAAqBE,OAArB;MAA8B4B,aAA9B,GAAgD9B,KAAhD,CAA8B8B,aAA9B;;EAEA,IAAG,OAAOA,aAAP,IAAsB,WAAtB,IAAqC,CAACA,aAAa,CAACG,MAAvD,EAA+D;IAC7D,oBAAO9B,oEAAP;GADF,MAGK,IAAG,CAACD,OAAJ,EAAa;IAChB,oBAAOC,8DAAP;GADG,MAGA;IAEH,IAAG6B,WAAW,KAAK,OAAnB,EAA4B;MAC1B,oBACA7B,6BAAC,UAAD;QAAY,KAAK,EAAEH;SAChB4B,cAAc,CAAC5B,KAAD,CADjB,CADA;KADF,MAOK;MACH,OAAO4B,cAAc,CAAC5B,KAAD,CAArB;;;AAGL;;ACvCM,IAAMkC,QAAQ,GAAG,SAAXA,QAAW,CAAClC,KAAD,EAAW;EAC/B,IAAImC,IAAI,GAAG,EAAX;EACA,IAAIC,aAAa,GAAG,EAApB;;EAEA,IAAIpC,KAAK,CAACqC,WAAN,IAAqB,IAArB,IAA6BrC,KAAK,CAACqC,WAAN,IAAqB,EAAnD,IAA2DrC,KAAK,CAACsC,UAAN,IAAoB,IAApB,IAA4BtC,KAAK,CAACsC,UAAN,IAAoB,EAA9G,EAAmH;IACjH,IAAGtC,KAAK,CAACqC,WAAT,EAAqB;MACnBF,IAAI,GAAG,IAAII,IAAJ,CAASvC,KAAK,CAACqC,WAAf,CAAP;KADF,MAEO;MACLF,IAAI,GAAG,IAAII,IAAJ,CAASvC,KAAK,CAACsC,UAAf,CAAP;;;IAEFF,aAAa,GAAGI,IAAI,CAACC,cAAL,CAAoB,OAApB,EAA6B;MAACC,IAAI,EAAE,SAAP;MAAiBC,KAAK,EAAE,MAAxB;MAA+BC,GAAG,EAAE;KAAjE,EAA6EC,MAA7E,CAAoFV,IAApF,CAAhB;IACA,OAAOC,aAAP;;;EAGF,OACI,IADJ;AAGD,CAjBI;;ACAP,IAAMU,WAAW,GAAG,SAAdA,WAAc,CAAC9C,KAAD,EAAW;EAC3B,IAAM+C,OAAO,GAAG/C,KAAK,CAACgD,OAAN,CAAcC,KAAd,CAAoB,GAApB,CAAhB;EACA,IAAIC,WAAW,GAAG,EAAlB;EACA,IAAIC,MAAM,GAAG,EAAb;;EAEA,KAAI,IAAIC,CAAC,GAAG,CAAZ,EAAcA,CAAC,GAAGL,OAAO,CAACd,MAA1B,EAAiCmB,CAAC,EAAlC,EAAsC;IAClCD,MAAM,GAAGJ,OAAO,CAACK,CAAD,CAAhB;IACAF,WAAW,CAACG,IAAZ,eACIlD;MAAK,SAAS,EAAC,8BAAf;MAA8C,GAAG,EAAEgD;4BAC3ChD,6CAASgD,MAAT,CADR,CADJ;;;EAOJ,OAAOD,WAAP;AACH,CAfD;;ACCA,SAASI,QAAT,CAAkBtD,KAAlB,EAAwB;EAEpB,IAAMuD,IAAI,GAAGvD,KAAK,CAACwD,IAAN,CAAWP,KAAX,CAAiB,GAAjB,CAAb;EACA,IAAIQ,OAAO,GAAG,EAAd;EACA,IAAIC,GAAG,GAAG,EAAV;EACA,IAAMC,OAAO,GAAG3D,KAAK,CAAC2D,OAAN,GAAgB3D,KAAK,CAAC2D,OAAtB,GAAgC,SAAhD;;EAEA,KAAI,IAAIP,CAAC,GAAG,CAAZ,EAAcA,CAAC,GAAGG,IAAI,CAACtB,MAAvB,EAA8BmB,CAAC,EAA/B,EAAmC;IAC/BM,GAAG,GAAGH,IAAI,CAACH,CAAD,CAAV;IACAK,OAAO,CAACJ,IAAR,eACIlD,6BAAC,KAAD;MAAO,OAAO,EAAKwD,OAAL,UAAd;MAAmC,GAAG,EAAED;OAAMA,GAA9C,CADJ;;;EAKJ,OAAOD,OAAP;AAEH;;ACVD,SAASG,cAAT,GAA0B;EACtB,OAAOC,SAAP;;EAEA,SAASA,SAAT,CAAmBC,IAAnB,EAAyB;IACvBC,KAAK,CAACD,IAAD,EAAO,CAAC,eAAD,EAAkB,eAAlB,EAAmC,oBAAnC,CAAP,EAAiEE,WAAjE,CAAL;;;EAGF,SAASA,WAAT,CAAqBC,IAArB,EAA2B;IACzB,IAAIC,IAAI,GAAGD,IAAI,CAACC,IAAL,KAAcD,IAAI,CAACC,IAAL,GAAY,EAA1B,CAAX;IACA,IAAIC,IAAI,GAAGC,CAAC,CAACH,IAAI,CAACI,IAAN,EAAYJ,IAAI,CAACK,UAAjB,CAAZ;IAEAJ,IAAI,CAACK,KAAL,GAAaJ,IAAI,CAACK,OAAlB;IACAN,IAAI,CAACO,WAAL,GAAmBN,IAAI,CAACO,UAAxB;;AAEH;;AAEH,SAASC,eAAT,CAAyBC,IAAzB,EAA8B;EAI1B,IAAIlB,GAAG,GAACkB,IAAI,CAACX,IAAL,CAAUC,IAAV,CAAeK,KAAvB;EACA,IAAIvE,KAAK,GAAE6E,MAAM,CAACC,MAAP,CAAc,EAAd,EAAiBF,IAAI,CAACX,IAAL,CAAUC,IAAV,CAAeO,WAAhC,CAAX;;EAEA,IAAG;IACC,QAAOG,IAAI,CAACX,IAAL,CAAUC,IAAV,CAAeK,KAAf,CAAqBQ,WAArB,EAAP;MACI,KAAK,QAAL;QACIrB,GAAG,GAACsB,kBAAJ;QACAhF,KAAK,CAAC,aAAD,CAAL,GAAqB,QAArB;QACAA,KAAK,CAACiF,GAAN,GAAU,KAAV;QACH;;MAED,KAAK,SAAL;QAGI;;MAEJ,KAAK,SAAL;QAGI;;;IAER,IAAGL,IAAI,CAACM,QAAL,CAAcjD,MAAjB,EAAwB;MACpB,OAAO9B,cAAK,CAACgF,aAAN,CAAoBzB,GAApB,EAAyB1D,KAAzB,EAAgC4E,IAAI,CAACM,QAArC,CAAP;KADJ,MAEO;MACH,OAAO/E,cAAK,CAACgF,aAAN,CAAoBzB,GAApB,EAAyB1D,KAAzB,CAAP;;GArBR,CAuBE,OAAMoF,CAAN,EAAQ;IACNC,OAAO,CAACC,KAAR,CAAc,gCAAd,EAA+CF,CAA/C;IACA,OAAO,EAAP;;AAEP;;AAED,IAAMG,SAAS,GAAG;EACdC,aAAa,EAACb,eADA;EAEdc,aAAa,EAACd,eAFA;EAGde,kBAAkB,EAACf,eAHL;EAIdgB,OAAO,EAAC,iBAAUf,IAAV,EAAe;IACnB,OAAOzE,cAAK,CAACgF,aAAN,CAAoB,MAAMP,IAAI,CAACgB,KAA/B,EAAsChB,IAAI,CAACX,IAAL,CAAUC,IAAV,CAAeO,WAArD,EAAkEG,IAAI,CAACM,QAAvE,CAAP;;AALU,CAAlB;;AAUA,SAASW,qBAAT,CAA+BC,WAA/B,EAA2C;EAEvC,IAAIC,YAAY,GAACD,WAAjB;EACA,IAAIE,MAAM,GAAC,IAAX;;EAEA,GAAG;IACC,IAAMC,MAAM,GAAC,gBAAgBC,IAAhB,CAAqBH,YAArB,CAAb;;IACA,IAAGE,MAAH,EAAU;MACN,IAAIE,QAAQ,SAAZ;;MACA,IAAI;QACAA,QAAQ,GAACC,IAAI,CAAC,QAAQH,MAAM,CAAC,CAAD,CAAd,GAAoB,IAArB,CAAb;OADJ,CAEE,OAAMb,CAAN,EAAQ;QACNC,OAAO,CAACgB,GAAR,CAAY,oCAAoC,IAApC,GAA2CJ,MAAM,CAAC,CAAD,CAAjD,GAAuD,GAAnE,EAAuEb,CAAvE;QACAe,QAAQ,GAAC,YAAYF,MAAM,CAAC,CAAD,CAAlB,GAAwB,UAAjC;;;MAEJF,YAAY,GAACA,YAAY,CAACO,OAAb,CAAqBL,MAAM,CAAC,CAAD,CAA3B,EAA+BE,QAA/B,CAAb;KARJ,MASO;MACHH,MAAM,GAAC,KAAP;;GAZR,QAcSA,MAdT;;EAgBAD,YAAY,GAACA,YAAY,CAACO,OAAb,CAAqB,SAArB,EAA+B,IAA/B,CAAb;EACAP,YAAY,GAACA,YAAY,CAACO,OAAb,CAAqB,UAArB,EAAgC,GAAhC,CAAb;EAEA,OAAOP,YAAP;AACH;;AAED,SAASQ,YAAT,OAAyC;EAAA,IAAlBC,MAAkB,QAAlBA,MAAkB;MAAXC,SAAW,QAAXA,SAAW;EACrC,IAAMC,YAAY,GAACb,qBAAqB,CAACW,MAAD,CAAxC;;EAEA,IAAGG,sBAAa,GAAGC,eAAhB,CAAgCC,cAAhC,IAAkD,UAArD,EAAgE;IAC5D,oBACI1G,6BAAC,aAAD;MAAe,OAAO,EAAE,CAAC2G,GAAD,EAAKC,IAAL,EAAUC,SAAV,EAAoBpD,cAApB,CAAxB;MAA6D,kBAAkB,MAA/E;MAAgF,SAAS,EAAE2B,SAA3F;MAAsG,QAAQ,EAAEmB,YAAhH;MAA8H,SAAS,EAAED;MAD7I;;;EAKJ,oBACItG;IAAK,uBAAuB,EAAE;MAAC8G,MAAM,EAACP;KAAtC;IAAqD,SAAS,EAAED;IADpE;AAIH;;ACzGM,IAAMS,WAAW,GAAG,SAAdA,WAAc,CAAClH,KAAD,EAAW;EAGlC,IAAMmH,MAAM,GAAGnH,KAAK,CAACmH,MAAN,GAAenH,KAAK,CAACmH,MAArB,GAA8B,EAA7C;EACA,IAAMC,SAAS,GAAGD,MAAM,GAAGA,MAAM,CAACpC,WAAP,GAAqB9B,KAArB,CAA2B,GAA3B,CAAH,GAAqC,EAA7D;EACA,IAAMoE,UAAU,GAAGrH,KAAK,CAACqH,UAAN,GAAmBrH,KAAK,CAACqH,UAAzB,GAAsC,EAAzD;EACA,IAAMC,IAAI,GAAGtH,KAAK,CAACuH,OAAnB;EACA,IAAIC,cAAc,GAAGF,IAAI,CAACG,mBAA1B;EACA,IAAIC,oBAAoB,GAAG,IAA3B;;EACA,IAAI1H,KAAK,CAAC2H,oBAAV,EAA+B;IAC3BD,oBAAoB,GAAG,KAAvB;;;EAGJ,oBACIvH;IAAK,SAAS,EAAC;KAEPiH,SAAS,CAACQ,GAAV,CAAc,UAAAC,KAAK,EAAI;IAAA;;IACnB,QAAOA,KAAP;MACA,KAAK,UAAL;QACI,oBACI1H;UAAK,GAAG,EAAE0H,KAAV;UAAiB,SAAS,EAAC;wBACvB1H,6BAAC,cAAD;UAAgB,UAAU,EAAEqH,cAA5B;UAA4C,YAAY,EAAEE;UAD9D,CADJ;;MAKJ,KAAK,OAAL;QACI,oBACIvH;UAAI,GAAG,EAAC;yCAAa0H,KAArB,uBAA4B,SAA5B,GAAuCR,UAAvC,yBAAoDC,IAAI,CAACQ,KAAzD,CADJ;;MAGJ,KAAK,WAAL;QACI,oBACI3H;UAAG,GAAG,EAAC;0CAAiB0H,KAAxB,wBAA+B,SAA/B,GAAyC,2BAAzC,0BAAsEP,IAAI,CAACS,SAA3E,CADJ;;MAGJ,KAAK,SAAL;QACI,oBACI5H,6BAAC,YAAD;UAAc,MAAM,EAAEmH,IAAI,CAACU,OAA3B;UAAoC,SAAS,EAAC,MAA9C;UAAqD,GAAG,EAAEH;UAD9D;;MAGJ,KAAK,MAAL;MACA,KAAK,aAAL;QACI,oBACI1H;UAAM,SAAS,EAAC,sBAAhB;UAAuC,GAAG,EAAE0H;wBACzC1H,6BAAC,QAAD;UAAU,WAAW,EAAEmH,IAAI,CAACjF,WAA5B;UAAyC,UAAU,EAAEiF,IAAI,CAAChF;UAD7D,CADJ;;MAKJ,KAAK,SAAL;QACI,IAAGgF,IAAI,CAACtE,OAAR,EAAgB;UACZ,oBACI7C,6BAAC,WAAD;YAAa,OAAO,EAAEmH,IAAI,CAACtE,OAA3B;YAAoC,GAAG,EAAE6E;YAD7C;;;QAIJ,OAAO,IAAP;;MACJ,KAAK,MAAL;QACI,IAAGP,IAAI,CAAC9D,IAAR,EAAa;UACT,oBACIrD;YAAK,SAAS,EAAC,sBAAf;YAAsC,GAAG,EAAE0H;0BACvC1H,6BAAC,QAAD;YAAU,QAAQ,EAAC,OAAnB;YAA2B,IAAI,EAAEmH,IAAI,CAAC9D;YAD1C,CADJ;;;QAMJ,OAAO,IAAP;;MACJ;QACI,oBAAOrD;UAAK,SAAS,uBAAqB0H,KAAnC;UAA4C,GAAG,EAAEA,KAAjD;UAAwD,cAAY7H,KAAK,CAACuH,OAAN,CAAcM,KAAd;WAAuB7H,KAAK,CAACuH,OAAN,CAAcM,KAAd,CAA3F,CAAP;;GA5CR,CAFR,CADJ;AAqDH,CAlEM;;ICFMI,SAAS,GAAC,SAAVA,SAAU,CAASC,MAAT,EAAiB;EACtC,IAAMC,UAAU,GAAExB,sBAAa,EAA/B;EACA,IAAQyB,iBAAR,GAA8BD,UAA9B,CAAQC,iBAAR;EACA,IAAMC,SAAS,GAAI,CAACH,MAAD,IAAWA,MAAM,IAAI,SAAtB,GAAmC,MAAnC,GAA4CA,MAA9D;;EAEA,IAAG,OAAOE,iBAAiB,CAACC,SAAD,CAAxB,IAAuC,WAA1C,EAAuD;IACrD,OAAOD,iBAAiB,CAACC,SAAD,CAAxB;GADF,MAEO;IACLhD,OAAO,CAACgB,GAAR,CAAY,yBAAZ,EAAsC6B,MAAtC;IACA,OAAOE,iBAAiB,CAAC,MAAD,CAAxB;;AAEH,CAXM;;AAcP,SAASE,8BAAT,CAAwCJ,MAAxC,EAA+CZ,IAA/C,EAAoD;EAClD,IAAGY,MAAH,EAAU;IACR,OAAOA,MAAM,CAACK,aAAP,GAAuBL,MAAM,CAACK,aAAP,CAAqBjB,IAArB,CAAvB,GAAoD;MAACH,MAAM,EAAC;KAAnE;GADF,MAEO;IACL,OAAQ;MAACA,MAAM,EAAC;KAAhB;;AAEH;;AAED,SAASqB,UAAT,CAAoBxI,KAApB,EAA2B;EAQzB,IAAMM,IAAI,GAACN,KAAK,CAACM,IAAN,IAAcC,gBAAO,EAAhC;EACA,IAAMkI,YAAY,GAAG5D,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB9E,KAAlB,CAArB;EACA,IAAM0I,uBAAuB,GAAGT,SAAS,CAACQ,YAAY,CAACP,MAAd,CAAT,CAA+BS,SAA/D;EAEAF,YAAY,CAACtB,MAAb,GAAqBmB,8BAA8B,CAACI,uBAAD,EAAyBD,YAAzB,CAA9B,CAAqEtB,MAArE,IAA+EsB,YAAY,CAACtB,MAA5F,IAAsG,uCAA3H;EACAsB,YAAY,CAACjI,YAAb,GAA0BiI,YAAY,CAACjI,YAAb,IAA8B,EAAxD;;EAEA,IAAMoI,WAAW,GAACH,YAAY,CAACjI,YAAb,CAA0BqI,UAA1B,GAAuC,IAAIvI,IAAI,CAACwI,gBAAT,CAA0BL,YAAY,CAACjI,YAAb,CAA0BqI,UAApD,EAA+DvI,IAAI,CAACyI,eAApE,CAAvC,GAA8H,KAAhJ;;EAEA,IAAG,CAACH,WAAJ,EAAgB;IACd,gBAAiCI,cAAQ,CAACJ,WAAD,CAAzC;QAAOC,UAAP;QAAkBI,aAAlB;;IAEAxI,eAAS,CAAC,YAAM;MACd,IAAIyI,SAAS,GAAG,IAAhB;;MACA,IAAGA,SAAH,EAAa;QACXC,eAAe,CAACV,YAAD,CAAf,CAA8BW,IAA9B,CAAmC,UAACC,aAAD,EAAiB;UAClD,IAAGH,SAAH,EAAa;YACXD,aAAa,CAAC,IAAI3I,IAAI,CAACwI,gBAAT,CAA0BO,aAAa,CAACR,UAAxC,EAAmDvI,IAAI,CAACyI,eAAxD,CAAD,CAAb;;SAFJ;;;MAMF,OAAO,YAAM;QAAEG,SAAS,GAAG,KAAZ;OAAf;KATO,EAUN,EAVM,CAAT;;IAYA,IAAGL,UAAH,EAAe;MACb,oBACE1I,6BAAC,uBAAD;QAAyB,aAAa,EAAE8I,aAAxC;QAAuD,UAAU,EAAEJ,UAAnE;QAA+E,KAAK,EAAEJ,YAAtF;QAAoG,IAAI,EAAEa;QAD5G;KADF,MAKK;MACH,oBACCnJ,yCADD;;GArBJ,MAyBO;IACL,iBAAiC6I,cAAQ,CAACJ,WAAD,CAAzC;QAAOC,YAAP;QAAkBI,cAAlB;;IAEA,oBACI9I,6BAAC,uBAAD;MAAyB,aAAa,EAAE8I,cAAxC;MAAuD,UAAU,EAAEJ,YAAnE;MAA+E,KAAK,EAAE7I,KAAtF;MAA6F,IAAI,EAAEuJ;MADvG;;AAIH;;AAED,IAAaD,cAAc,GAAG,SAAjBA,cAAiB,OAAoC;EAAA,IAA1BE,IAA0B,QAA1BA,IAA0B;MAArBtE,QAAqB,QAArBA,QAAqB;MAAZuB,SAAY,QAAZA,SAAY;EAChE,oBACEtG;IAAG,IAAI,EAAEsJ,gBAAO,CAACD,IAAD,CAAhB;IAAwB,SAAS,EAAE/C;KAChCvB,QADH,CADF;AAKD,CANM;AAQP,IAAaqE,UAAU,GAAG,SAAbA,UAAa,QAAoC;EAAA,IAA1BC,IAA0B,SAA1BA,IAA0B;MAArBtE,QAAqB,SAArBA,QAAqB;MAAZuB,SAAY,SAAZA,SAAY;EAC5D,oBACEtG,6BAAC,IAAD;IAAM,IAAI,EAAEsJ,gBAAO,CAACD,IAAD;kBACjBrJ;IAAG,SAAS,EAAEsG;KAAYvB,QAA1B,CADF,CADF;AAKD,CANM;AAQP,IAAaiE,eAAe,YAAfA,eAAe,CAAkBnJ,KAAlB;EAAA,IAAwB;IAAA;IAQlD,IAAMM,IAAI,GAACN,KAAK,CAACM,IAAN,IAAcC,gBAAO,EAAhC;;IAEA,IAAMmJ,eAAe,GAAG,SAAlBA,eAAkB,CAAS1J,KAAT,EAAe;MACrC,IAAGM,IAAI,CAACqJ,UAAL,IAAkB,QAArB,EAA8B;QAC5B,IAAG,OAAO3J,KAAK,CAAC4J,KAAb,IAAsB,WAAzB,EAAqC;UACpC,OAAO5J,KAAK,CAAC4J,KAAb;SADD,MAEO,IAAG,OAAO5J,KAAK,CAAC6J,YAAb,IAA6B,WAAhC,EAA4C;UAClD,OAAO7J,KAAK,CAAC6J,YAAb;SADM,MAEA;UACL,OAAO,CAAP;;OANJ,MAQO;QACL,OAAO,CAAP;;KAVJ;;IAaA,IAAM3F,IAAI,GAAG,EAAb;IACA,IAAI4F,KAAK,GAAG,EAAZ;IACA,IAAKvC,OAAL,GAAgBvH,KAAhB,CAAKuH,OAAL;;IAzBkD;MAAA,IA2B/CvH,KAAK,CAAC+J,UAAN,KAAqB,UA3B0B;QA4BhD,IAAMC,IAAI,GAAG1J,IAAI,CAAC2J,OAAL,CAAa,SAAb,CAAb;;QAEA,IAAG1C,OAAO,CAAC2C,MAAX,EAAmB;UACjBJ,KAAK,GAAGvC,OAAO,CAAC2C,MAAR,EAAR;SADF,MAGK;UACHJ,KAAK,GAAGvC,OAAR;;;QAGFyC,IAAI,CAACG,OAAL,CAAa,UAAb,EAAyBC,IAAzB,CAA8BN,KAAK,CAACO,SAApC;QACAL,IAAI,CAAC7C,MAAL,CAAYmD,eAAe,CAACtK,KAAD,CAA3B;QACAgK,IAAI,CAACO,MAAL,CAAYC,eAAe,CAACxK,KAAD,CAA3B;QACAgK,IAAI,CAACS,QAAL,CAAczK,KAAK,CAAC0K,QAApB;QACAV,IAAI,CAACW,YAAL,CAAkBjB,eAAe,CAAC1J,KAAD,CAAjC;QACAgK,IAAI,CAACY,IAAL,CAAUd,KAAK,CAACe,MAAhB,EAAuBf,KAAK,CAACgB,aAA7B;QA1CgD,uBA4C5Bd,IAAI,CAACe,QAAL,EA5C4B,iBA4C1CC,KA5C0C;UA6ChD9G,IAAI,CAAC2E,UAAL,GAAkBmC,KAAK,CAACd,MAAN,EAAlB;;;QA7CgD,IA+C1ClK,KAAK,CAAC+J,UAAN,KAAqB,gBA/CqB;UAAA;YAAA;YAAA,OAkGzC7F,IAlGyC;;;UAgDhD,IAAM+G,GAAG,GAAGjL,KAAK,CAACwG,MAAlB;;UAhDgD;YAAA,IAkD7CyE,GAAG,KAAG,QAlDuC;cAmD9C,IAAG,OAAOjL,KAAK,CAACkL,KAAb,IAAqB,WAAxB,EAAoC;gBAClC,IAAG,CAACC,KAAK,CAACC,OAAN,CAAcpL,KAAK,CAACkL,KAApB,CAAJ,EAA+B;kBAC7B,IAAG;oBACDG,IAAI,CAACC,KAAL,CAAWtL,KAAK,CAACkL,KAAjB;mBADF,CAEE,OAAM9F,CAAN,EAAQ;oBACRC,OAAO,CAACgB,GAAR,CAAYjB,CAAZ;oBACApF,KAAK,CAACkL,KAAN,GAAY,EAAZ;;;eANN,MASO;gBACLlL,KAAK,CAACkL,KAAN,GAAY,EAAZ;;;cA7D4C;gBAAA,IAgE3ClL,KAAK,CAACkL,KAAN,CAAYjJ,MAhE+B;kBAAA,uBAiEtB3B,IAAI,CAAC2J,OAAL,CAAa,SAAb,EACrBsB,KADqB,GAErBpE,MAFqB,CAEdmD,eAAe,CAACtK,KAAD,CAFD,EAGrBuK,MAHqB,CAGdC,eAAe,CAACxK,KAAD,CAHD,EAIrB2K,YAJqB,CAIRjB,eAAe,CAAC1J,KAAD,CAJP,EAKrByK,QALqB,CAKZzK,KAAK,CAAC0K,QALM,EAMrBc,QANqB,CAMZxL,KAAK,CAACkL,KANM,EAOrBH,QAPqB,EAjEsB,iBAiEtCU,OAjEsC;oBA0E5CvH,IAAI,CAAC2E,UAAL,GAAgB4C,OAAO,CAACvB,MAAR,EAAhB;;;kBAEAhG,IAAI,CAAC2E,UAAL,GAAgB;oBACdqC,KAAK,EAAE,EADO;oBAEdQ,SAAS,EAAE;mBAFb;;;;cA5E4C;;cAkF9C,IAAG,CAACnE,OAAO,CAACoE,iBAAZ,EAA8B;gBAC5BpE,OAAO,GAACjH,IAAI,CAACsL,SAAL,CAAe,SAAf,EAA0BC,GAA1B,CAA8BtE,OAA9B,CAAR;;;cAnF4C,uBAqFxBA,OAAO,CAACoE,iBAAR,CACpBV,GADoB,EAEpB;gBACE9D,MAAM,EAACmD,eAAe,CAACtK,KAAD,CADxB;gBAEEuK,MAAM,EAACC,eAAe,CAACxK,KAAD,CAFxB;gBAGE8L,UAAU,EAACC,aAAa,CAAC/L,KAAD,CAH1B;gBAIE2K,YAAY,EAACjB,eAAe,CAAC1J,KAAD,CAJ9B;gBAKE0K,QAAQ,EAAC1K,KAAK,CAAC0K;eAPG,CArFwB,iBAqFxCe,OArFwC;gBA+F9CvH,IAAI,CAAC2E,UAAL,GAAkB4C,OAAO,CAACvB,MAAR,EAAlB;;;;;UA/F8C;;UAAA;YAAA,IAqGhD,OAAOlK,KAAK,CAAC+J,UAAb,KAA4B,WAA5B,IACG/J,KAAK,CAAC+J,UAAN,KAAqB,EAFjB,IAKL,OAAO/J,KAAK,CAAC+J,UAAb,KAA4B,WAA5B,IACA/J,KAAK,CAAC+J,UAAN,KAAqB,YADrB,IAEAzJ,IAAI,CAAC0L,MAAL,CAAYhM,KAAK,CAACwG,MAAlB,CA3G8C;cA8GhD,IAAMwD,KAAI,GAAG1J,IAAI,CAAC2J,OAAL,CAAa,SAAb,CAAb;;cAEA,IAAGjK,KAAK,CAACwG,MAAT,EAAiB;gBACfwD,KAAI,CAACG,OAAL,CAAa,QAAb,EAAuBC,IAAvB,CAA4BpK,KAAK,CAACwG,MAAlC;;;cAEFwD,KAAI,CAAC7C,MAAL,CAAYmD,eAAe,CAACtK,KAAD,CAA3B;;cACAgK,KAAI,CAACO,MAAL,CAAYC,eAAe,CAACxK,KAAD,CAA3B;;cACAgK,KAAI,CAACiC,UAAL,CAAgBF,aAAa,CAAC/L,KAAD,CAA7B;;cACAgK,KAAI,CAACS,QAAL,CAAczK,KAAK,CAAC0K,QAApB;;cACAV,KAAI,CAACW,YAAL,CAAkBjB,eAAe,CAAC1J,KAAD,CAAjC;;cAvHgD,uBA2H5BgK,KAAI,CAACe,QAAL,EA3H4B,iBA2H1CC,KA3H0C;gBA6HhD9G,IAAI,CAAC2E,UAAL,GAAkBmC,KAAK,CAACd,MAAN,EAAlB;;;;;UA7HgD;;;;;IAAA;MAAA,0BAgI3ChG,IAhI2C;2BAgI3CA,IAhI2C;GAAxB;IAAA;;AAAA,CAArB;;AAmIP,IAAMsG,eAAe,GAAG,SAAlBA,eAAkB,CAASxK,KAAT,EAAgB;EAEtC,IAAMkE,IAAI,GAAG+D,SAAS,CAACjI,KAAK,CAACkI,MAAP,CAAT,CAAwBK,aAAxB,EAAb;;EAEA,IAAGrE,IAAI,CAACqG,MAAR,EAAe;IACb,OAAOrG,IAAI,CAACqG,MAAZ;GADF,MAEO;IACL,OAAO,EAAP;;AAGH,CAVD;;AAYA,IAAMwB,aAAa,GAAG,SAAhBA,aAAgB,CAAS/L,KAAT,EAAgB;EAEpC,IAAMkE,IAAI,GAAG+D,SAAS,CAACjI,KAAK,CAACkI,MAAP,CAAT,CAAwBK,aAAxB,EAAb;;EAEA,IAAGrE,IAAI,CAAC4H,UAAR,EAAmB;IACjB,OAAO5H,IAAI,CAAC4H,UAAZ;GADF,MAEO;IACL,OAAO,EAAP;;AAGH,CAVD;;AAYA,AAAO,IAAMxB,eAAe,GAAG,SAAlBA,eAAkB,CAAStK,KAAT,EAAgB;EAE7C,IAAMkE,IAAI,GAAG+D,SAAS,CAACjI,KAAK,CAACkI,MAAP,CAAT,CAAwBK,aAAxB,CAAsCvI,KAAtC,CAAb;EAEA,IAAIoH,SAAS,GAAG,EAAhB;;EAEA,IAAGlD,IAAI,CAACiD,MAAR,EAAgB;IACdC,SAAS,GAAGlD,IAAI,CAACiD,MAAjB;GADF,MAEO;IACLC,SAAS,GAAGlD,IAAI,CAACiD,MAAL,GAAcjD,IAAI,CAACiD,MAAnB,GAA6B,EAAzC;;;EAGF,IAAG,CAACC,SAAJ,EAAc;IACZ,OAAO,EAAP;;;EAGF,IAAI8E,UAAU,GAAC9E,SAAS,CAACnE,KAAV,CAAgB,GAAhB,CAAf;EACA,IAAIkJ,OAAO,GAAC,KAAZ;EACA,IAAIC,WAAW,GAAC,KAAhB;EAIA,IAAIC,QAAQ,GAAC,KAAb;EACA,IAAIC,SAAS,GAAC,KAAd;EACA,IAAIC,YAAY,GAAC,KAAjB;EACA,IAAIC,gBAAgB,GAAC,KAArB;EACA,IAAIC,WAAW,GAAC,KAAhB;EAEAP,UAAU,GAACA,UAAU,CAACQ,MAAX,CAAkB,UAAA7E,KAAK,EAAE;IAClCA,KAAK,GAACA,KAAK,CAAC9C,WAAN,EAAN;;IACA,IAAG8C,KAAK,KAAG,UAAX,EAAsB;MACpBuE,WAAW,GAAC,IAAZ;KADF,MAEO,IAAGvE,KAAK,KAAG,MAAX,EAAkB;MACvBsE,OAAO,GAAC,IAAR;MACA,OAAO,KAAP;KAFK,MAGA,IAAGtE,KAAK,KAAG,OAAX,EAAmB;MACxBwE,QAAQ,GAAC,IAAT;MACA,OAAO,KAAP;KAFK,MAGA,IAAGxE,KAAK,KAAG,QAAX,EAAoB;MACzBwE,QAAQ,GAAC,IAAT;MACA,OAAO,KAAP;KAFK,MAGA,IAAGxE,KAAK,KAAG,QAAX,EAAoB;MACzByE,SAAS,GAAC,IAAV;KADK,MAEA,IAAGzE,KAAK,KAAG,WAAX,EAAuB;MAC5B0E,YAAY,GAAC,IAAb;KADK,MAEA,IAAG1E,KAAK,KAAG,eAAX,EAA2B;MAChC2E,gBAAgB,GAAC,IAAjB;KADK,MAEA,IAAG3E,KAAK,KAAG,UAAX,EAAsB;MAC3B4E,WAAW,GAAC,IAAZ;;;IAEF,OAAO,IAAP;GAtBS,CAAX;;EA0BA,IAAGN,OAAH,EAAW;IACT,AAAmB;MACjBD,UAAU,CAAC7I,IAAX,CAAgB,aAAhB;;;IAEF,AAAkB;MAChB6I,UAAU,CAAC7I,IAAX,CAAgB,YAAhB;;;IAEF,AAAe;MACb6I,UAAU,CAAC7I,IAAX,CAAgB,SAAhB;;;;EAGJ,IAAGgJ,QAAH,EAAY;IACV,IAAG,CAACC,SAAJ,EAAc;MACZJ,UAAU,CAAC7I,IAAX,CAAgB,QAAhB;;;IAEF6I,UAAU,CAAC7I,IAAX,CAAgB,QAAhB;;;EAEF,IAAG,CAAC+I,WAAJ,EAAgB;IACdF,UAAU,CAAC7I,IAAX,CAAgB,UAAhB;;;EAEF,IAAG,CAACkJ,YAAJ,EAAiB;IACfL,UAAU,CAAC7I,IAAX,CAAgB,WAAhB;;;EAEF,IAAG,CAACmJ,gBAAJ,EAAqB;IACnBN,UAAU,CAAC7I,IAAX,CAAgB,eAAhB;;;EAEF,IAAG,CAACoJ,WAAJ,EAAgB;IACdP,UAAU,CAAC7I,IAAX,CAAgB,UAAhB;;;EAEF,OAAO6I,UAAU,CAACS,IAAX,CAAgB,GAAhB,EAAqB5H,WAArB,EAAP;AACD,CApFM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjPP,IAAM6H,aAAa,GAAG,SAAhBA,aAAgB,CAAC5M,KAAD,EAAW;EAQhC,IAAMM,IAAI,GAACN,KAAK,CAACM,IAAN,IAAcC,gBAAO,EAAhC;EACA,IAAIsM,GAAG,GAAG,EAAV;EACA,IAAOhE,UAAP,GAAsG7I,KAAtG,CAAO6I,UAAP;MAAkBI,aAAlB,GAAsGjJ,KAAtG,CAAkBiJ,aAAlB;MAAgC6D,GAAhC,GAAsG9M,KAAtG,CAAgC8M,GAAhC;MAAoClD,KAApC,GAAsG5J,KAAtG,CAAoC4J,KAApC;MAA0CmD,MAA1C,GAAsG/M,KAAtG,CAA0C+M,MAA1C;MAAiDC,WAAjD,GAAsGhN,KAAtG,CAAiDgN,WAAjD;MAA6D/M,UAA7D,GAAsGD,KAAtG,CAA6DC,UAA7D;MAAwEgN,OAAxE,GAAsGjN,KAAtG,CAAwEiN,OAAxE;MAAgFC,UAAhF,GAAsGlN,KAAtG,CAAgFkN,UAAhF;;EAEA,IAAG5M,IAAI,CAACqJ,UAAL,IAAmB,QAAtB,EAA+B;IAC9B,IAAMuB,KAAK,GAAGrC,UAAU,CAACsE,GAAX,CAAe,OAAf,CAAd;IACA,IAAM1C,QAAQ,GAAGzK,KAAK,CAAC0K,QAAvB;IACA,IAAM0C,IAAI,GAAGN,GAAG,GAAClD,KAAjB;IACA,IAAMyD,IAAI,GAAGP,GAAG,GAAG,CAAN,GAAUA,GAAG,GAAClD,KAAJ,GAAY,CAAZ,GAAgBkD,GAAG,GAAClD,KAApB,GAA4B,CAAtC,GAA0C,CAAvD;IACA,IAAI0D,OAAO,GAAGR,GAAG,GAAClD,KAAJ,GAAYsB,KAAK,CAACjJ,MAAlB,GAA2BiJ,KAAK,CAACjJ,MAAjC,GAA0C6K,GAAG,GAAClD,KAA5D;IACA,IAAI2D,UAAU,GAAGrC,KAAK,CAACjJ,MAAN,IAAgBwI,QAAhB,GAA2BA,QAA3B,GAAsCS,KAAK,CAACjJ,MAA7D;;IAEA,IAAIwI,QAAQ,GAAGS,KAAK,CAACjJ,MAAjB,IAA2B6K,GAAG,GAAClD,KAAJ,GAAYa,QAA3C,EAAoD;MACnD8C,UAAU,GAAG9C,QAAb;;;IAGD,IAAGuC,WAAH,EAAe;MACd,IAAG1M,IAAI,CAACkN,QAAL,EAAH,EAAmB;QAClB,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;UAC1B,IAAMC,GAAG,GAACpN,IAAI,gDAA6CL,UAA7C,SAAd;;UACA,IAAGgN,OAAO,IAAKxC,QAAZ,IAAwBnK,IAAI,CAACqN,kBAAL,CAAwBD,GAAG,CAACzJ,IAA5B,CAA3B,EAA6D;YAC5D,IAAGgJ,OAAO,GAAIxC,QAAd,EAAwB;cACvByC,UAAU,CAACD,OAAO,GAAC,CAAT,CAAV;;WAFF,MAIO,IAAGA,OAAO,GAAIxC,QAAd,EAAwB;YAC9BmD,UAAU,CAACH,YAAD,EAAc,EAAd,CAAV;;SAPF;;QAWAnN,IAAI,CAACmN,YAAD,CAAJ;;;MAGD,oBACCtN;QAAK,SAAS,EAAC,qBAAf;QAAqC,mBAAiBF;QADvD;;;IAKD,IAAG6M,GAAG,GAAG,CAAT,EAAY;MACXD,GAAG,CAACxJ,IAAJ,eACAlD,6BAAC,SAAD;QAAW,GAAG,EAAC,MAAf;QAAsB,GAAG,EAAE2M,GAA3B;QAAgC,GAAG,EAAEO,IAArC;QAA2C,WAAW,EAAEN,MAAxD;QAAgE,KAAK,EAAC;QADtE;;;IAKD,IAAGK,IAAI,GAACG,UAAR,EAAoB;MACnBV,GAAG,CAACxJ,IAAJ,eACAlD,6BAAC,SAAD;QAAW,GAAG,EAAC,MAAf;QAAsB,GAAG,EAAE2M,GAA3B;QAAgC,GAAG,EAAEM,IAArC;QAA2C,WAAW,EAAEL,MAAxD;QAAgE,KAAK,EAAC;QADtE;;;IAKD,IAAGF,GAAG,CAAC5K,MAAP,EAAc;MACb,oBACA9B,uDACCA,6DAAqB2M,GAAG,GAAC,CAAzB,OAA6BQ,OAA7B,UAA0CC,UAA1C,CADD,eAECpN;QAAI,SAAS,EAAC;SACZ0M,GADF,CAFD,CADA;KADD,MASO;MACN,OAAO,EAAP;;GAvDF,MA0DO;IAEN,IACE,CAAC,OAAOG,WAAP,KAAuB,SAAvB,IAAoC,OAAOA,WAAP,KAAuB,QAA5D,KAAyEA,WAA1E,IACK,OAAOA,WAAP,KAAuB,QAAvB,IAAmCA,WAAW,CAACa,iBAAZ,OAAoC,MAF7E,EAGC;MAEA,gBAA6B7E,cAAQ,CAAC,CAAD,CAArC;UAAO8E,QAAP;UAAgBC,WAAhB;;MAEA,IAAMN,aAAY,GAAG,SAAfA,aAAe,GAAM;QAC1B,IAAMC,GAAG,GAACpN,IAAI,gDAA6CL,UAA7C,SAAd;;QACA,IAAG4I,UAAU,CAACmF,GAAX,CAAe,MAAf,CAAH,EAA0B;UACzB,IAAG1N,IAAI,CAACqN,kBAAL,CAAwBD,GAAG,CAACzJ,IAA5B,KAAsC6J,QAAQ,IAAIjF,UAAU,CAACsE,GAAX,CAAe,UAAf,CAArD,EAAgF;YAC/EY,WAAW,CAAClF,UAAU,CAACsE,GAAX,CAAe,UAAf,CAAD,CAAX;WADD,MAEO;YACNS,UAAU,CAACH,aAAD,EAAc,EAAd,CAAV;;;OANH;;MAWAhN,eAAS,CAAC,YAAI;QACb,IAAIyI,SAAS,GAAG,IAAhB;;QACA,IAAGA,SAAH,EAAa;UACZL,UAAU,CAACsE,GAAX,CAAe,MAAf,EAAuB/D,IAAvB,CAA4B,UAASR,WAAT,EAAqB;YAChD,IAAIqF,QAAQ,GAACrF,WAAW,CAACsB,MAAZ,EAAb;;YAEArB,UAAU,CAACqB,MAAX,GAAoBgB,KAApB,CAA0BgD,OAA1B,GAAoCC,OAApC,CAA4C,UAAC7G,IAAD,EAAQ;cACnD2G,QAAQ,CAAC/C,KAAT,CAAekD,OAAf,CAAuB9G,IAAvB;aADD;YAIA2B,aAAa,CAAC,IAAI3I,IAAI,CAACwI,gBAAT,CAA0BmF,QAA1B,EAAmC3N,IAAI,CAACyI,eAAxC,CAAD,CAAb;YACA6E,UAAU,CAACH,aAAD,EAAc,EAAd,CAAV;WARD;;;QAWD,OAAO,YAAM;UAAEvE,SAAS,GAAG,KAAZ;SAAf;OAdQ,EAeP,CAAC4E,QAAD,CAfO,CAAT;;MAiBA,IAAG,CAACxN,IAAI,CAACkN,QAAL,EAAJ,EAAoB;QACnBlN,IAAI,CAACmN,aAAD,CAAJ;;;MAGD,oBACCtN;QAAK,SAAS,EAAC,qBAAf;QAAqC,mBAAiBF;QADvD;KAvCD,MA0CO;MAEN,IAAMoO,QAAQ,GAAG,SAAXA,QAAW,CAASC,IAAT,EAAc;QAC9B,IAAIpF,SAAS,GAAG,IAAhB;;QACA,IAAGA,SAAH,EAAa;UACZL,UAAU,CAACsE,GAAX,CAAemB,IAAf,EAAqBlF,IAArB,CAA0B,UAASR,WAAT,EAAqB;YAC9C,IAAGM,SAAH,EAAa;cACZD,aAAa,CAACL,WAAD,CAAb;;WAFF;;;QAMD,OAAO,YAAM;UAAEM,SAAS,GAAG,KAAZ;SAAf;OATD;;MAYA,IAAGL,UAAU,CAACmF,GAAX,CAAe,UAAf,CAAH,EAA+B;QAC9BnB,GAAG,CAACxJ,IAAJ,eACAlD,6BAAC,SAAD;UAAW,GAAG,EAAC,MAAf;UAAsB,GAAG,EAAC,UAA1B;UAAqC,WAAW,EAAEkO,QAAlD;UAA4D,KAAK,EAAC;UADlE;;;MAKD,IAAGxF,UAAU,CAACmF,GAAX,CAAe,MAAf,CAAH,EAA2B;QAC1BnB,GAAG,CAACxJ,IAAJ,eACAlD,6BAAC,SAAD;UAAW,GAAG,EAAC,MAAf;UAAsB,GAAG,EAAC,MAA1B;UAAiC,WAAW,EAAEkO,QAA9C;UAAwD,KAAK,EAAC;UAD9D;;;;IAOF,IAAGxB,GAAG,CAAC5K,MAAP,EAAc;MACb,oBACA9B,uDACCA,6DAAqB0I,UAAU,CAACsE,GAAX,CAAe,YAAf,CAArB,OAAoDtE,UAAU,CAACsE,GAAX,CAAe,UAAf,CAApD,UAAoFtE,UAAU,CAACsE,GAAX,CAAe,YAAf,CAApF,CADD,eAEChN;QAAI,SAAS,EAAC;SACZ0M,GADF,CAFD,CADA;KADD,MASO;MACN,OAAO,EAAP;;;AAIA,CA5JH;;AA8JE,IAAM0B,SAAS,GAAG,SAAZA,SAAY,CAAAvO,KAAK,EAAI;EAC5B,IAAKwO,GAAL,GAAwBxO,KAAxB,CAAKwO,GAAL;MAASC,WAAT,GAAwBzO,KAAxB,CAASyO,WAAT;;EAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;IACrBD,WAAW,CAACD,GAAD,CAAX;GADF;;EAKA,oBACErO;IAAI,SAAS,EAAC;kBACbA;IAAG,OAAO,EAAEuO,QAAZ;IAAsB,SAAS,EAAC,WAAhC;IAA4C,cAAY1O,KAAK,CAAC2O;kBAAOxO,6BAAC,cAAD;IAAgB,KAAK,EAAEH,KAAK,CAAC2O;IAAlG,CADD,CADF;AAKE,CAbD;;AAeA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAA5O,KAAK,EAAI;EACjC,IAAIA,KAAK,CAAC2O,KAAN,IAAe,MAAnB,EAA0B;IACzB,oBACCxO,4DACEH,KAAK,CAAC2O,KADR,oBACexO,6BAAC0O,gCAAD;MAAiB,IAAI,EAAEC;MADtC,CADD;GADD,MAMO;IACN,oBACC3O,yEACCA,6BAAC0O,gCAAD;MAAiB,IAAI,EAAEE;MADxB,OAC2C/O,KAAK,CAAC2O,KADjD,CADD;;AAMC,CAdD;;AC/KF,IAAMK,gBAAgB,GAAG,SAAnBA,gBAAmB,OAA2C;EAAA,IAAzChP,KAAyC,QAAzCA,KAAyC;MAAnC6I,UAAmC,QAAnCA,UAAmC;MAAxBI,aAAwB,QAAxBA,aAAwB;MAAVgG,IAAU,QAAVA,IAAU;EAClE,IAAOrF,KAAP,GAAgB5J,KAAhB,CAAO4J,KAAP;EACA,IAAMsB,KAAK,GAAGrC,UAAU,CAACsE,GAAX,CAAe,OAAf,CAAd;;EACA,gBAAsBnE,cAAQ,CAAC,CAAD,CAA9B;MAAO8D,GAAP;MAAYC,MAAZ;;EACA,iBAA4B/D,cAAQ,CAAE8D,GAAG,GAAClD,KAAJ,GAAYsB,KAAK,CAACjJ,MAAlB,GAA2BiJ,KAAK,CAACjJ,MAAjC,GAA0C6K,GAAG,GAAClD,KAAhD,CAApC;MAAOqD,OAAP;MAAeC,UAAf;;EAEAzM,eAAS,CAAC,YAAI;IACZyM,UAAU,CAAEJ,GAAG,GAAClD,KAAJ,GAAYsB,KAAK,CAACjJ,MAAlB,GAA2BiJ,KAAK,CAACjJ,MAAjC,GAA0C6K,GAAG,GAAClD,KAAhD,CAAV;GADO,EAEP,CAACkD,GAAD,CAFO,CAAT;EAIA,oBACE3M,uDACEA;IAAI,KAAK,EAAE;MAAC,aAAa;;kBACvBA,6BAAC,YAAD;IAAc,UAAU,EAAE0I,UAA1B;IAAuC,OAAO,EAAEoE,OAAhD;IAAyD,GAAG,EAAEH,GAA9D;IAAmE,IAAI,EAAEmC;KAAUjP,KAAnF,EADF,CADF,eAIEG,6BAAC,aAAD;IAAe,aAAa,EAAE8I,aAA9B;IAA6C,UAAU,EAAEJ,UAAzD;IAAsE,OAAO,EAAEoE,OAA/E;IAAyF,UAAU,EAAEC,UAArG;IAAiH,GAAG,EAAEJ,GAAtH;IAA2H,MAAM,EAAEC,MAAnI;IAA2I,IAAI,EAAEkC;KAAUjP,KAA3J,EAJF,CADF;AAQD,CAlBD;;AAoBA,IAAMkP,YAAY,GAAG,SAAfA,YAAe,CAAClP,KAAD,EAAW;EAC9B,IAAO6I,UAAP,GAAkD7I,KAAlD,CAAO6I,UAAP;MAAkBoG,IAAlB,GAAkDjP,KAAlD,CAAkBiP,IAAlB;MAAuBnC,GAAvB,GAAkD9M,KAAlD,CAAuB8M,GAAvB;MAA2BG,OAA3B,GAAkDjN,KAAlD,CAA2BiN,OAA3B;MAAmCD,WAAnC,GAAkDhN,KAAlD,CAAmCgN,WAAnC;EACA,IAAImC,SAAS,GAAG,EAAhB;EACA,IAAI7H,IAAI,GAAG,EAAX;EACA,IAAM8H,IAAI,GAAGH,IAAb;EACA,IAAM/D,KAAK,GAAGrC,UAAU,CAACsE,GAAX,CAAe,OAAf,CAAd;;EAEA,IAAG5M,gBAAO,GAAGoJ,UAAV,IAAwB,QAAxB,IAAoCqD,WAAvC,EAAmD;IACzC9B;GADV,MAEO;IACL,IAAIT,QAAQ,GAAGS,KAAK,CAACjJ,MAAjB,IAA2B6K,GAAG,GAAClD,KAAJ,GAAYa,QAA3C,EAAoD;MACxCA,QAAV;;;;EAIJ,KAAI,IAAIrH,CAAC,GAAG0J,GAAZ,EAAgB1J,CAAC,GAAG6J,OAApB,EAA4B7J,CAAC,EAA7B,EAAiC;IAC/BkE,IAAI,GAAG4D,KAAK,CAAC9H,CAAD,CAAZ;IACA+L,SAAS,CAAC9L,IAAV,eACAlD;MAAI,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,WAAT;oBACLhN,sDACEA,6BAAC,IAAD;MAAM,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT;OACb7F,IAAI,CAAC6F,GAAL,CAAS,OAAT,CADH,CADF,CADJ,eAMIhN,6BAAC,YAAD;MAAc,MAAM,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT;MAN1B,CADA;;;EAYF,OAAOgC,SAAP;AACD,CA9BD;;AAmCA,IAAa5G,aAAa,GAAG,SAAhBA,aAAgB,GAAM;EACjC,IAAMrE,IAAI,GAAG,EAAb;EAMAA,IAAI,CAAC,QAAD,CAAJ,GAAiB,eAAjB;EAEA,OAAOA,IAAP;AACD,CAVM;;ACvDP,IAAMmL,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACrP,KAAD,EAAW;EACrC,IAAMoP,IAAI,GAAGpP,KAAK,CAACiP,IAAnB;EACA,oBACI9O,6BAAC,IAAD;IAAM,IAAI,EAAEH,KAAK,CAACwJ,IAAlB;IAAwB,QAAQ,MAAhC;IAAiC,SAAS,EAAC;KAAkCxJ,KAAK,CAACsP,OAAnF,qBAA6FnP,6BAAC0O,gCAAD;IAAiB,IAAI,EAAEC;IAApH,CADJ;AAGD,CALH;;ACHO,IAAMS,SAAS,GAAG,SAAZA,SAAY,OAAgC;EAAA,IAArBC,KAAqB,QAArBA,KAAqB;MAAf/I,SAAe,QAAfA,SAAe;MAALgJ,GAAK,QAALA,GAAK;EACrD,IAAMC,SAAS,GAAGF,KAAlB;;EACA,IAAG,OAAOE,SAAP,IAAoB,WAApB,IAAmCA,SAAtC,EAAgD;IAC5C,oBACIvP;MACI,GAAG,EAAEuP,SADT;MAEI,GAAG,EAAED,GAFT;MAGI,SAAS,EAAEhJ;MAJnB;;;EAQJ,OAAO,IAAP;AACH,CAZM;;ACcA,IAAMkJ,yBAAyB,GAAG,SAA5BA,yBAA4B,OAA2C;EAAA,IAAzC3P,KAAyC,QAAzCA,KAAyC;MAAnC6I,UAAmC,QAAnCA,UAAmC;MAAxBI,aAAwB,QAAxBA,aAAwB;MAAVgG,IAAU,QAAVA,IAAU;;EAClF,gBAAsBjG,cAAQ,CAAC,CAAD,CAA9B;MAAO8D,GAAP;MAAYC,MAAZ;;EACA,oBACE5M,yEACEA,6BAAC,SAAD;IAAW,SAAS,iCAA+BH,KAAK,CAAC4P,gBAArC,iBAAiE5P,KAAK,CAAC6P,kBAAvE,SAA6F7P,KAAK,CAAC8P,0BAAnG;kBAClB3P,6BAAC+O,cAAD;IAAc,UAAU,EAAErG,UAA1B;IAAsC,GAAG,EAAEiE,GAA3C;IAAgD,IAAI,EAAEmC;KAAUjP,KAAhE,EADF,CADF,eAKEG;IAAK,SAAS,EAAC;kBACbA;IAAK,SAAS,EAAC;kBACfA,6BAAC,aAAD;IAAe,aAAa,EAAE8I,aAA9B;IAA6C,UAAU,EAAEJ,UAAzD;IAAqE,GAAG,EAAEiE,GAA1E;IAA+E,MAAM,EAAEC,MAAvF;IAA+F,IAAI,EAAEkC;KAAUjP,KAA/G,EADA,CADF,CALF,CADF;AAaD,CAfM;;AAiBP,IAAMkP,cAAY,GAAG,SAAfA,YAAe,CAAClP,KAAD,EAAW;EAC9B,IAAO6I,UAAP,GAAuD7I,KAAvD,CAAO6I,UAAP;MAAkBe,KAAlB,GAAuD5J,KAAvD,CAAkB4J,KAAlB;MAAwBqF,IAAxB,GAAuDjP,KAAvD,CAAwBiP,IAAxB;MAA6BnC,GAA7B,GAAuD9M,KAAvD,CAA6B8M,GAA7B;MAAiC3F,MAAjC,GAAuDnH,KAAvD,CAAiCmH,MAAjC;MAAwC6F,WAAxC,GAAuDhN,KAAvD,CAAwCgN,WAAxC;EACA,IAAImC,SAAS,GAAG,EAAhB;EACA,IAAI7H,IAAI,GAAG,EAAX;EACA,IAAM8H,IAAI,GAAGH,IAAb;EACA,IAAM/D,KAAK,GAAGrC,UAAU,CAACsE,GAAX,CAAe,OAAf,CAAd;EACA,IAAIF,OAAO,GAAGH,GAAG,GAAClD,KAAJ,GAAYsB,KAAK,CAACjJ,MAAlB,GAA2BiJ,KAAK,CAACjJ,MAAjC,GAA0C6K,GAAG,GAAClD,KAA5D;EACA,IAAMxC,SAAS,GAAGD,MAAM,GAAGA,MAAM,CAACpC,WAAP,GAAqB9B,KAArB,CAA2B,GAA3B,CAAH,GAAqC,EAA7D;EACA,IAAMwH,QAAQ,GAAGzK,KAAK,CAAC0K,QAAvB;;EAGA,IAAGnK,gBAAO,GAAGoJ,UAAV,IAAwB,QAAxB,IAAoCqD,WAAvC,EAAmD;IACjDC,OAAO,GAAC/B,KAAK,CAACjJ,MAAd;GADF,MAEO;IACL,IAAIwI,QAAQ,GAAGS,KAAK,CAACjJ,MAAjB,IAA2B6K,GAAG,GAAClD,KAAJ,GAAYa,QAA3C,EAAoD;MAClDwC,OAAO,GAAGxC,QAAV;;;;EAIJ,iBAAgCzB,cAAQ,CAAC,GAAD,CAAxC;MAAO+G,QAAP;MAAiBC,WAAjB;;EAEA,SAASC,YAAT,CAAsBC,EAAtB,EAA0B;IACxB,IAAIH,QAAQ,KAAKG,EAAjB,EAAqB;MACnBF,WAAW,CAAC,IAAD,CAAX;KADF,MAEO;MACLA,WAAW,CAACE,EAAD,CAAX;;;;EAzB0B,2BAgCtB9M,CAhCsB;IAiC5BkE,IAAI,GAAG4D,KAAK,CAAC9H,CAAD,CAAZ;IACA+L,SAAS,CAAC9L,IAAV,eACElD,6BAAC,IAAD;MAAM,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,WAAT;oBACThN,6BAAC,SAAD,CAAW,MAAX;MAAkB,EAAE,EAAEgQ,IAAI,CAACC,MAA3B;MAAmC,OAAO,EAAC,MAA3C;MAAkD,QAAQ,EAAE9I,IAAI,CAAC6F,GAAL,CAAS,WAAT,CAA5D;MAAmF,SAAS,EAAE4C,QAAQ,KAAK3M,CAAb,GAAiB,MAAjB,GAA0B,UAAxH;MAAoI,OAAO,EAAE;QAAA,OAAM6M,YAAY,CAAC7M,CAAD,CAAlB;OAA7I;MAAoK,IAAI,EAAC;OACtKkE,IAAI,CAAC6F,GAAL,CAAS,OAAT,CADH,CADF,eAIEhN,6BAAC,SAAD,CAAW,QAAX;MAAoB,QAAQ,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,WAAT;oBAC5BhN,6BAAC,IAAD,CAAM,IAAN,QAEMiH,SAAS,CAACQ,GAAV,CAAc,UAAAC,KAAK,EAAI;MACrB,QAAOA,KAAP;QACE,KAAK,OAAL;UACI,oBACE1H,6BAAC,SAAD;YAAW,KAAK,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,QAAT,EAAmBnN,KAAK,CAACqQ,SAAzB,CAAlB;YAAuD,SAAS,EAAC,WAAjE;YAA6E,GAAG,EAAE/I,IAAI,CAAC6F,GAAL,CAAS,OAAT,CAAlF;YAAqG,GAAG,EAAC;YAD3G;;QAGJ,KAAK,MAAL;QACA,KAAK,aAAL;UACI,oBACEhN;YAAK,SAAS,EAAC,sBAAf;YAAsC,GAAG,EAAE0H;0BACzC1H,6BAAC,QAAD;YAAU,WAAW,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,aAAT,CAAvB;YAAgD,UAAU,EAAE7F,IAAI,CAAC6F,GAAL,CAAS,YAAT;YAD9D,CADF;;QAKJ,KAAK,SAAL;UACE,oBAAOhN,6BAAC,YAAD;YAAc,MAAM,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT,CAAtB;YAA2C,GAAG,EAAEtF;YAAvD;;QACF,KAAK,UAAL;UACM,oBACE1H,6BAAC,qBAAD;YACE,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT,CADZ;YAEE,OAAO,EAAC,WAFV;YAGE,IAAI,EAAEiC,IAHR;YAIE,GAAG,EAAEvH;YALT;;QAQN,KAAK,SAAL;UACI,IAAGP,IAAI,CAAC6F,GAAL,CAAS,SAAT,EAAoBlL,MAAvB,EAA8B;YAC5B,oBACE9B;cAAK,SAAS,EAAC;4BACbA,6BAAC,WAAD;cAAa,OAAO,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT,CAAtB;cAA2C,GAAG,EAAC;cADjD,CADF;;;UAMF,OAAO,IAAP;;QACJ,KAAK,MAAL;UACI,oBACIhN;YAAK,SAAS,EAAC,2BAAf;YAA2C,GAAG,EAAC;0BAC7CA,6BAAC,QAAD;YAAU,IAAI,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,MAAT;YADlB,CADJ;;QAKJ;UACE,oBAAOhN;YAAK,SAAS,uBAAqB0H,KAAnC;YAA4C,GAAG,EAAEA,KAAjD;YAAwD,cAAYP,IAAI,CAAC6F,GAAL,CAAStF,KAAT;aAAkBP,IAAI,CAAC6F,GAAL,CAAStF,KAAT,CAAtF,CAAP;;KAxCN,CAFN,CADF,CAJF,CADF;;;EAFF,KAAI,IAAIzE,CAAC,GAAG0J,GAAZ,EAAgB1J,CAAC,GAAG6J,OAApB,EAA4B7J,CAAC,EAA7B,EAAiC;IAAA,MAAzBA,CAAyB;;;EA4DjC,OAAO+L,SAAP;AACD,CA7FD;;AAkGA,IAAa5G,eAAa,GAAG,SAAhBA,aAAgB,GAAM;EACjC,IAAMrE,IAAI,GAAG,EAAb;EACAA,IAAI,CAAC,QAAD,CAAJ,GAAiB,eAAjB;EAEA,OAAOA,IAAP;AACD,CALM;;ACrHP,IAAMoM,gBAAgB,GAAG,SAAnBA,gBAAmB,OAA2C;EAAA,IAAzCtQ,KAAyC,QAAzCA,KAAyC;MAAnC6I,UAAmC,QAAnCA,UAAmC;MAAxBI,aAAwB,QAAxBA,aAAwB;MAAVgG,IAAU,QAAVA,IAAU;;EAClE,gBAAsBjG,cAAQ,CAAC,CAAD,CAA9B;MAAO8D,GAAP;MAAYC,MAAZ;;EACA,oBACE5M,yEACEA;IAAK,SAAS,EAAC;kBACXA,6BAAC+O,cAAD;IAAc,UAAU,EAAErG,UAA1B;IAAsC,GAAG,EAAEiE,GAA3C;IAAgD,IAAI,EAAEmC;KAAUjP,KAAhE,EADJ,CADF,eAIEG;IAAK,SAAS,EAAC;kBACbA;IAAK,SAAS,EAAC;kBACfA,6BAAC,aAAD;IAAe,aAAa,EAAE8I,aAA9B;IAA6C,UAAU,EAAEJ,UAAzD;IAAqE,GAAG,EAAEiE,GAA1E;IAA+E,MAAM,EAAEC,MAAvF;IAA+F,IAAI,EAAEkC;KAAUjP,KAA/G,EADA,CADF,CAJF,CADF;AAYD,CAdD;;AAgBA,IAAMkP,cAAY,GAAG,SAAfA,YAAe,CAAClP,KAAD,EAAW;EAC9B,IAAO6I,UAAP,GAAuD7I,KAAvD,CAAO6I,UAAP;MAAkBe,KAAlB,GAAuD5J,KAAvD,CAAkB4J,KAAlB;MAAwBqF,IAAxB,GAAuDjP,KAAvD,CAAwBiP,IAAxB;MAA6BnC,GAA7B,GAAuD9M,KAAvD,CAA6B8M,GAA7B;MAAiC3F,MAAjC,GAAuDnH,KAAvD,CAAiCmH,MAAjC;MAAwC6F,WAAxC,GAAuDhN,KAAvD,CAAwCgN,WAAxC;EACA,IAAImC,SAAS,GAAG,EAAhB;EACA,IAAI7H,IAAI,GAAG,EAAX;EACA,IAAM8H,IAAI,GAAGH,IAAb;EACA,IAAM/D,KAAK,GAAGrC,UAAU,CAACsE,GAAX,CAAe,OAAf,CAAd;EACA,IAAIF,OAAO,GAAGH,GAAG,GAAClD,KAAJ,GAAYsB,KAAK,CAACjJ,MAAlB,GAA2BiJ,KAAK,CAACjJ,MAAjC,GAA0C6K,GAAG,GAAClD,KAA5D;EACA,IAAMxC,SAAS,GAAGD,MAAM,GAAGA,MAAM,CAACpC,WAAP,GAAqB9B,KAArB,CAA2B,GAA3B,CAAH,GAAqC,EAA7D;EACA,IAAMwH,QAAQ,GAAGzK,KAAK,CAAC0K,QAAvB;;EAGA,IAAGnK,gBAAO,GAAGoJ,UAAV,IAAwB,QAAxB,IAAoCqD,WAAvC,EAAmD;IACjDC,OAAO,GAAC/B,KAAK,CAACjJ,MAAd;GADF,MAEO;IACL,IAAIwI,QAAQ,GAAGS,KAAK,CAACjJ,MAAjB,IAA2B6K,GAAG,GAAClD,KAAJ,GAAYa,QAA3C,EAAoD;MAClDwC,OAAO,GAAGxC,QAAV;;;;EAIJ,KAAI,IAAIrH,CAAC,GAAG0J,GAAZ,EAAgB1J,CAAC,GAAG6J,OAApB,EAA4B7J,CAAC,EAA7B,EAAiC;IAC/BkE,IAAI,GAAG4D,KAAK,CAAC9H,CAAD,CAAZ;IACA+L,SAAS,CAAC9L,IAAV,eAEElD,6BAAC,IAAD;MAAM,SAAS,EAAC,UAAhB;MAA2B,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,WAAT;oBAC9BhN;MAAK,SAAS,EAAC;oBACbA;MAAK,SAAS,wBAAqBiD,CAAC,GAAG,CAAJ,IAAS,CAAT,GAAa,eAAb,GAA+B,4BAApD;oBACZjD,6BAAC,IAAD,CAAM,GAAN;MAAU,OAAO,EAAC,KAAlB;MAAwB,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,QAAT,EAAmBnN,KAAK,CAACqQ,SAAzB,CAA7B;MAAkE,SAAS,EAAC;MAD9E,CADF,eAIElQ;MAAK,SAAS,EAAC;oBACbA,6BAAC,IAAD,CAAM,IAAN;MAAW,SAAS,EAAC;oBACnBA;MAAK,SAAS,EAAC;OAEbiH,SAAS,CAACQ,GAAV,CAAc,UAAAC,KAAK,EAAI;MACrB,QAAOA,KAAP;QACE,KAAK,OAAL;UACE,oBACE1H,6BAAC,IAAD,CAAM,KAAN;YAAY,GAAG,EAAE0H;aAAQP,IAAI,CAAC6F,GAAL,CAAS,OAAT,CAAzB,CADF;;QAGF,KAAK,MAAL;QACA,KAAK,aAAL;UACI,oBACEhN;YAAK,SAAS,EAAC,sBAAf;YAAsC,GAAG,EAAC;0BACxCA,6BAAC,QAAD;YAAU,WAAW,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,aAAT,CAAvB;YAAgD,UAAU,EAAE7F,IAAI,CAAC6F,GAAL,CAAS,YAAT;YAD9D,CADF;;QAKJ,KAAK,SAAL;UACE,oBAAOhN,6BAAC,YAAD;YAAc,MAAM,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT,CAAtB;YAA2C,GAAG,EAAEtF;YAAvD;;QACF,KAAK,UAAL;UACE,oBACE1H,6BAAC,qBAAD;YACE,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT,CADZ;YAEE,OAAO,EAAC,WAFV;YAGE,IAAI,EAAEiC,IAHR;YAIE,GAAG,EAAE9H,IAAI,CAAC6F,GAAL,CAAS,WAAT;YALT;;QAQF,KAAK,SAAL;UACI,IAAG7F,IAAI,CAAC6F,GAAL,CAAS,SAAT,EAAoBlL,MAAvB,EAA8B;YAC5B,oBACE9B;cAAK,SAAS,EAAC;4BACbA,6BAAC,WAAD;cAAa,OAAO,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT,CAAtB;cAA2C,GAAG,EAAC;cADjD,CADF;;;UAMF,OAAO,IAAP;;QACJ,KAAK,MAAL;UACI,oBACIhN;YAAK,SAAS,EAAC,2BAAf;YAA2C,GAAG,EAAC;0BAC7CA,6BAAC,QAAD;YAAU,IAAI,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,MAAT;YADlB,CADJ;;QAKJ;UACE,oBAAOhN;YAAK,SAAS,uBAAqB0H,KAAnC;YAA4C,GAAG,EAAEA,KAAjD;YAAwD,cAAYP,IAAI,CAAC6F,GAAL,CAAStF,KAAT;aAAkBP,IAAI,CAAC6F,GAAL,CAAStF,KAAT,CAAtF,CAAP;;KAxCN,CAFF,EA+CI,CAACT,SAAS,CAACmJ,QAAV,CAAmB,UAAnB,CAAD,iBACEpQ,6BAAC,IAAD;MAAM,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT,CAAhB;MAAwC,SAAS,EAAC;MAhDxD,CADF,CADF,CAJF,CADF,CAFF;;;EAmEF,OAAOgC,SAAP;AACD,CAzFD;;AA8FA,IAAa5G,eAAa,GAAG,SAAhBA,aAAgB,GAAM;EACjC,IAAMrE,IAAI,GAAG,EAAb;EACAA,IAAI,CAAC,QAAD,CAAJ,GAAiB,eAAjB;EAEA,OAAOA,IAAP;AACD,CALM;;AC/GP,IAAMsM,eAAe,GAAG,SAAlBA,eAAkB,OAA2C;EAAA,IAAzCxQ,KAAyC,QAAzCA,KAAyC;MAAnC6I,UAAmC,QAAnCA,UAAmC;MAAxBI,aAAwB,QAAxBA,aAAwB;MAAVgG,IAAU,QAAVA,IAAU;;EACjE,gBAAsBjG,cAAQ,CAAC,CAAD,CAA9B;MAAO8D,GAAP;MAAYC,MAAZ;;EACA,oBACE5M,yEACEA;IAAK,SAAS,EAAC;kBACXA,6BAAC+O,cAAD;IAAc,UAAU,EAAErG,UAA1B;IAAsC,GAAG,EAAEiE,GAA3C;IAAgD,IAAI,EAAEmC;KAAUjP,KAAhE,EADJ,CADF,eAIEG;IAAK,SAAS,EAAC;kBACbA;IAAK,SAAS,EAAC;kBACfA,6BAAC,aAAD;IAAe,aAAa,EAAE8I,aAA9B;IAA6C,UAAU,EAAEJ,UAAzD;IAAqE,GAAG,EAAEiE,GAA1E;IAA+E,MAAM,EAAEC,MAAvF;IAA+F,IAAI,EAAEkC;KAAUjP,KAA/G,EADA,CADF,CAJF,CADF;AAYD,CAdD;;AAgBA,IAAMkP,cAAY,GAAG,SAAfA,YAAe,CAAClP,KAAD,EAAW;EAC9B,IAAO6I,UAAP,GAAuD7I,KAAvD,CAAO6I,UAAP;MAAkBe,KAAlB,GAAuD5J,KAAvD,CAAkB4J,KAAlB;MAAwBqF,IAAxB,GAAuDjP,KAAvD,CAAwBiP,IAAxB;MAA6BnC,GAA7B,GAAuD9M,KAAvD,CAA6B8M,GAA7B;MAAiC3F,MAAjC,GAAuDnH,KAAvD,CAAiCmH,MAAjC;MAAwC6F,WAAxC,GAAuDhN,KAAvD,CAAwCgN,WAAxC;EACA,IAAImC,SAAS,GAAG,EAAhB;EACA,IAAI7H,IAAI,GAAG,EAAX;EACA,IAAM8H,IAAI,GAAGH,IAAb;EACA,IAAM/D,KAAK,GAAGrC,UAAU,CAACsE,GAAX,CAAe,OAAf,CAAd;EACA,IAAIF,OAAO,GAAGH,GAAG,GAAClD,KAAJ,GAAYsB,KAAK,CAACjJ,MAAlB,GAA2BiJ,KAAK,CAACjJ,MAAjC,GAA0C6K,GAAG,GAAClD,KAA5D;EACA,IAAMxC,SAAS,GAAGD,MAAM,GAAGA,MAAM,CAACpC,WAAP,GAAqB9B,KAArB,CAA2B,GAA3B,CAAH,GAAqC,EAA7D;EACA,IAAMwH,QAAQ,GAAGzK,KAAK,CAAC0K,QAAvB;;EAGA,IAAGnK,gBAAO,GAAGoJ,UAAV,IAAwB,QAAxB,IAAoCqD,WAAvC,EAAmD;IACjDC,OAAO,GAAC/B,KAAK,CAACjJ,MAAd;GADF,MAEO;IACL,IAAIwI,QAAQ,GAAGS,KAAK,CAACjJ,MAAjB,IAA2B6K,GAAG,GAAClD,KAAJ,GAAYa,QAA3C,EAAoD;MAClDwC,OAAO,GAAGxC,QAAV;;;;EAIJ,KAAI,IAAIrH,CAAC,GAAG0J,GAAZ,EAAgB1J,CAAC,GAAG6J,OAApB,EAA4B7J,CAAC,EAA7B,EAAiC;IAC/BkE,IAAI,GAAG4D,KAAK,CAAC9H,CAAD,CAAZ;IACA+L,SAAS,CAAC9L,IAAV,eAEAlD;MAAK,SAAS,EAAC,MAAf;MAAsB,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,WAAT;oBACzBhN,6BAAC,IAAD;MAAM,SAAS,EAAC;oBACdA;MAAK,SAAS,EAAC;oBACbA;MAAK,SAAS,wBAAqBiD,CAAC,GAAG,CAAJ,IAAS,CAAT,GAAa,eAAb,GAA+B,4BAApD;oBACZjD,6BAAC,IAAD,CAAM,GAAN;MAAU,OAAO,EAAC,KAAlB;MAAwB,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,QAAT,EAAmBnN,KAAK,CAACqQ,SAAzB;MAD/B,CADF,eAIElQ;MAAK,SAAS,EAAC;oBACbA,6BAAC,IAAD,CAAM,IAAN;MAAW,SAAS,EAAC;oBACnBA;MAAK,SAAS,EAAC;OAEbiH,SAAS,CAACQ,GAAV,CAAc,UAAAC,KAAK,EAAI;MACrB,QAAOA,KAAP;QACE,KAAK,OAAL;UACE,oBACE1H,6BAAC,IAAD,CAAM,KAAN;YAAY,GAAG,EAAE0H;aAAQP,IAAI,CAAC6F,GAAL,CAAS,OAAT,CAAzB,CADF;;QAGF,KAAK,MAAL;QACA,KAAK,aAAL;UACI,oBACEhN;YAAK,SAAS,EAAC,sBAAf;YAAsC,GAAG,EAAC;0BACxCA,6BAAC,QAAD;YAAU,WAAW,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,aAAT,CAAvB;YAAgD,UAAU,EAAE7F,IAAI,CAAC6F,GAAL,CAAS,YAAT;YAD9D,CADF;;QAKJ,KAAK,SAAL;UACE,oBAAOhN,6BAAC,YAAD;YAAc,MAAM,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT,CAAtB;YAA2C,GAAG,EAAEtF;YAAvD;;QACF,KAAK,UAAL;UACE,oBACE1H,6BAAC,qBAAD;YACE,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT,CADZ;YAEE,OAAO,EAAC,WAFV;YAGE,IAAI,EAAEiC,IAHR;YAIE,GAAG,EAAE9H,IAAI,CAAC6F,GAAL,CAAS,WAAT;YALT;;QAQF,KAAK,SAAL;UACI,IAAG7F,IAAI,CAAC6F,GAAL,CAAS,SAAT,EAAoBlL,MAAvB,EAA8B;YAC5B,oBACE9B;cAAK,SAAS,EAAC;4BACbA,6BAAC,WAAD;cAAa,OAAO,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT,CAAtB;cAA2C,GAAG,EAAC;cADjD,CADF;;;UAMF,OAAO,IAAP;;QACJ,KAAK,MAAL;UACI,oBACIhN;YAAK,SAAS,EAAC,2BAAf;YAA2C,GAAG,EAAC;0BAC7CA,6BAAC,QAAD;YAAU,IAAI,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,MAAT;YADlB,CADJ;;QAKJ;UACE,oBAAOhN;YAAK,SAAS,uBAAqB0H,KAAnC;YAA4C,GAAG,EAAEA,KAAjD;YAAwD,cAAYP,IAAI,CAAC6F,GAAL,CAAStF,KAAT;aAAkBP,IAAI,CAAC6F,GAAL,CAAStF,KAAT,CAAtF,CAAP;;KAxCN,CAFF,EA+CI,CAACT,SAAS,CAACmJ,QAAV,CAAmB,UAAnB,CAAD,iBACEpQ,6BAAC,IAAD;MAAM,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT,CAAhB;MAAwC,SAAS,EAAC;MAhDxD,CADF,CADF,CAJF,CADF,CADF,CAFA;;;EAqEF,OAAOgC,SAAP;AACD,CA3FD;;AAgGA,IAAa5G,eAAa,GAAG,SAAhBA,aAAgB,GAAM;EACjC,IAAMrE,IAAI,GAAG,EAAb;EACAA,IAAI,CAAC,QAAD,CAAJ,GAAiB,eAAjB;EAEA,OAAOA,IAAP;AACD,CALM;;AC3HA,IAAMuM,gBAAc,GAAG,SAAjBA,cAAiB,CAACzQ,KAAD,EAAW;EACrC,IAAM0Q,UAAU,GAAG1Q,KAAK,CAAC2Q,UAAzB;EACA,IAAIC,QAAQ,GAAG,EAAf;EACA,IAAIC,GAAG,GAAG,EAAV;EACA,IAAIC,IAAI,GAAGJ,UAAU,CAACxF,KAAtB;EACA,IAAI6F,YAAY,GAAG,CAAnB;EACA,IAAIC,OAAO,GAAG,KAAd;;EAGA,IAAIhR,KAAK,CAACiR,YAAN,IAAsB,KAA1B,EAAgC;IAC5BF,YAAY,GAAG,CAAf;;;EAKJ,IAAGD,IAAI,CAAC7O,MAAL,GAAc,CAAd,IAAmB8O,YAAtB,EAAmC;IAC/B,IAAMG,YAAY,GAAGJ,IAAI,CAACpE,MAAL,CAAY,UAAAyE,QAAQ;MAAA,OAAIA,QAAQ,CAACC,SAAT,IAAsB,CAA1B;KAApB,CAArB;;IACA,IAAGF,YAAY,CAACjP,MAAb,GAAsB,CAAzB,EAA2B;MACvB6O,IAAI,GAAGI,YAAY,CAAC,CAAD,CAAnB;KADJ,MAEO;MACHJ,IAAI,GAAGI,YAAP;;;;EAKR,IAAIJ,IAAI,IAAIA,IAAI,CAAC7O,MAAjB,EAAwB;IACpB,IAAIoP,MAAM,GAAGP,IAAI,CAAC7O,MAAlB;;IAEA,KAAI,IAAImB,CAAC,GAAG,CAAZ,EAAcA,CAAC,GAAGiO,MAAlB,EAAyBjO,CAAC,EAA1B,EAA8B;MAC5ByN,GAAG,GAAGC,IAAI,CAAC1N,CAAD,CAAV;MACA4N,OAAO,GAAG5N,CAAC,GAAC,CAAF,GAAMiO,MAAhB;MAEAT,QAAQ,CAACvN,IAAT,eACIlD;QAAM,GAAG,EAAE0Q,GAAG,CAACS;SAAaT,GAAG,CAACU,YAAhC,EAA8CP,OAAO,QAArD,CADJ;;;;EAKN,OAAOJ,QAAP;AACH,CAtCM;;ACAP,SAASY,aAAT,GAAyB;EACrB,oBACIrR;IAAK,SAAS,EAAC;8BADnB;AAGH;;ACID,IAAMsR,KAAK,GAAG,SAARA,KAAQ,OAA2C;EAAA,IAAzCzR,KAAyC,QAAzCA,KAAyC;MAAnC6I,UAAmC,QAAnCA,UAAmC;MAAxBI,aAAwB,QAAxBA,aAAwB;MAAVgG,IAAU,QAAVA,IAAU;;EACvD,gBAAsBjG,cAAQ,CAAC,CAAD,CAA9B;MAAO8D,GAAP;MAAYC,MAAZ;;EACA,IAAI,CAAClE,UAAU,CAACnE,UAAX,CAAsBgN,UAA3B,EAAsC;IACpC,oBACEvR,6BAACwR,aAAD,OADF;;;EAIF,oBACExR,yEACEA;IAAK,SAAS,wDAAsDH,KAAK,CAAC4R,SAA5D,qBAAqF5R,KAAK,CAAC6R,SAA3F,qBAAoH7R,KAAK,CAAC8R,SAA1H,qBAAmJ9R,KAAK,CAAC+R;kBACnK5R,6BAAC+O,cAAD;IAAc,UAAU,EAAErG,UAA1B;IAAsC,GAAG,EAAEiE,GAA3C;IAAgD,IAAI,EAAEmC;KAAUjP,KAAhE,EADJ,CADF,eAIEG;IAAK,SAAS,EAAC;kBACbA;IAAK,SAAS,EAAC;kBACfA,6BAAC,aAAD;IAAe,aAAa,EAAE8I,aAA9B;IAA6C,UAAU,EAAEJ,UAAzD;IAAqE,GAAG,EAAEiE,GAA1E;IAA+E,MAAM,EAAEC,MAAvF;IAA+F,IAAI,EAAEkC;KAAUjP,KAA/G,EADA,CADF,CAJF,CADF;AAYD,CAnBD;;AAqBA,IAAMkP,cAAY,GAAG,SAAfA,YAAe,CAAClP,KAAD,EAAW;EAC9B,IAAO6I,UAAP,GAAuD7I,KAAvD,CAAO6I,UAAP;MAAkBe,KAAlB,GAAuD5J,KAAvD,CAAkB4J,KAAlB;MAAwBqF,IAAxB,GAAuDjP,KAAvD,CAAwBiP,IAAxB;MAA6BnC,GAA7B,GAAuD9M,KAAvD,CAA6B8M,GAA7B;MAAiC3F,MAAjC,GAAuDnH,KAAvD,CAAiCmH,MAAjC;MAAwC6F,WAAxC,GAAuDhN,KAAvD,CAAwCgN,WAAxC;EAEA,IAAImC,SAAS,GAAG,EAAhB;EACA,IAAI7H,IAAI,GAAG,EAAX;EACA,IAAM8H,IAAI,GAAGH,IAAb;EACA,IAAM/D,KAAK,GAAGrC,UAAU,CAACsE,GAAX,CAAe,OAAf,CAAd;EACA,IAAIF,OAAO,GAAGH,GAAG,GAAClD,KAAJ,GAAYsB,KAAK,CAACjJ,MAAlB,GAA2BiJ,KAAK,CAACjJ,MAAjC,GAA0C6K,GAAG,GAAClD,KAA5D;EACA,IAAMxC,SAAS,GAAGD,MAAM,GAAGA,MAAM,CAACpC,WAAP,GAAqB9B,KAArB,CAA2B,GAA3B,CAAH,GAAqC,EAA7D;EACA,IAAMwH,QAAQ,GAAGzK,KAAK,CAAC0K,QAAvB;EACA,IAAIlD,cAAc,GAAG,EAArB;;EAEA,IAAGjH,gBAAO,GAAGoJ,UAAV,IAAwB,QAAxB,IAAoCqD,WAAvC,EAAmD;IACjDC,OAAO,GAAC/B,KAAK,CAACjJ,MAAd;GADF,MAEO;IACL,IAAIwI,QAAQ,GAAGS,KAAK,CAACjJ,MAAjB,IAA2B6K,GAAG,GAAClD,KAAJ,GAAYa,QAA3C,EAAoD;MAClDwC,OAAO,GAAGxC,QAAV;;;;EAIJ,KAAI,IAAIrH,CAAC,GAAG0J,GAAZ,EAAgB1J,CAAC,GAAG6J,OAApB,EAA4B7J,CAAC,EAA7B,EAAiC;IAC/BkE,IAAI,GAAG4D,KAAK,CAAC9H,CAAD,CAAZ;IACAoE,cAAc,GAAGF,IAAI,CAAC4C,MAAL,GAAczC,mBAA/B;IAEA0H,SAAS,CAAC9L,IAAV,eACAlD;MAAK,SAAS,EAAC,UAAf;MAA0B,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,WAAT;oBAC7BhN,6BAAC,IAAD;MAAM,SAAS,EAAC;OAEZiH,SAAS,CAACsF,MAAV,CAAiB,UAAA7E,KAAK;MAAA,OAAIA,KAAK,IAAI,OAAb;KAAtB,EAA4CD,GAA5C,CAAgD,UAAAoK,aAAa;MAAA,oBAC3D7R,6BAAC,IAAD,CAAM,GAAN;QAAU,OAAO,EAAC,KAAlB;QAAwB,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,QAAT,EAAmBnN,KAAK,CAACqQ,SAAzB,CAA7B;QAAkE,GAAG,EAAE/I,IAAI,CAAC6F,GAAL,CAAS,QAAT;QADZ;KAA7D,CAFJ,eAMEhN,6BAAC,IAAD,CAAM,IAAN,qBACEA;MAAK,SAAS,EAAC;OAEbiH,SAAS,CAACQ,GAAV,CAAc,UAAAC,KAAK,EAAI;MACrB,QAAOA,KAAP;QACE,KAAK,OAAL;UACE,oBACE1H,6BAAC,IAAD,CAAM,KAAN;YAAY,GAAG,EAAE0H;aAAQP,IAAI,CAAC6F,GAAL,CAAS,OAAT,CAAzB,CADF;;QAGF,KAAK,MAAL;QACA,KAAK,aAAL;UACI,oBACEhN;YAAK,SAAS,EAAC,sBAAf;YAAsC,GAAG,WAASmH,IAAI,CAAC6F,GAAL,CAAS,WAAT;0BAChDhN,6BAAC,QAAD;YAAU,WAAW,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,aAAT,CAAvB;YAAgD,UAAU,EAAE7F,IAAI,CAAC6F,GAAL,CAAS,YAAT;YAD9D,CADF;;QAKJ,KAAK,SAAL;UACE,oBAAOhN,6BAAC,YAAD;YAAc,MAAM,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT,CAAtB;YAA2C,GAAG,EAAEtF;YAAvD;;QACF,KAAK,UAAL;UACE,OAAO,IAAP;;QACF;UACE,oBAAO1H;YAAK,SAAS,uBAAqB0H,KAAnC;YAA4C,GAAG,EAAEA,KAAjD;YAAwD,cAAYP,IAAI,CAAC6F,GAAL,CAAStF,KAAT;aAAkBP,IAAI,CAAC6F,GAAL,CAAStF,KAAT,CAAtF,CAAP;;KAlBN,CAFF,CADF,EA2BI,CAACT,SAAS,CAACmJ,QAAV,CAAmB,UAAnB,CAAD,iBACEpQ,6BAAC,IAAD;MAAM,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT,CAAhB;MAAwC,SAAS,EAAC;MA5BxD,CANF,EAqCG,CAAC/F,SAAS,CAACmJ,QAAV,CAAmB,UAAnB,KAAmC/I,cAAc,IAAIxH,KAAK,CAACiS,cAA5D,kBACD9R,6BAAC,IAAD,CAAM,MAAN,QAEEiH,SAAS,CAACmJ,QAAV,CAAmB,UAAnB,kBACEpQ,6BAAC,qBAAD;MACE,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT,CADZ;MAEE,OAAO,EAAC,WAFV;MAGE,IAAI,EAAEiC,IAHR;MAIE,GAAG,EAAE9H,IAAI,CAAC6F,GAAL,CAAS,WAAT;MAPX,EAWG3F,cAAc,IAAIxH,KAAK,CAACiS,cAAxB,iBACC9R,yEACEA,wCADF,eAEEA,6BAAC,IAAD,CAAM,IAAN;MAAW,GAAG,EAAC;oBACbA,6BAACsQ,gBAAD;MACE,UAAU,EAAEjJ,cADd;MAEE,YAAY,EAAExH,KAAK,CAACkS;MAHxB,CAFF,CAZJ,CAtCF,CADF,CADA;;;EAoEF,OAAO/C,SAAP;AACD,CA7FD;;AAkGA,IAAa5G,eAAa,GAAG,SAAhBA,aAAgB,GAAM;EACjC,IAAMrE,IAAI,GAAG,EAAb;EACAA,IAAI,CAAC,QAAD,CAAJ,GAAiB,eAAjB;EAEA,OAAOA,IAAP;AACD,CALM;;ACnHP,IAAMiO,IAAI,GAAG,SAAPA,IAAO,OAA2C;EAAA,IAAzCnS,KAAyC,QAAzCA,KAAyC;MAAnC6I,UAAmC,QAAnCA,UAAmC;MAAxBI,aAAwB,QAAxBA,aAAwB;MAAVgG,IAAU,QAAVA,IAAU;;EACtD,gBAAsBjG,cAAQ,CAAC,CAAD,CAA9B;MAAO8D,GAAP;MAAYC,MAAZ;;EACA,oBACE5M;IAAK,SAAS,EAAC;kBACbA,6BAAC+O,cAAD;IAAc,UAAU,EAAErG,UAA1B;IAAsC,GAAG,EAAEiE,GAA3C;IAAgD,IAAI,EAAEmC;KAAUjP,KAAhE,EADF,eAGEG;IAAK,SAAS,EAAC;kBACbA;IAAK,SAAS,EAAC;kBACfA,6BAAC,aAAD;IAAe,aAAa,EAAE8I,aAA9B;IAA6C,UAAU,EAAEJ,UAAzD;IAAqE,GAAG,EAAEiE,GAA1E;IAA+E,MAAM,EAAEC,MAAvF;IAA+F,IAAI,EAAEkC;KAAUjP,KAA/G,EADA,CADF,CAHF,CADF;AAWD,CAbD;;AAeA,IAAMkP,cAAY,GAAG,SAAfA,YAAe,CAAClP,KAAD,EAAW;EAC9B,IAAO6I,UAAP,GAAuD7I,KAAvD,CAAO6I,UAAP;MAAkBe,KAAlB,GAAuD5J,KAAvD,CAAkB4J,KAAlB;MAAwBqF,IAAxB,GAAuDjP,KAAvD,CAAwBiP,IAAxB;MAA6BnC,GAA7B,GAAuD9M,KAAvD,CAA6B8M,GAA7B;MAAiC3F,MAAjC,GAAuDnH,KAAvD,CAAiCmH,MAAjC;MAAwC6F,WAAxC,GAAuDhN,KAAvD,CAAwCgN,WAAxC;EACA,IAAImC,SAAS,GAAG,EAAhB;EACA,IAAI7H,IAAI,GAAG,EAAX;EACA,IAAM8H,IAAI,GAAGH,IAAb;EACA,IAAM/D,KAAK,GAAGrC,UAAU,CAACsE,GAAX,CAAe,OAAf,CAAd;EACA,IAAIF,OAAO,GAAGH,GAAG,GAAClD,KAAJ,GAAYsB,KAAK,CAACjJ,MAAlB,GAA2BiJ,KAAK,CAACjJ,MAAjC,GAA0C6K,GAAG,GAAClD,KAA5D;EACA,IAAMxC,SAAS,GAAGD,MAAM,GAAGA,MAAM,CAACpC,WAAP,GAAqB9B,KAArB,CAA2B,GAA3B,CAAH,GAAqC,EAA7D;EACA,IAAMwH,QAAQ,GAAGzK,KAAK,CAAC0K,QAAvB;EACArF,OAAO,CAACgB,GAAR,CAAY,SAAZ,EAAuB4G,OAAvB;EACA5H,OAAO,CAACgB,GAAR,CAAY,KAAZ,EAAmByG,GAAnB;;EAEA,IAAGvM,gBAAO,GAAGoJ,UAAV,IAAwB,QAAxB,IAAoCqD,WAAvC,EAAmD;IACjDC,OAAO,GAAC/B,KAAK,CAACjJ,MAAd;GADF,MAEO;IACL,IAAIwI,QAAQ,GAAGS,KAAK,CAACjJ,MAAjB,IAA2B6K,GAAG,GAAClD,KAAJ,GAAYa,QAA3C,EAAoD;MAClDwC,OAAO,GAAGxC,QAAV;;;;EAIJ,KAAI,IAAIrH,CAAC,GAAG0J,GAAZ,EAAgB1J,CAAC,GAAG6J,OAApB,EAA4B7J,CAAC,EAA7B,EAAiC;IAC/BkE,IAAI,GAAG4D,KAAK,CAAC9H,CAAD,CAAZ;IAGA+L,SAAS,CAAC9L,IAAV,eACElD;MAAK,SAAS,EAAC,UAAf;MAA0B,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,WAAT;oBAC7BhN,6BAAC,SAAD;MAAW,SAAS,EAAEiH,SAAtB;MAAiC,IAAI,EAAEE,IAAvC;MAA6C,SAAS,EAAEtH,KAAK,CAACqQ;MADhE,eAEElQ,6BAAC,QAAD;MAAU,SAAS,EAAEiH,SAArB;MAAgC,IAAI,EAAEE,IAAtC;MAA4C,IAAI,EAAE8H;MAFpD,CADF;;;EAQF,OAAOD,SAAP;AACD,CAjCD;;AAmCA,IAAMiD,SAAS,GAAG,SAAZA,SAAY,CAACpS,KAAD,EAAW;EAC3B,IAAOoH,SAAP,GAA0BpH,KAA1B,CAAOoH,SAAP;MAAkBE,IAAlB,GAA0BtH,KAA1B,CAAkBsH,IAAlB;EAEA,IAAI+E,QAAQ,GAAG,KAAf;;EACA,IAAIjF,SAAS,CAACiL,OAAV,CAAkB,OAAlB,IAA6B,CAAC,CAAlC,EAAqC;IACnChG,QAAQ,GAAG,IAAX;;;EAEF,IAAGA,QAAH,EAAa;IACX,IAAMgE,SAAS,GAAErQ,KAAK,CAACqQ,SAAN,IAAmB,QAApC;IACA,oBACElQ;MAAK,SAAS,EAAC;oBACXA,6BAAC,SAAD;MAAW,KAAK,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,QAAT,EAAmBkD,SAAnB,CAAlB;MAAiD,SAAS,EAAC,WAA3D;MAAuE,GAAG,EAAE/I,IAAI,CAAC6F,GAAL,CAAS,OAAT,CAA5E;MAA+F,GAAG,EAAC;MADvG,CADF;;;EAMF,oBACEhN,2DADF;AAGD,CAlBD;;AAoBA,IAAMmS,QAAQ,GAAG,SAAXA,QAAW,CAACtS,KAAD,EAAW;EAC1B,IAAOoH,SAAP,GAAgCpH,KAAhC,CAAOoH,SAAP;MAAkBE,IAAlB,GAAgCtH,KAAhC,CAAkBsH,IAAlB;MAAwB8H,IAAxB,GAAgCpP,KAAhC,CAAwBoP,IAAxB;EAEA,IAAI/C,QAAQ,GAAG,KAAf;;EACA,IAAIjF,SAAS,CAACiL,OAAV,CAAkB,OAAlB,IAA6B,CAAC,CAAlC,EAAqC;IACnChG,QAAQ,GAAG,IAAX;;;EAIF,IAAI/E,IAAI,CAAC6F,GAAL,CAAS,MAAT,MAAqB,MAAzB,EAAiC;;EAIjC,oBACEhN;IAAK,SAAS,EAAEkM,QAAQ,GAAG,sBAAH,GAA4B;kBAChDlM;IAAK,SAAS,EAAC;KAEXiH,SAAS,CAACQ,GAAV,CAAc,UAAAC,KAAK,EAAI;IACrB,QAAOA,KAAP;MACE,KAAK,OAAL;QACE,oBACE1H;UAAK,SAAS,EAAC,uBAAf;UAAuC,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,OAAT;wBAC1ChN,yCAAKmH,IAAI,CAAC6F,GAAL,CAAS,OAAT,CAAL,CADF,CADF;;MAKF,KAAK,MAAL;MACA,KAAK,aAAL;QACI,oBACEhN;UAAK,SAAS,EAAC,sBAAf;UAAsC,GAAG,EAAC;wBACxCA,6BAAC,QAAD;UAAU,WAAW,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,aAAT,CAAvB;UAAgD,UAAU,EAAE7F,IAAI,CAAC6F,GAAL,CAAS,YAAT;UAD9D,CADF;;MAKJ,KAAK,SAAL;QACE,oBAAOhN,6BAAC,YAAD;UAAc,MAAM,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT,CAAtB;UAA2C,GAAG,EAAEtF;UAAvD;;MACF,KAAK,UAAL;QACM,oBACE1H;UAAK,SAAS,EAAC,0BAAf;UAA0C,GAAG,EAAE0H;wBAC7C1H,6BAAC,qBAAD;UACE,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT,CADZ;UAEE,OAAO,EAAC,WAFV;UAGE,IAAI,EAAEiC,IAHR;UAIE,GAAG,EAAE9H,IAAI,CAAC6F,GAAL,CAAS,WAAT;UALT,CADF;;MAUN,KAAK,SAAL;QACI,IAAG7F,IAAI,CAAC6F,GAAL,CAAS,SAAT,EAAoBlL,MAAvB,EAA8B;UAC5B,oBACE9B;YAAK,SAAS,EAAC;0BACbA,6BAAC,WAAD;YAAa,OAAO,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT,CAAtB;YAA2C,GAAG,EAAC;YADjD,CADF;;;QAMF,OAAO,IAAP;;MACJ,KAAK,MAAL;QACI,oBACIhN;UAAK,SAAS,EAAC,2BAAf;UAA2C,GAAG,EAAC;wBAC7CA,6BAAC,QAAD;UAAU,IAAI,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,MAAT;UADlB,CADJ;;MAKJ;QACE,oBAAOhN;UAAK,SAAS,uBAAqB0H,KAAnC;UAA4C,GAAG,EAAEA,KAAjD;UAAwD,cAAYP,IAAI,CAAC6F,GAAL,CAAStF,KAAT;WAAkBP,IAAI,CAAC6F,GAAL,CAAStF,KAAT,CAAtF,CAAP;;GA5CN,CAFJ,EAmDE,CAACT,SAAS,CAACmJ,QAAV,CAAmB,UAAnB,CAAD,iBACEpQ,6BAAC,IAAD;IAAM,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT,CAAhB;IAAwC,SAAS,EAAC;IApDtD,CADJ,CADF;AA2DD,CAxED;;AA4EA,IAAa5E,eAAa,GAAG,SAAhBA,aAAgB,CAACjB,IAAD,EAAU;EACrC,IAAMpD,IAAI,GAAG,EAAb;EACAA,IAAI,CAAC,QAAD,CAAJ,GAAiB,EAAjB;EAEA,OAAOA,IAAP;AACD,CALM;;AClJP,IAAMqO,OAAO,GAAG,SAAVA,OAAU,OAA2C;EAAA,IAAzCvS,KAAyC,QAAzCA,KAAyC;MAAnC6I,UAAmC,QAAnCA,UAAmC;MAAxBI,aAAwB,QAAxBA,aAAwB;MAAVgG,IAAU,QAAVA,IAAU;;EACzD,gBAAsBjG,cAAQ,CAAC,CAAD,CAA9B;MAAO8D,GAAP;MAAYC,MAAZ;;EACA,oBACE5M,yEACEA;IAAK,SAAS;kBACVA,6BAAC+O,cAAD;IAAc,UAAU,EAAErG,UAA1B;IAAsC,GAAG,EAAEiE,GAA3C;IAAgD,IAAI,EAAEmC;KAAUjP,KAAhE,EADJ,CADF,eAIEG;IAAK,SAAS,EAAC;kBACbA;IAAK,SAAS,EAAC;kBACfA,6BAAC,aAAD;IAAe,aAAa,EAAE8I,aAA9B;IAA6C,UAAU,EAAEJ,UAAzD;IAAqE,GAAG,EAAEiE,GAA1E;IAA+E,MAAM,EAAEC,MAAvF;IAA+F,IAAI,EAAEkC;KAAUjP,KAA/G,EADA,CADF,CAJF,CADF;AAYD,CAdD;;AAgBA,IAAMkP,cAAY,GAAG,SAAfA,YAAe,CAAClP,KAAD,EAAW;EAC9B,IAAO6I,UAAP,GAAuD7I,KAAvD,CAAO6I,UAAP;MAAkBe,KAAlB,GAAuD5J,KAAvD,CAAkB4J,KAAlB;MAAwBqF,IAAxB,GAAuDjP,KAAvD,CAAwBiP,IAAxB;MAA6BnC,GAA7B,GAAuD9M,KAAvD,CAA6B8M,GAA7B;MAAiC3F,MAAjC,GAAuDnH,KAAvD,CAAiCmH,MAAjC;MAAwC6F,WAAxC,GAAuDhN,KAAvD,CAAwCgN,WAAxC;EACA,IAAImC,SAAS,GAAG,EAAhB;EACA,IAAI7H,IAAI,GAAG,EAAX;EACA,IAAM8H,IAAI,GAAGH,IAAb;EACA,IAAM/D,KAAK,GAAGrC,UAAU,CAACsE,GAAX,CAAe,OAAf,CAAd;EACA,IAAIF,OAAO,GAAGH,GAAG,GAAClD,KAAJ,GAAYsB,KAAK,CAACjJ,MAAlB,GAA2BiJ,KAAK,CAACjJ,MAAjC,GAA0C6K,GAAG,GAAClD,KAA5D;EACA,IAAMxC,SAAS,GAAGD,MAAM,GAAGA,MAAM,CAACpC,WAAP,GAAqB9B,KAArB,CAA2B,GAA3B,CAAH,GAAqC,EAA7D;EACA,IAAMwH,QAAQ,GAAGzK,KAAK,CAAC0K,QAAvB;;EAGA,IAAGnK,gBAAO,GAAGoJ,UAAV,IAAwB,QAAxB,IAAoCqD,WAAvC,EAAmD;IACjDC,OAAO,GAAC/B,KAAK,CAACjJ,MAAd;GADF,MAEO;IACL,IAAIwI,QAAQ,GAAGS,KAAK,CAACjJ,MAAjB,IAA2B6K,GAAG,GAAClD,KAAJ,GAAYa,QAA3C,EAAoD;MAClDwC,OAAO,GAAGxC,QAAV;;;;EAIJ,KAAI,IAAIrH,CAAC,GAAG0J,GAAZ,EAAgB1J,CAAC,GAAG6J,OAApB,EAA4B7J,CAAC,EAA7B,EAAiC;IAC/BkE,IAAI,GAAG4D,KAAK,CAAC9H,CAAD,CAAZ;IACA+L,SAAS,CAAC9L,IAAV,eAEElD,6BAAC,IAAD;MAAM,SAAS,EAAC,mBAAhB;MAAoC,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,WAAT;OAErC/F,SAAS,CAACsF,MAAV,CAAiB,UAAA7E,KAAK;MAAA,OAAIA,KAAK,IAAI,OAAb;KAAtB,EAA4CD,GAA5C,CAAgD,UAAAoK,aAAa;MAAA,oBAC3D7R,6BAAC,IAAD,CAAM,GAAN;QAAU,OAAO,EAAC,KAAlB;QAAwB,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,QAAT,EAAmBnN,KAAK,CAACqQ,SAAzB,CAA7B;QAAkE,GAAG,EAAE/I,IAAI,CAAC6F,GAAL,CAAS,QAAT;QADZ;KAA7D,CAFJ,eAMEhN,6BAAC,IAAD,CAAM,IAAN,qBACEA;MAAK,SAAS,EAAC;OAEbiH,SAAS,CAACQ,GAAV,CAAc,UAAAC,KAAK,EAAI;MACrB,QAAOA,KAAP;QACE,KAAK,OAAL;UACE,oBACE1H,6BAAC,IAAD,CAAM,KAAN;YAAY,GAAG,EAAE0H;aAAQP,IAAI,CAAC6F,GAAL,CAAS,OAAT,CAAzB,CADF;;QAGF,KAAK,MAAL;QACA,KAAK,aAAL;UACI,oBACEhN;YAAK,SAAS,EAAC,sBAAf;YAAsC,GAAG,EAAC;0BACxCA,6BAAC,QAAD;YAAU,WAAW,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,aAAT,CAAvB;YAAgD,UAAU,EAAE7F,IAAI,CAAC6F,GAAL,CAAS,YAAT;YAD9D,CADF;;QAKJ,KAAK,SAAL;UACE,oBAAOhN,6BAAC,YAAD;YAAc,MAAM,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT,CAAtB;YAA2C,GAAG,EAAEtF;YAAvD;;QACF,KAAK,SAAL;UACI,IAAGP,IAAI,CAAC6F,GAAL,CAAS,SAAT,EAAoBlL,MAAvB,EAA8B;YAC5B,oBACE9B;cAAK,SAAS,EAAC;4BACbA,6BAAC,WAAD;cAAa,OAAO,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT,CAAtB;cAA2C,GAAG,EAAC;cADjD,CADF;;;UAMF,OAAO,IAAP;;QACJ,KAAK,MAAL;UACI,oBACIhN;YAAK,SAAS,EAAC,2BAAf;YAA2C,GAAG,EAAC;0BAC7CA,6BAAC,QAAD;YAAU,IAAI,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,MAAT;YADlB,CADJ;;QAKJ;UACE,oBAAOhN;YAAK,SAAS,uBAAqB0H,KAAnC;YAA4C,GAAG,EAAEA,KAAjD;YAAwD,cAAYP,IAAI,CAAC6F,GAAL,CAAStF,KAAT;aAAkBP,IAAI,CAAC6F,GAAL,CAAStF,KAAT,CAAtF,CAAP;;KA/BN,CAFF,CADF,EAwCI,CAACT,SAAS,CAACmJ,QAAV,CAAmB,UAAnB,CAAD,iBACEpQ,6BAAC,IAAD;MAAM,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT,CAAhB;MAAwC,SAAS,EAAC;MAzCxD,CANF,EAkDI/F,SAAS,CAACmJ,QAAV,CAAmB,UAAnB,kBACApQ,6BAAC,IAAD,CAAM,MAAN,qBACEA,6BAAC,qBAAD;MACE,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT,CADZ;MAEE,OAAO,EAAC,WAFV;MAGE,IAAI,EAAEiC,IAHR;MAIE,GAAG,EAAE9H,IAAI,CAAC6F,GAAL,CAAS,WAAT;MALT,CAnDJ,CAFF;;;EAmEF,OAAOgC,SAAP;AACD,CAzFD;;AA8FA,IAAa5G,eAAa,GAAG,SAAhBA,aAAgB,GAAM;EACjC,IAAMrE,IAAI,GAAG,EAAb;EACAA,IAAI,CAAC,QAAD,CAAJ,GAAiB,eAAjB;EAEA,OAAOA,IAAP;AACD,CALM;;AC3GP,IAAMsO,WAAW,GAAG,SAAdA,WAAc,OAA6B;EAAA,IAA3BxS,KAA2B,QAA3BA,KAA2B;MAArB6I,UAAqB,QAArBA,UAAqB;MAAVoG,IAAU,QAAVA,IAAU;;EAE/C,SAASwD,eAAT,CAAyBzS,KAAzB,EAAgC;IAC9B,IAAQyG,SAAR,GAAsCzG,KAAtC,CAAQyG,SAAR;QAAmBiM,AAAOC,OAA1B,GAAsC3S,KAAtC,CAA0B2S,OAA1B;IACA,oBACExS;MACE,SAAS,EAAEsG,SADb;MAEE,OAAO,EAAEkM;oBAETxS,6BAAC0O,gCAAD;MAAiB,IAAI,EAAEC;MAJzB,CADF;;;EAUF,SAAS8D,eAAT,CAAyB5S,KAAzB,EAAgC;IAC9B,IAAQyG,SAAR,GAAsCzG,KAAtC,CAAQyG,SAAR;QAAmBiM,AAAOC,OAA1B,GAAsC3S,KAAtC,CAA0B2S,OAA1B;IACA,oBACExS;MACE,SAAS,EAAEsG,SADb;MAEE,OAAO,EAAEkM;oBAETxS,6BAAC0O,gCAAD;MAAiB,IAAI,EAAEE;MAJzB,CADF;;;EAUF,IAAM8D,MAAM,GAAGhK,UAAU,CAACjB,GAAX,CAAe,UAACN,IAAD;IAAA,oBAC1BnH,6BAAC,UAAD;MACE,WAAW,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,QAAT,EAAmBnN,KAAK,CAACqQ,SAAzB,CADf;MAEE,SAAS,EAAErQ,KAAK,CAACqQ,SAFnB;MAGE,IAAI,EAAE/I,IAHR;MAIE,IAAI,EAAE2H,IAJR;MAKE,YAAY,EAAE6D,MAAM,CAAC9S,KAAK,CAAC+S,YAAP;OAChB/S,KANN;MAOE,GAAG,EAAEsH,IAAI,CAAC6F,GAAL,CAAS,WAAT;OARmB;GAAf,CAAf;EAmDA,OACI0F,MAAM,IAAI,IAAV,IAAkBA,MAAM,CAAC5Q,MAAP,GAAgB,CAAlC,iBACA9B;IAAK,SAAS,mCAAiCH,KAAK,CAACgT;kBACnD7S,6BAAC,MAAD;IACE,IAAI,EAAEH,KAAK,CAACiT,IADd;IAEE,MAAM,EAAEjT,KAAK,CAACkT,MAFhB;IAGE,QAAQ,EAAElT,KAAK,CAACmT,QAHlB;IAIE,KAAK,EAAEL,MAAM,CAAC9S,KAAK,CAACoT,KAAP,CAJf;IAKE,YAAY,EAAEN,MAAM,CAAC9S,KAAK,CAAC+S,YAAP,CALtB;IAME,cAAc,EAAED,MAAM,CAAC9S,KAAK,CAAC+S,YAAP,CANxB;IAOE,QAAQ,EAAE/S,KAAK,CAACqT,QAPlB;IAQE,aAAa,EAAEP,MAAM,CAAC9S,KAAK,CAACsT,aAAP,CARvB;IASE,QAAQ,EAAEtT,KAAK,CAACuT,QATlB;IAUE,QAAQ,EAAEvT,KAAK,CAACwT,QAVlB;IAWE,eAAe,EAAExT,KAAK,CAACyT,eAXzB;IAYE,IAAI,EAAEzT,KAAK,CAAC0T,IAZd;IAaE,UAAU,EAAE1T,KAAK,CAAC2T,UAbpB;IAcE,aAAa,EAAE3T,KAAK,CAAC4T,aAdvB;IAeE,UAAU,EAAE,CACV;MACEC,UAAU,EAAE,CADd;MAEEC,QAAQ,EAAE;QACRC,YAAY,EAAE,CADN;QAERC,cAAc,EAAE;;KALV,EAQV;MACEH,UAAU,EAAE,GADd;MAEEC,QAAQ,EAAE;QACRC,YAAY,EAAE,CADN;QAERC,cAAc,EAAE;;KAZV,EAeV;MACEH,UAAU,EAAE,GADd;MAEEC,QAAQ,EAAE;QACRC,YAAY,EAAEjB,MAAM,CAAC9S,KAAK,CAAC+S,YAAP,CADZ;QAERiB,cAAc,EAAElB,MAAM,CAAC9S,KAAK,CAAC+S,YAAP;;KAnBhB,CAfd;IAsCE,SAAS,eAAE5S,6BAAC,eAAD,OAtCb;IAuCE,SAAS,eAAEA,6BAAC,eAAD,OAvCb;IAwCE,GAAG,EAAEH,KAAK,CAACiU;KAEZpB,MA1CD,CADF,CAFJ;AAkDD,CA/HD;;AAiIA,IAAMqB,UAAU,GAAG,SAAbA,UAAa,CAAClU,KAAD,EAAW;EAC5B,IAAMsH,IAAI,GAAGtH,KAAK,CAACsH,IAAnB;EAEA,IAAM8H,IAAI,GAAGpP,KAAK,CAACiP,IAAnB;EACA,IAAM7H,SAAS,GAAGpH,KAAK,CAACmH,MAAN,GAAenH,KAAK,CAACmH,MAAN,CAAapC,WAAb,GAA2B9B,KAA3B,CAAiC,GAAjC,CAAf,GAAuD,EAAzE;;EAEA,IAAIjD,KAAK,CAACgT,YAAN,KAAuB,QAA3B,EAAqC;IACnC,oBACE7S;MAAK,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,WAAT,CAAV;MAAiC,SAAS,EAAC;oBACzChN,6BAAC,IAAD;MAAM,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT,CAAhB;MAAwC,QAAQ;oBAC9ChN;MAAK,GAAG,EAAEH,KAAK,CAACmU;MADlB,CADF,eAIEhU;MAAK,SAAS,EAAC;OAEPiH,SAAS,CAACQ,GAAV,CAAc,UAAAC,KAAK,EAAI;MACrB,QAAOA,KAAP;QACE,KAAK,OAAL;UACE,oBACE1H;YAAK,SAAS,EAAC,uBAAf;YAAuC,GAAG,EAAE0H;aAAQP,IAAI,CAAC6F,GAAL,CAAS,OAAT,CAApD,CADF;;QAGF,KAAK,MAAL;QACA,KAAK,aAAL;UACI,oBACEhN;YAAK,SAAS,EAAC,sBAAf;YAAsC,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,aAAT;0BACzChN,6BAAC,QAAD;YAAU,WAAW,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,aAAT,CAAvB;YAAgD,UAAU,EAAE7F,IAAI,CAAC6F,GAAL,CAAS,YAAT;YAD9D,CADF;;QAKJ,KAAK,SAAL;UACE,oBAAOhN,6BAAC,YAAD;YAAc,SAAS,EAAC,yBAAxB;YAAkD,MAAM,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT,CAA1D;YAA+E,GAAG,EAAEtF;YAA3F;;QACF,KAAK,UAAL;UACE,oBACE1H;YAAK,SAAS,EAAC,0BAAf;YAA0C,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,WAAT;0BAC7ChN,6BAAC,qBAAD;YACE,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT,CADZ;YAEE,OAAO,EAAC,WAFV;YAGE,IAAI,EAAEiC,IAHR;YAIE,GAAG,EAAE9H,IAAI,CAAC6F,GAAL,CAAS,WAAT;YALT,CADF;;QAUF,KAAK,SAAL;UACI,IAAG7F,IAAI,CAAC6F,GAAL,CAAS,SAAT,EAAoBlL,MAAvB,EAA8B;YAC5B,oBACE9B;cAAK,SAAS,EAAC;4BACbA,6BAAC,WAAD;cAAa,OAAO,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT,CAAtB;cAA2C,GAAG,EAAC;cADjD,CADF;;;UAMF,OAAO,IAAP;;QACJ,KAAK,MAAL;UACI,oBACIhN;YAAK,SAAS,EAAC,2BAAf;YAA2C,GAAG,EAAC;0BAC7CA,6BAAC,QAAD;YAAU,IAAI,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,MAAT;YADlB,CADJ;;QAKJ;UACE,oBAAOhN;YAAK,SAAS,uBAAqB0H,KAAnC;YAA4C,GAAG,EAAEA,KAAjD;YAAwD,cAAYP,IAAI,CAAC6F,GAAL,CAAStF,KAAT;aAAkBP,IAAI,CAAC6F,GAAL,CAAStF,KAAT,CAAtF,CAAP;;KA1CN,CAFR,CAJF,CADF;GADF,MAyDO;IACL,oBACE1H;MAAK,SAAS,EAAC,YAAf;MAA4B,GAAG,EAAEH,KAAK,CAACqK;oBACrClK,6BAAC,IAAD;MAAM,SAAS,EAAC;OAEZiH,SAAS,CAACsF,MAAV,CAAiB,UAAA7E,KAAK;MAAA,OAAIA,KAAK,IAAI,OAAb;KAAtB,EAA4CD,GAA5C,CAAgD,UAAAoK,aAAa;MAAA,oBAC3D7R,6BAAC,IAAD,CAAM,GAAN;QAAU,OAAO,EAAC,KAAlB;QAAwB,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,QAAT,EAAmBnN,KAAK,CAACqQ,SAAzB,CAA7B;QAAkE,GAAG,EAAE2B;QADZ;KAA7D,CAFJ,eAME7R,6BAAC,IAAD,CAAM,IAAN;MAAW,SAAS,EAAC;oBACjBA;MAAK,SAAS,EAAC;OAEbiH,SAAS,CAACQ,GAAV,CAAc,UAAAC,KAAK,EAAI;MACrB,QAAOA,KAAP;QACE,KAAK,OAAL;UACE,oBACE1H,6BAAC,IAAD,CAAM,KAAN;YAAY,GAAG,EAAE0H;aAAQP,IAAI,CAAC6F,GAAL,CAAS,OAAT,CAAzB,CADF;;QAGF,KAAK,MAAL;QACA,KAAK,aAAL;UACI,oBACEhN;YAAK,SAAS,EAAC,sBAAf;YAAsC,GAAG,EAAC;0BACxCA,6BAAC,QAAD;YAAU,WAAW,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,aAAT,CAAvB;YAAgD,UAAU,EAAE7F,IAAI,CAAC6F,GAAL,CAAS,YAAT;YAD9D,CADF;;QAKJ,KAAK,SAAL;UACE,oBAAOhN,6BAAC,YAAD;YAAc,MAAM,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT,CAAtB;YAA2C,GAAG,EAAEtF;YAAvD;;QACF,KAAK,UAAL;UACE,oBACE1H,6BAAC,qBAAD;YACE,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT,CADZ;YAEE,OAAO,EAAC,WAFV;YAGE,IAAI,EAAEiC,IAHR;YAIE,GAAG,EAAE9H,IAAI,CAAC6F,GAAL,CAAS,WAAT;YALT;;QAQF;UACE,oBAAOhN;YAAK,SAAS,uBAAqB0H,KAAnC;YAA4C,GAAG,EAAEA,KAAjD;YAAwD,cAAYP,IAAI,CAAC6F,GAAL,CAAStF,KAAT;aAAkBP,IAAI,CAAC6F,GAAL,CAAStF,KAAT,CAAtF,CAAP;;KAzBN,CAFF,CADJ,CANF,CADF,CADF;;AAiDH,CAjHD;;AAsHA,IAAaU,eAAa,GAAG,SAAhBA,aAAgB,GAAM;EACjC,IAAMrE,IAAI,GAAG,EAAb;EACAA,IAAI,CAAC,QAAD,CAAJ,GAAiB,eAAjB;EAEA,OAAOA,IAAP;AACD,CALM;;AClQA,IAAMkQ,SAAS,GAAG,SAAZA,SAAY,CAASpU,KAAT,EAAgB;EACvC,IAAQkL,KAAR,GAAqClL,KAArC,CAAQkL,KAAR;MAAc3D,OAAd,GAAqCvH,KAArC,CAAcuH,OAAd;MAAsBtH,UAAtB,GAAqCD,KAArC,CAAsBC,UAAtB;EACA,IAAMK,IAAI,GAAGN,KAAK,CAACM,IAAN,IAAcC,gBAAO,EAAlC;EAIA,IAAI,CAAC2K,KAAL,EAAY,OAAO,EAAP;EAEZzK,eAAS,CAAC,YAAM;IACdH,IAAI,CAAC+T,sBAAL,GAA4B/T,IAAI,CAAC+T,sBAAL,IAA+B,EAA3D;;IACA,IAAG,OAAO/T,IAAI,CAAC+T,sBAAL,CAA4BpU,UAA5B,CAAP,IAAgD,WAAnD,EAA+D;MAC7DK,IAAI,CAAC+T,sBAAL,CAA4BpU,UAA5B,IAAyC,IAAIK,IAAI,CAACgU,aAAL,CAAmBF,SAAvB,CAAiCpU,KAAjC,CAAzC;;GAHK,EAKN,EALM,CAAT;EAOA,IAAIuU,MAAM,GAACrJ,KAAX;;EAEA,IAAG,CAACC,KAAK,CAACC,OAAN,CAAcmJ,MAAd,CAAJ,EAA0B;IACxB,IAAG;MACDA,MAAM,GAAClJ,IAAI,CAACC,KAAL,CAAWiJ,MAAX,CAAP;KADF,CAEE,OAAMnP,CAAN,EAAQ;MACRmP,MAAM,GAAC,EAAP;;;;EAIJ,IAAMC,gBAAgB,GAAC,SAAjBA,gBAAiB,CAACC,MAAD,EAAU;IAC/BA,MAAM,CAACtG,OAAP,CAAe,UAAC7G,IAAD,EAAQ;MACrBA,IAAI,CAACrH,UAAL,GAAgBK,IAAI,CAACoU,UAAL,EAAhB;;MACA,IAAGpN,IAAI,CAACqN,MAAL,IAAa,WAAb,IAA4BrN,IAAI,CAAC4D,KAApC,EAA0C;QACxC,IAAIqJ,OAAM,GAACjN,IAAI,CAAC4D,KAAhB;;QACD,IAAG,CAACC,KAAK,CAACC,OAAN,CAAcmJ,OAAd,CAAJ,EAA0B;UACvB,IAAG;YACDA,OAAM,GAAClJ,IAAI,CAACC,KAAL,CAAWiJ,OAAX,CAAP;WADF,CAEE,OAAMnP,CAAN,EAAQ;YACRmP,OAAM,GAAC,EAAP;;;;QAGJjN,IAAI,CAAC4D,KAAL,GAAWsJ,gBAAgB,CAACD,OAAD,CAA3B;;KAXJ;;IAcA,OAAOE,MAAP;GAfF;;EAkBA,IAAGnU,IAAI,CAACsU,OAAR,EAAgB;IACdL,MAAM,GAACA,MAAM,CAAC3M,GAAP,CAAW,UAASxE,CAAT,EAAW;MAAC,OAAOA,CAAP;KAAvB,CAAP;IACAoR,gBAAgB,CAACD,MAAD,CAAhB;;;EAGF,OAAQA,MAAM,CAAC3M,GAAP,CAAW,UAAAN,IAAI,EAAI;IACnB,IAAMuN,GAAG,GAAChQ,MAAM,CAACC,MAAP,CAAc,EAAd,EAAiBwC,IAAjB,CAAV;IACAuN,GAAG,CAACC,GAAJ,GAAQD,GAAG,CAAC5U,UAAZ;IACA4U,GAAG,CAACE,eAAJ,GAAoB/U,KAAK,CAAC+U,eAA1B;IACAF,GAAG,CAACG,aAAJ,GAAqBhV,KAAK,CAACgV,aAA3B;IACAH,GAAG,CAACI,WAAJ,GAAmBjV,KAAK,CAACiV,WAAzB;IACAJ,GAAG,CAACtN,OAAJ,GAAcA,OAAd;IACAsN,GAAG,CAACvU,IAAJ,GAAWA,IAAX;IACA,oBAAQH,6BAAC6E,kBAAD,EAAe6P,GAAf,OAAsBK,qBAAY,CAACL,GAAD,CAAlC,MAAR;GARA,CAAR;AAYD,CA5DM;;ACJP,IAAMM,EAAE,GAAG,SAALA,EAAK,CAASnV,KAAT,EAAgB;EACvB,oBACEG,wCADF;AAIH,CALD;;ACGO,IAAMiV,SAAS,GAAG,SAAZA,SAAY,OAA6E;EAAA,IAA3EC,UAA2E,QAA3EA,UAA2E;MAAhEC,WAAgE,QAAhEA,WAAgE;MAApDC,UAAoD,QAApDA,UAAoD;MAAzCC,UAAyC,QAAzCA,UAAyC;MAA9BC,YAA8B,QAA9BA,YAA8B;MAAjBC,WAAiB,QAAjBA,WAAiB;EAEpG,IAAIC,QAAQ,iBAAcL,WAAW,IAAE,SAA3B,CAAZ;;EACA,IAAIC,UAAU,IAAI,IAAlB,EAAuB;IACrBI,QAAQ,GAAGA,QAAQ,cAAWJ,UAAX,CAAnB;;;EAEF,IAAIG,WAAJ,EAAgB;IACdC,QAAQ,GAAGA,QAAQ,eAAnB;;;EAGF,oBACExV,yEACIA,6BAAC,IAAD;IAAM,IAAI,EAAEqV,UAAU,IAAE,8BAAxB;IAAwD,QAAQ;kBAC9DrV;IAAG,MAAM,EAAEsV,YAAY,IAAE,OAAzB;IAAkC,SAAS,EAAEE,QAA7C;IAAuD,IAAI,EAAC;KAAUN,UAAU,IAAI,UAApF,oBAAgGlV,6BAAC0O,gCAAD;IAAiB,IAAI,EAAEC;IAAvH,CADF,CADJ,CADF;AAOD,CAjBM;;ACHP,IAAM8G,KAAK,GAAG,SAARA,KAAQ,CAAS5V,KAAT,EAAgB;EAC5B,IAAMM,IAAI,GAAGN,KAAK,CAACM,IAAN,IAAcC,OAAO,EAAlC;EACA,IAAIkI,YAAY,GAAC5D,MAAM,CAACC,MAAP,CAAc,EAAd,EAAiB9E,KAAjB,CAAjB;EACAyI,YAAY,CAACjC,MAAb,GAAoBiC,YAAY,CAACjC,MAAb,IAAuB,EAA3C;EACA,IAAMqP,WAAW,GAAC,sBAAsBpN,YAAY,CAACxI,UAArD;EAEAQ,eAAS,CAAC,YAAM;IACdH,IAAI,CAAC,MAAOuV,WAAR,CAAJ,CAAyBC,IAAzB,CAA8BrN,YAAY,CAACjC,MAA3C;GADO,EAEN,EAFM,CAAT;EAIA,oBACErG;IAAK,EAAE,EAAE0V;IADX;AAGD,CAbD;;ACCA,IAAME,KAAK,GAAE,SAAPA,KAAO,CAAS/V,KAAT,EAAgB;EAC3B,IAAIyI,YAAY,GAAG5D,MAAM,CAACC,MAAP,CAAc,EAAd,EAAiB9E,KAAjB,CAAnB;EACAyI,YAAY,GAACA,YAAY,IAAI,EAA7B;EACDA,YAAY,CAACwC,GAAb,GAAiBxC,YAAY,CAACwC,GAAb,IAAkB,EAAnC;EACAxC,YAAY,CAACgH,GAAb,GAAiBhH,YAAY,CAACgH,GAAb,IAAkB,EAAnC;EACAhH,YAAY,CAACuN,OAAb,GAAqBvN,YAAY,CAACuN,OAAb,IAAsB,EAA3C;EACAvN,YAAY,CAACwN,SAAb,GAAuBxN,YAAY,CAACwN,SAAb,IAAwB,EAA/C;EACCxN,YAAY,CAACyN,GAAb,GAAiBzN,YAAY,CAACyN,GAAb,IAAkB,EAAnC;EACAzN,YAAY,CAAC0N,eAAb,GAA6B1N,YAAY,CAAC0N,eAAb,IAA8B,EAA3D;;EAEA,IAAG,OAAO1N,YAAY,CAAC0N,eAApB,KAAsC,QAAtC,IAAkD1N,YAAY,CAAC0N,eAAb,CAA6BpR,WAA7B,OAA6C,IAAlG,EAAuG;IACrG0D,YAAY,CAAC0N,eAAb,GAA6B,EAA7B;;;EAGH,IAAG,CAAC1N,YAAY,CAACwC,GAAjB,EAAqB;IACpB,OAAO,EAAP;;;EAGA,IAAGxC,YAAY,CAACwN,SAAhB,EAA0B;IACxB,oBACE9V,0DACEA;MAAG,IAAI,EAAEsI,YAAY,CAACwN,SAAtB;MAAiC,MAAM,EAAExN,YAAY,CAAC0N;oBACpDhW,6BAAC,GAAD,EAASsI,YAAT,CADF,CADF,eAIEtI,6BAAC,UAAD,EAAgBsI,YAAhB,CAJF,CADF;GADF,MASO;IACL,oBACEtI;MAAQ,KAAK,EAAE;QAACiW,MAAM,EAAC;;oBACpBjW,6BAAC,GAAD,EAASsI,YAAT,CADH,eAEEtI,6BAAC,UAAD,EAAgBsI,YAAhB,CAFF,CADF;;AAQH,CApCD;;AAsCA,IAAM4N,UAAU,GAAG,SAAbA,UAAa,OAAe;EAAA,IAAbL,OAAa,QAAbA,OAAa;;EAChC,IAAGA,OAAO,IAAIA,OAAO,IAAI,SAAzB,EAAmC;IACjC,oBACE7V,8DAAYA,6BAAC,YAAD;MAAc,MAAM,EAAE6V;MAAlC,CADF;GADF,MAIO;IACL,OAAO,EAAP;;AAEH,CARD;;AAUA,IAAMM,GAAG,GAAG,SAANA,GAAM,CAACtW,KAAD,EAAW;EACrB,IAAGA,KAAK,CAACkW,GAAT,EAAa;IACX,oBACE/V;MAAK,GAAG,EAAEH,KAAK,CAACiL,GAAhB;MAAqB,GAAG,EAAEjL,KAAK,CAACyP,GAAhC;MAAqC,OAAO,EAAC,MAA7C;MAAoD,KAAK,EAAE;QAACzO,MAAM,EAAC,MAAR;QAAeG,KAAK,EAAC,MAArB;QAA4BoV,SAAS,EAACvW,KAAK,CAACkW;OAAvG;MAA6G,mBAAiBlW,KAAK,CAACkW;MADtI;GADF,MAIO;IACL,oBACE/V;MAAK,GAAG,EAAEH,KAAK,CAACiL,GAAhB;MAAqB,GAAG,EAAEjL,KAAK,CAACyP,GAAhC;MAAqC,OAAO,EAAC;MAD/C;;AAKH,CAXD;;ACvCA,SAAS+G,KAAT,CAAexW,KAAf,EAAsB;EAElBS,eAAS,CAAC,YAAM;IACdH,IAAI,CAAC,sCAAuCN,KAAK,CAACC,UAA7C,GAA0D,IAA3D,CAAJ,CAAqEwW,oBAArE;GADO,EAEN,EAFM,CAAT;EAIA,oBACEtW,iDADF;AAIH;;ACfM,IAAMuW,cAAc,GAAC,SAAfA,cAAe,CAAS1W,KAAT,EAAe;EAAA;;EACvC,IAAMyI,YAAY,GAAG5D,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB9E,KAAlB,CAArB;;EAEA,IAAM2W,SAAS,GAAGlO,YAAY,SAAZ,IAAAA,YAAY,WAAZ,6BAAAA,YAAY,CAAEjI,YAAd,wEAA4BoW,QAA5B,GAAuCnO,YAAY,CAACjI,YAAb,CAA0BoW,QAAjE,GAA4E,KAA9F;;EACA,IAAMC,OAAO,GAAIpO,YAAY,SAAZ,IAAAA,YAAY,WAAZ,8BAAAA,YAAY,CAAEjI,YAAd,0EAA4BsW,MAA5B,GAAqCrO,YAAY,CAACjI,YAAb,CAA0BsW,MAA/D,GAAwE,KAAzF;;EAEA,gBAAgC9N,cAAQ,CAAC2N,SAAD,CAAxC;MAAOC,QAAP;MAAiBG,WAAjB;;EACA,iBAA4B/N,cAAQ,CAAC6N,OAAD,CAApC;MAAOC,MAAP;MAAeE,SAAf;;EAEA,IAAMC,YAAY,GAAGxO,YAAY,CAACyO,WAAb,GAA2BzO,YAAY,CAACyO,WAAxC,GAAsD,QAA3E;;EACA,IAAMC,aAAa,GAAG1O,YAAY,CAAC2O,YAAb,GAA4B3O,YAAY,CAAC2O,YAAzC,GAAwD,KAA9E;;EACA,IAAMC,UAAU,GAAG5O,YAAY,CAAC6O,SAAb,GAAyB7O,YAAY,CAAC6O,SAAtC,GAAkD,eAArE;;EACA,IAAMC,YAAY,GAAG9O,YAAY,CAACzG,WAAb,GAA2ByG,YAAY,CAACzG,WAAxC,GAAsD,QAA3E;;EAEA,iBAAsCgH,cAAQ,CAACiO,YAAD,CAA9C;MAAOO,WAAP;;EACA,iBAAwCxO,cAAQ,CAACmO,aAAD,CAAhD;MAAOM,YAAP;;EACA,iBAAkCzO,cAAQ,CAACqO,UAAD,CAA1C;MAAOK,SAAP;;EACA,iBAAsC1O,cAAQ,CAACuO,YAAD,CAA9C;MAAOI,WAAP;;EACA,iBAA4C3O,cAAQ,CAAC,KAAD,CAApD;MAAO4O,cAAP;MAAuBC,iBAAvB;;EACA,iBAAgD7O,cAAQ,CAAC,KAAD,CAAxD;MAAO8O,gBAAP;MAAyBC,mBAAzB;;EACA,iBAAkC/O,cAAQ,CAAC,KAAD,CAA1C;MAAOgP,SAAP;MAAkBC,YAAlB;;EAEA,kBAA0CjP,cAAQ,CAAC,EAAD,CAAlD;MAAOkP,aAAP;MAAsBC,gBAAtB;;EACA,kBAAsCnP,cAAQ,CAAC,EAAD,CAA9C;MAAOoP,WAAP;MAAoBC,cAApB;;EACA,kBAA0CrP,cAAQ,CAAC,KAAD,CAAlD;MAAOsP,aAAP;MAAsBC,gBAAtB;;EACA,kBAA0CvP,cAAQ,CAAC,KAAD,CAAlD;MAAOwP,aAAP;MAAsBC,gBAAtB;;EACA,kBAAuCzP,cAAQ,CAAC,KAAD,CAA/C;MAAO0P,YAAP;MAAoBC,eAApB;;EACA,kBAAgC3P,cAAQ,CAAC,KAAD,CAAxC;MAAO4P,QAAP;MAAiBC,WAAjB;;EACA,kBAAoC7P,cAAQ,CAAC,KAAD,CAA5C;MAAO8P,UAAP;MAAmBC,aAAnB;;EACA,kBAAwC/P,cAAQ,CAAC,KAAD,CAAhD;MAAOgQ,YAAP;MAAqBC,eAArB;;EACA,kBAA0CjQ,cAAQ,CAAC,KAAD,CAAlD;MAAOkQ,aAAP;MAAsBC,gBAAtB;;EAEA,kBAAsDnQ,cAAQ,CAAC,KAAD,CAA9D;MAAOoQ,mBAAP;MAA4BC,sBAA5B;;EACA,kBAAkDrQ,cAAQ,CAAC,KAAD,CAA1D;MAAOsQ,iBAAP;MAA0BC,oBAA1B;;EAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACpU,CAAD,EAAO;IACtBA,CAAC,CAACqU,cAAF;IACAC,cAAc,CAACxB,aAAD,EAAeE,WAAf,CAAd;IACA,OAAO,KAAP;GAHJ;;EAMA,IAAMuB,aAAa,GAAG,SAAhBA,aAAgB,CAACvU,CAAD,EAAO;IACzBA,CAAC,CAACqU,cAAF;IACAG,iBAAiB,CAAC1B,aAAD,EAAeE,WAAf,CAAjB;IACA,OAAO,KAAP;GAHJ;;EAMA,IAAMyB,WAAW,GAAG,SAAdA,WAAc,CAACzU,CAAD,EAAO;IACvBA,CAAC,CAACqU,cAAF;IACAK,eAAe;IACf,OAAO,KAAP;GAHJ;;EAMArR,YAAY,CAACsR,IAAb,GAAkBtR,YAAY,CAACsR,IAAb,IAAsB,cAAxC;;EAEA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAC5U,CAAD,EAAO;IACjC,IAAM6U,UAAU,GAAG7U,CAAC,CAAC8U,MAAF,CAASC,KAA5B;;IACA,IAAIjC,aAAa,IAAI+B,UAArB,EAAgC;MAC5B9B,gBAAgB,CAAC8B,UAAD,CAAhB;MACAd,gBAAgB,CAAC,IAAD,CAAhB;MACAiB,qBAAqB,CAACH,UAAD,EAAY7B,WAAZ,CAArB;;GALR;;EASA,IAAMiC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACjV,CAAD,EAAO;IAC/B,IAAMkV,QAAQ,GAAGlV,CAAC,CAAC8U,MAAF,CAASC,KAA1B;;IACA,IAAI/B,WAAW,IAAIkC,QAAnB,EAA4B;MACxBjC,cAAc,CAACiC,QAAD,CAAd;MACAnB,gBAAgB,CAAC,IAAD,CAAhB;MACAiB,qBAAqB,CAAClC,aAAD,EAAeoC,QAAf,CAArB;;GALR;;EASA,IAAMF,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACG,OAAD,EAASC,KAAT,EAAmB;IAE7C,IAAID,OAAO,IAAI,EAAX,IAAiB3D,QAAQ,CAAC3U,MAA9B,EAAqC;MACjCoX,sBAAsB,CAAC,IAAD,CAAtB;KADJ,MAEO,IAAIkB,OAAO,GAAG,GAAd,EAAoC;MACvClB,sBAAsB,CAAC,KAAD,CAAtB;;;IAGJ,IAAImB,KAAK,IAAI,EAAT,IAAe1D,MAAM,CAAC7U,MAA1B,EAAiC;MAC7BsX,oBAAoB,CAAC,IAAD,CAApB;KADJ,MAEO,IAAIiB,KAAK,GAAG,GAAZ,EAAgC;MACnCjB,oBAAoB,CAAC,KAAD,CAApB;;GAXR;;EAgBA,IAAMkB,kBAAkB,GAAG,SAArBA,kBAAqB,CAACrB,mBAAD,EAAqBE,iBAArB,EAA2C;IAElE,IAAIF,mBAAmB,IAAIE,iBAA3B,EAA6C;MACzCf,gBAAgB,CAAC,IAAD,CAAhB;KADJ,MAEO;MACHA,gBAAgB,CAAC,KAAD,CAAhB;;GALR;;EAQA,IAAMmB,cAAc,GAAG,SAAjBA,cAAiB,CAACgB,SAAD,EAAWC,OAAX,EAAuB;IAC1C9B,WAAW,CAAC,IAAD,CAAX;IACAN,gBAAgB,CAAC,KAAD,CAAhB;IAECjY,IAAI,CACFsL,SADF,CACY,iBADZ,EAEEgP,MAFF,CAGG,kBAHH,EAIG;MACIF,SAAS,EAACA,SADd;MAEIC,OAAO,EAACA;KANf,EAQG,MARH,EASGvR,IATH,CASS,UAACyR,GAAD,EAAO;MACb,IAAIA,GAAG,CAACC,eAAJ,IAAuBD,GAAG,CAACE,aAA/B,EAA6C;QACzCpa,MAAM,CAACqa,QAAP,GAAkBra,MAAM,CAACqa,QAAP,CAAgBxR,IAAhB,CAAqBvG,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAlB;;KAXP;GAJL;;EAoBA,IAAM2W,iBAAiB,GAAG,SAApBA,iBAAoB,CAACc,SAAD,EAAWC,OAAX,EAAuB;IAC7C1B,eAAe,CAAC,IAAD,CAAf;IACAV,gBAAgB,CAAC,KAAD,CAAhB;IAEAjY,IAAI,CACDsL,SADH,CACa,iBADb,EAEGgP,MAFH,CAGI,mBAHJ,EAII;MACIF,SAAS,EAACA,SADd;MAEIC,OAAO,EAACA;KANhB,EAQI,MARJ,EASEvR,IATF,CASO,YAAM;MACTqP,gBAAgB,CAAC,CAAD,CAAhB;MACAE,eAAe,CAAC,IAAD,CAAf;MACAM,eAAe,CAAC,KAAD,CAAf;MACAgC,UAAU,CAAC,CAAD,CAAV;KAbJ;GAJJ;;EAuBA,IAAMnB,eAAe,GAAG,SAAlBA,eAAkB,GAAM;IAC1Bf,aAAa,CAAC,IAAD,CAAb;IACAR,gBAAgB,CAAC,KAAD,CAAhB;IAEAjY,IAAI,CACDsL,SADH,CACa,iBADb,EAEGgP,MAFH,CAGI,iBAHJ,EAII,EAJJ,EAKI,MALJ,EAMIxR,IANJ,CAMS,YAAM;MACXzI,MAAM,CAACqa,QAAP,GAAkBra,MAAM,CAACqa,QAAP,CAAgBxR,IAAhB,CAAqBvG,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAlB;KAPJ;GAJJ;;EAeAxC,eAAS,CAAC,YAAM;IACZ,IAAIyI,SAAS,GAAG,IAAhB;;IAEA,IAAIA,SAAJ,EAAe;MACXuR,kBAAkB,CAACrB,mBAAD,EAAqBE,iBAArB,CAAlB;;;IAIJ,OAAO,YAAM;MAAEpQ,SAAS,GAAG,KAAZ;KAAf;GARK,EASN,CAACkQ,mBAAD,EAAqBE,iBAArB,CATM,CAAT;;EAWA,kBAA8BtQ,cAAQ,CAAC,CAAD,CAAtC;MAAOkS,OAAP;MAAgBD,UAAhB;;EACAxa,eAAS,CAAC,YAAM;IACZ,IAAIya,OAAO,GAAG,CAAd,EAAgB;MACZtN,UAAU,CAAC;QAAA,OAAMqN,UAAU,CAACC,OAAO,GAAE,CAAV,CAAhB;OAAD,EAA+B,IAA/B,CAAV;;;IAEJ,IAAIA,OAAO,GAAG,CAAV,IAAexC,YAAnB,EAAiC;MAC5B/X,MAAM,CAACqa,QAAP,GAAkBra,MAAM,CAACqa,QAAP,CAAgBxR,IAAhB,CAAqBvG,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAlB;;GALA,EAON,CAACiY,OAAD,CAPM,CAAT;;EASA,IAAG,EAACzS,YAAD,aAACA,YAAD,yCAACA,YAAY,CAAEjI,YAAf,mDAAC,uBAA4BoW,QAA7B,KAAyC,EAACnO,YAAD,aAACA,YAAD,yCAACA,YAAY,CAAEjI,YAAf,mDAAC,uBAA4BsW,MAA7B,CAA5C,EAAgF;IAC5ErW,eAAS;MAAA,IAAa;QAAA;UA8BlB,OAAO,YAAM;YAAEyI,SAAS,GAAG,KAAZ;WAAf;;;QA7BA,IAAIA,SAAS,GAAG,IAAhB;;QADkB;UAAA,IAEdA,SAFc;YAAA,uBAGaC,iBAAe,EAH5B,iBAGR3I,YAHQ;cAAA,IAKV0I,SALU;gBAMV6N,WAAW,CAACvW,YAAY,CAACoW,QAAd,CAAX;;gBAEA,IAAI,CAACA,QAAQ,CAAC3U,MAAd,EAAqB;kBACjB,IAAIiH,SAAJ,EAAe;oBACXmQ,sBAAsB,CAAC,IAAD,CAAtB;;;;gBAIRrC,SAAS,CAACxW,YAAY,CAACsW,MAAd,CAAT;;gBAEA,IAAI,CAACtW,YAAY,CAACsW,MAAb,CAAoB7U,MAAzB,EAAgC;kBAC5B,IAAIiH,SAAJ,EAAe;oBACXqQ,oBAAoB,CAAC,IAAD,CAApB;;;;gBAIR1B,iBAAiB,CAACrX,YAAY,CAAC2a,cAAd,CAAjB;gBACApD,mBAAmB,CAACvX,YAAY,CAAC4a,gBAAd,CAAnB;gBACAjD,gBAAgB,CAAC3X,YAAY,CAAC4a,gBAAd,CAAhB;gBACA/C,cAAc,CAAC7X,YAAY,CAAC2a,cAAd,CAAd;gBACAlD,YAAY,CAACzX,YAAY,CAAC6a,SAAd,CAAZ;;;;;;QA1BU;OAAb;QAAA;;OA+BN,EA/BM,CAAT;;IAiCA,kBAAwBrS,cAAQ,CAAC,EAAD,CAAhC;QAAOsS,IAAP;QAAaC,OAAb;;IAEA,QAAO5D,WAAP;MACI,KAAK,QAAL;QACI,oBACIxX,yEAEAA,6BAAC,KAAD;UAAO,OAAO,EAAC;wBACXA;UAAG,SAAS,EAAC;6BADjB,CAFA,eAKAA;UAAK,SAAS,GAAKmb,IAAI,GAAG,MAAH,GAAY,EAArB,uCAAwDtb,KAAK,CAACwb;wBACxErb,6BAAC,MAAD;UACI,OAAO,EAAC,OADZ;UAEI,OAAO,EAAE,mBAAM;YAAEob,OAAO,CAAC,CAACD,IAAF,CAAP;;wBACjBnb,6BAAC0O,gCAAD;UAAiB,IAAI,EAAE4M;UAH3B,8BADJ,eAMItb;UAAK,SAAS,EAAC;wBACXA,6BAAC,UAAD;UACI,aAAa,EAAEqY,aADnB;UAEI,YAAY,EAAEE,YAFlB;UAGI,UAAU,EAAEc,UAHhB;UAII,WAAW,EAAEK,WAJjB;UAKI,aAAa,EAAEF,aALnB;UAMI,WAAW,EAAEnC,WANjB;UAOI,qBAAqB,EAAEwC,qBAP3B;UAQI,QAAQ,EAAEpD,QARd;UASI,MAAM,EAAEE,MATZ;UAUI,eAAe,EAAE6B,eAVrB;UAWI,gBAAgB,EAAEF,gBAXtB;UAYI,UAAU,EAAEwC,UAZhB;UAaI,aAAa,EAAE/C,aAbnB;UAcI,WAAW,EAAEE,WAdjB;UAeI,cAAc,EAAER,cAfpB;UAgBI,gBAAgB,EAAEE,gBAhBtB;UAiBI,SAAS,EAAEE,SAjBf;UAkBI,IAAI,EAAEvP,YAAY,CAACsR,IAlBvB;UAmBI,aAAa,EAAEb,aAnBnB;UAoBI,YAAY,EAAEzB,YApBlB;UAqBI,mBAAmB,EAAE4C,mBArBzB;UAsBI,SAAS,EAAE3C,SAtBf;UAuBI,aAAa,EAAEY,aAvBnB;UAwBI,QAAQ,EAAEM,QAxBd;UAyBI,YAAY,EAAEI,YAzBlB;UA0BI,UAAU,EAAEF,UA1BhB;UA2BI,WAAW,EAAEnB;WACT3X,KA5BR;UA6BI,OAAO,EAAEkb;WA9BjB,eAgCI/a;UAAK,SAAS,EAAC;wBACXA,6BAAC,oBAAD,EAA0BH,KAA1B,CADJ,CAhCJ,CANJ,CALA,CADJ;;MAoDJ,KAAK,SAAL;QACI,oBACIG;UAAK,SAAS;wBACVA;UAAK,SAAS,EAAC;WACV,CAACuY,YAAD,iBACGvY;UAAK,SAAS,EAAC;wBACXA,sDAAIA,6BAAC0O,gCAAD;UAAiB,IAAI,EAAE4M;UAA3B,8BADJ,CAFR,eAMItb,6BAAC,UAAD;UACI,aAAa,EAAEqY,aADnB;UAEI,YAAY,EAAEE,YAFlB;UAGI,UAAU,EAAEc,UAHhB;UAII,WAAW,EAAEK,WAJjB;UAKI,aAAa,EAAEF,aALnB;UAMI,WAAW,EAAEnC,WANjB;UAOI,qBAAqB,EAAEwC,qBAP3B;UAQI,QAAQ,EAAEpD,QARd;UASI,MAAM,EAAEE,MATZ;UAUI,eAAe,EAAE6B,eAVrB;UAWI,gBAAgB,EAAEF,gBAXtB;UAYI,UAAU,EAAEwC,UAZhB;UAaI,aAAa,EAAE/C,aAbnB;UAcI,WAAW,EAAEE,WAdjB;UAeI,cAAc,EAAER,cAfpB;UAgBI,gBAAgB,EAAEE,gBAhBtB;UAiBI,SAAS,EAAEE,SAjBf;UAkBI,IAAI,EAAEvP,YAAY,CAACsR,IAlBvB;UAmBI,aAAa,EAAEb,aAnBnB;UAoBI,YAAY,EAAEzB,YApBlB;UAqBI,mBAAmB,EAAE4C,mBArBzB;UAsBI,SAAS,EAAE3C,SAtBf;UAuBI,aAAa,EAAEY,aAvBnB;UAwBI,QAAQ,EAAEM,QAxBd;UAyBI,YAAY,EAAEI,YAzBlB;UA0BI,UAAU,EAAEF,UA1BhB;UA2BI,WAAW,EAAEnB;WACT3X,KA5BR;UA6BI,OAAO,EAAEkb;WAnCjB,EAqCK,CAACxC,YAAD,iBACGvY;UAAK,SAAS,EAAC;wBACXA,6BAAC,oBAAD,EAA0BH,KAA1B,CADJ,CAtCR,CADJ,CADJ;;;IAiDJ,oBACIG,yEACAA,6BAAC,UAAD;MACI,aAAa,EAAEqY,aADnB;MAEI,YAAY,EAAEE,YAFlB;MAGI,UAAU,EAAEc,UAHhB;MAII,WAAW,EAAEK,WAJjB;MAKI,aAAa,EAAEF,aALnB;MAMI,WAAW,EAAEnC,WANjB;MAOI,qBAAqB,EAAEwC,qBAP3B;MAQI,QAAQ,EAAEpD,QARd;MASI,MAAM,EAAEE,MATZ;MAUI,eAAe,EAAE6B,eAVrB;MAWI,gBAAgB,EAAEF,gBAXtB;MAYI,UAAU,EAAEwC,UAZhB;MAaI,aAAa,EAAE/C,aAbnB;MAcI,WAAW,EAAEE,WAdjB;MAeI,cAAc,EAAER,cAfpB;MAgBI,gBAAgB,EAAEE,gBAhBtB;MAiBI,SAAS,EAAEE,SAjBf;MAkBI,IAAI,EAAEvP,YAAY,CAACsR,IAlBvB;MAmBI,aAAa,EAAEb,aAnBnB;MAoBI,YAAY,EAAEzB,YApBlB;MAqBI,mBAAmB,EAAE4C,mBArBzB;MAsBI,SAAS,EAAE3C,SAtBf;MAuBI,aAAa,EAAEY,aAvBnB;MAwBI,QAAQ,EAAEM,QAxBd;MAyBI,YAAY,EAAEI,YAzBlB;MA0BI,UAAU,EAAEF;OACR9Y,KA3BR;MA4BI,OAAO,EAAEkb;OA7Bb,EA+BC,CAACxC,YAAD,iBACGvY;MAAK,SAAS,EAAC,sCAAf;MAAsD,GAAG,EAAC;oBACtDA,6BAAC,oBAAD,EAA0BH,KAA1B,CADJ,CAhCJ,CADJ;GA5IR;AAsLH,CAtWM;;AAuWP,IAAM0b,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAC1b,KAAD,EAAW;EACpC,IAAM2b,WAAW,GAAG3b,KAAK,CAAC4b,WAAN,GAAoBzQ,KAAK,CAAC0Q,IAAN,CAAW7b,KAAK,CAAC4b,WAAjB,CAApB,GAAoD,EAAxE;;EAEA,IAAID,WAAW,IAAIA,WAAW,CAAC1Z,MAA/B,EAAsC;IAClC,IAAM6Z,YAAY,GAAGH,WAAW,CAAC/T,GAAZ,CAAgB,UAACqH,IAAD,EAAO8M,KAAP;MAAA,oBACrC5b;QAAI,SAAS,EAAC,kBAAd;QAAiC,GAAG,EAAE4b;sBAClC5b;QAAG,IAAI,EAAE8O,IAAI,CAACkL;SAAQlL,IAAI,CAAC5K,IAA3B,CADJ,CADqC;KAAhB,CAArB;IAKA,oBACIlE;MAAI,SAAS,EAAC,aAAd;MAA4B,GAAG,EAAC;OAC3B2b,YADL,CADJ;;;EAMJ,OAAO,IAAP;AACH,CAhBD;;AAkBA,IAAME,UAAU,GAAG,SAAbA,UAAa,CAAChc,KAAD,EAAW;EAE1B,oBACIG,4DACCH,KAAK,CAACwY,aAAN,IAAuBxY,KAAK,CAAC0Y,YAA7B,iBACGvY;IAAK,SAAS,EAAC;kBACXA,mDADJ,eAEIA,+FAA0DH,KAAK,CAACkb,OAAhE,CAFJ,CAFJ,EAOC,CAAClb,KAAK,CAACwY,aAAP,IAAwB,CAACxY,KAAK,CAAC0Y,YAA/B,iBACDvY,6BAAC,IAAD;IAAM,MAAM,MAAZ;IAAa,EAAE,EAAC,2BAAhB;IAA4C,QAAQ,EAAEH,KAAK,CAACwZ,UAA5D;IAAwE,iBAAc;kBAClFrZ;IAAK,SAAS,EAAC;KACdH,KAAK,CAAC4W,QAAN,IAAkB5W,KAAK,CAAC4W,QAAN,CAAe3U,MAAf,GAAwB,CAA1C,iBACD9B,yEACIA,6BAAC,IAAD,CAAM,KAAN;IAAY,SAAS,EAAC;KAAQH,KAAK,CAACwX,WAApC,CADJ,eAEIrX,6BAAC,IAAD,CAAM,OAAN;IAAc,EAAE,EAAC,QAAjB;IAA0B,IAAI,EAAC,SAA/B;IAAyC,IAAI,EAAC,IAA9C;IAAmD,SAAS,EAAC,MAA7D;IAAoE,KAAK,EAAEH,KAAK,CAACkY,aAAjF;IAAgG,QAAQ,EAAElY,KAAK,CAACga;KAC3G,CAACha,KAAK,CAAC8X,gBAAP,iBAA2B3X;IAAQ,KAAK,EAAC,EAAd;IAAiB,GAAG,EAAC;UADrD,EAEKH,KAAK,CAAC4W,QAAN,CAAehP,GAAf,CAAmB,UAAC2S,OAAD;IAAA,oBACpBpa;MAAQ,KAAK,EAAEoa,OAAO,CAACG,SAAvB;MAAkC,GAAG,EAAEH,OAAO,CAACG;OAAYH,OAAO,CAAC0B,OAAnE,CADoB;GAAnB,CAFL,CAFJ,CAFA,EAYCjc,KAAK,CAAC8W,MAAN,IAAgB9W,KAAK,CAAC8W,MAAN,CAAa7U,MAAb,GAAsB,CAAtC,iBACD9B,yEACIA,6BAAC,IAAD,CAAM,KAAN;IAAY,SAAS,EAAC;KAAQH,KAAK,CAACyX,YAApC,CADJ,eAEItX,6BAAC,IAAD,CAAM,OAAN;IAAc,EAAE,EAAC,QAAjB;IAA0B,IAAI,EAAC,OAA/B;IAAuC,IAAI,EAAC,IAA5C;IAAiD,SAAS,EAAC,MAA3D;IAAkE,KAAK,EAAEH,KAAK,CAACoY,WAA/E;IAA4F,QAAQ,EAAEpY,KAAK,CAACqa;KACvG,CAACra,KAAK,CAAC4X,cAAP,iBAAyBzX;IAAQ,KAAK,EAAC,EAAd;IAAiB,GAAG,EAAC;UADnD,EAEKH,KAAK,CAAC8W,MAAN,CAAalP,GAAb,CAAiB,UAAC4S,KAAD;IAAA,oBAClBra;MAAQ,KAAK,EAAEqa,KAAK,CAACG,OAArB;MAA8B,GAAG,EAAEH,KAAK,CAACG;OAAUH,KAAK,CAACyB,OAAzD,CADkB;GAAjB,CAFL,CAFJ,CAbA,EAuBCjc,KAAK,CAAC4W,QAAN,IAAkB5W,KAAK,CAAC8W,MAAxB,iBAAkC3W,wCAAIH,KAAK,CAAC0X,SAAV,CAvBnC,EAyBC,CAAC1X,KAAK,CAAC8Y,UAAP,IAAqB9Y,KAAK,CAACkZ,aAA3B,IAA6ClZ,KAAK,CAACkY,aAAnD,IAAqElY,KAAK,CAACoY,WAA3E,iBAA0FjY,6BAAC,MAAD;IAAQ,SAAS,EAAC,MAAlB;IAAyB,IAAI,EAAC,IAA9B;IAAmC,IAAI,EAAC,QAAxC;IAAiD,OAAO,EAAEH,KAAK,CAAC2Z;KACtJ3Z,KAAK,CAACgZ,YAAN,GAAqB,YAArB,GAAoC,SADkD,CAzB3F,EA4BC,CAAChZ,KAAK,CAACgZ,YAAP,IAAuB,CAAChZ,KAAK,CAAC8Y,UAA9B,IAA4C9Y,KAAK,CAAC+Z,IAAN,IAAc,cAA1D,IAA4E,CAAC/Z,KAAK,CAACkZ,aAAnF,IAAoGlZ,KAAK,CAACgY,SAA1G,iBAAuH7X,6BAAC,MAAD;IAAQ,SAAS,EAAC,MAAlB;IAAyB,IAAI,EAAC,IAA9B;IAAmC,IAAI,EAAC;KAC3JH,KAAK,CAAC4Y,QAAN,GAAiB,WAAjB,GAA+B,MADoF,CA5BxH,EA+BC,CAAC5Y,KAAK,CAAC4Y,QAAP,IAAmB,CAAC5Y,KAAK,CAACgZ,YAA1B,KAA2ChZ,KAAK,CAAC8X,gBAAN,IAA0B9X,KAAK,CAAC4X,cAA3E,kBAA8FzX,6BAAC,MAAD;IAAQ,SAAS,EAAC,MAAlB;IAAyB,IAAI,EAAC,IAA9B;IAAmC,IAAI,EAAC,QAAxC;IAAiD,OAAO,EAAEH,KAAK,CAAC6Z;KAC1J7Z,KAAK,CAAC8Y,UAAN,GAAmB,aAAnB,GAAmC,OADuD,CA/B/F,CADJ,CARA,CADJ;AAiDH,CAnDD;;AAoDA,IAAa3P,iBAAe,YAAfA,eAAe;EAAA,IAAe;IAAA,uBACZ7I,IAAI,CAACsL,SAAL,CAAe,iBAAf,EAAkCgP,MAAlC,CAAyC,iBAAzC,CADY,iBACjCpa,YADiC;MAEvC6E,OAAO,CAACgB,GAAR,CAAY7F,YAAZ;MACA,OAAOA,YAAP;;GAHwB;IAAA;;AAAA,CAArB;;;ACpbP;AAQA,SAAS0b,UAAT,CAAoBlc,KAApB,EAA2B;EACzB,IAAMyI,YAAY,GAAG5D,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB9E,KAAlB,CAArB;;EAGA,IAAG,CAACyI,YAAY,CAACjI,YAAd,IAA8B,CAACiI,YAAY,CAACjI,YAAb,CAA0B0K,KAA5D,EAAkE;IAChE,gBAAwBlC,cAAQ,CAAC,EAAD,CAAhC;QAAOkC,KAAP;QAAciR,QAAd;;IAEA1b,eAAS,CAAC,YAAM;MACZ0I,iBAAe,CAACV,YAAD,CAAf,CAA8BW,IAA9B,CAAmC,UAAC5I,YAAD,EAAgB;QACjD2b,QAAQ,CAAC3b,YAAY,CAAC0K,KAAd,CAAR;OADF;KADK,EAIP,EAJO,CAAT;;IAMA,IAAGA,KAAH,EAAS;MACP,oBACE/K,6BAAC,MAAD;QAAQ,KAAK,EAAE+K,KAAf;QAAsB,IAAI,EAAE5B,gBAA5B;QAA4C,KAAK,EAAEtJ;QADrD;KADF,MAIO;MACL,oBACEG,yCADF;;GAdJ,MAkBO;IACL,oBACEA,6BAAC,MAAD;MAAQ,KAAK,EAAEsI,YAAY,CAACjI,YAAb,CAA0B0K,KAAzC;MAAgD,IAAI,EAAE3B,YAAtD;MAAkE,KAAK,EAAEvJ;MAD3E;;AAIH;;AAED,IAAMoc,MAAM,GAAG,SAATA,MAAS,OAA+B;EAAA,IAA5BlR,KAA4B,QAA5BA,KAA4B;MAArB+D,IAAqB,QAArBA,IAAqB;MAAZjP,KAAY;;EAQ1C,IAAMM,IAAI,GAAGN,KAAK,CAACM,IAAN,IAAcC,gBAAO,EAAlC;EACA,IAAM6O,IAAI,GAACH,IAAX;EACA,IAAMoN,WAAW,GAAG,ycAApB;EAEA,oBACElc,6BAAC,MAAD;IAAQ,EAAE,EAAC,OAAX;IAAmB,OAAO,EAAC,OAA3B;IAAmC,MAAM,EAAC,IAA1C;IAA+C,SAAS,EAAC,wBAAzD;IAAmF,gBAAgB;kBACnGA;IAAK,SAAS,EAAC;kBACbA,6BAAC,IAAD;IACE,IAAI,EAAE,GADR;IAEE,SAAS,EAAC,cAFZ;IAGE,IAAI,EAAC,aAHP;IAIE,OAAO,EAAEH,KAAK,CAACA,KAAN,CAAYsc;IALzB,eAMEnc,6BAAC,MAAD,CAAQ,MAAR;IAAe,iBAAc;IAN/B,eAOEA,6BAAC,MAAD,CAAQ,QAAR;IAAiB,EAAE,EAAC;kBAClBA,6BAAC,GAAD;IAAK,SAAS,EAAC;kBAEbA,6BAAC,QAAD;IAAU,WAAW,EAAEH,KAAK,CAACA,KAAN,CAAYuc,WAAnC;IAAgD,IAAI,EAAEnN,IAAtD;IAA4D,OAAO,EAAEiN,WAArE;IAAkF,IAAI,EAAE/b;IAF1F,EAKI4K,KAAK,CAACtD,GAAN,CAAU,UAAAN,IAAI,EAAI;IACd,oBACEnH,6BAAC,eAAD;MAAiB,GAAG,EAAEmH,IAAI,CAAC+C,SAA3B;MAAsC,SAAS,EAAE/C,IAAI,CAAC+C,SAAtD;MAAiE,QAAQ,EAAE/C,IAAI,CAACkV,QAAhF;MAA0F,SAAS,EAAElV,IAAI,CAACS,SAA1G;MAAqH,IAAI,EAAET,IAAI,CAACmV,IAAhI;MAAsI,IAAI,EAAErN,IAA5I;MAAkJ,OAAO,EAAE9H,IAAI,CAACoV;MADlK;GADJ,CALJ,EAWG1c,KAAK,CAACA,KAAN,CAAYuH,OAAZ,IAAuBvH,KAAK,CAACA,KAAN,CAAYuH,OAAZ,CAAoBoV,YAA3C,iBACGxc,6BAAC,WAAD;IAAa,YAAY,EAAEH,KAAK,CAACA,KAAN,CAAYuH,OAAZ,CAAoBoV;IAZrD,CADF,EAiBK3c,KAAK,CAACA,KAAN,CAAY4c,aAAZ,iBACCzc,6BAAC,UAAD,OAlBN,CAPF,CADA,CADF;AAiCH,CA7CD;;AA+CA,IAAagJ,iBAAe,YAAfA,eAAe,CAAUnJ,KAAV;EAAA,IAAoB;IAQ9C,IAAMM,IAAI,GAAGN,KAAK,CAACM,IAAN,IAAcC,gBAAO,EAAlC;IAR8C,uBAWvBD,IAAI,CAAC2J,OAAL,CAAa,SAAb,EACpBsB,KADoB,GAEpBsR,IAFoB,CAEf,UAFe,EAGpBzS,IAHoB,CAGf9J,IAAI,CAACwc,MAHU,EAIpBlS,IAJoB,CAIf,SAJe,EAKpBL,MALoB,CAKb,MALa,EAMpBpD,MANoB,CAMb,gCANa,EAOpB4D,QAPoB,EAXuB,iBAWxClC,UAXwC;MAqB9C,OAAO;QACLqC,KAAK,EAACrC,UAAU,CAACqB,MAAX,GAAoBgB;OAD5B;;GArB0B;IAAA;;AAAA,CAArB;;AA0BP,IAAM5B,gBAAc,GAAG,SAAjBA,cAAiB,QAA2C;EAAA,IAAzCE,IAAyC,SAAzCA,IAAyC;MAApC/C,SAAoC,SAApCA,SAAoC;MAA1BsW,IAA0B,SAA1BA,IAA0B;MAArBhV,SAAqB,SAArBA,SAAqB;MAAXuU,OAAW,SAAXA,OAAW;;EAChE,QAAOS,IAAP;IACE,KAAK,iBAAL;MACE,oBACE5c,6BAAC,WAAD,CAAa,IAAb;QAAkB,IAAI,EAAEsJ,gBAAO,CAACD,IAAD;SAASzB,SAAxC,CADF;;IAGF,KAAK,SAAL;MACE,oBACE5H,6BAAC,GAAD,CAAK,IAAL;QAAU,IAAI,EAAEsJ,gBAAO,CAACD,IAAD;SAASzB,SAAhC,CADF;;IAGF,KAAK,aAAL;MACE,oBACE5H,6BAAC,MAAD,CAAQ,KAAR;QAAc,IAAI,EAAEsJ,gBAAO,CAACD,IAAD;sBACzBrJ;QAAK,GAAG,EAAEmc,OAAV;QAAmB,OAAO,EAAC;QAD7B,CADF;;IAKF;MACE,oBACEnc;QAAG,SAAS,EAAEsG,SAAd;QAAyB,IAAI,EAAEgD,gBAAO,CAACD,IAAD;SACjCzB,SADL,CADF;;AAMH,CAvBH;;AAyBA,IAAMwB,YAAU,GAAG,SAAbA,UAAa,QAA2C;EAAA,IAAzCC,IAAyC,SAAzCA,IAAyC;MAApC/C,SAAoC,SAApCA,SAAoC;MAA1BsW,IAA0B,SAA1BA,IAA0B;MAArBhV,SAAqB,SAArBA,SAAqB;MAAXuU,OAAW,SAAXA,OAAW;;EAC5D,QAAOS,IAAP;IACE,KAAK,iBAAL;MACE,oBACE5c,6BAAC,IAAD;QACA,IAAI,EAAEsJ,gBAAO,CAACD,IAAD,CADb;QACqB,QAAQ;sBAC3BrJ,6BAAC,WAAD,CAAa,IAAb,QAAmB4H,SAAnB,CAFF,CADF;;IAMF,KAAK,SAAL;MACE,oBACE5H,6BAAC,IAAD;QACA,IAAI,EAAEsJ,gBAAO,CAACD,IAAD,CADb;QACqB,QAAQ;sBAC3BrJ,6BAAC,GAAD,CAAK,IAAL,QAAW4H,SAAX,CAFF,CADF;;IAMF,KAAK,aAAL;MACE,oBACE5H,6BAAC,IAAD;QACA,IAAI,EAAEsJ,gBAAO,CAACD,IAAD,CADb;QACqB,QAAQ;sBAC3BrJ,6BAAC,MAAD,CAAQ,KAAR,qBACEA;QAAK,GAAG,EAAEmc,OAAV;QAAmB,OAAO,EAAC;QAD7B,CAFF,CADF;;IAQF;MACE,oBACEnc,6BAAC,IAAD;QACE,IAAI,EAAEsJ,gBAAO,CAACD,IAAD;sBACXrJ;QACE,SAAS,EAAEsG;SACRsB,SAFL,CAFJ,CADF;;AAUL,CApCD;;AAsCA,IAAMiV,QAAQ,GAAG,SAAXA,QAAW,CAAChd,KAAD,EAAW;EAC1B,IAAMoP,IAAI,GAACpP,KAAK,CAACiP,IAAjB;EACA,IAAMgO,SAAS,GAAG,MAAlB;EACA,IAAM3c,IAAI,GAAGN,KAAK,CAACM,IAAN,IAAcC,gBAAO,EAAlC;;EAEA,SAAS2c,UAAT,GAAsB;IACpB,OAAO;MAACjW,MAAM,EAAEjH,KAAK,CAAC0c;KAAtB;;;EAGF,IAAI1c,KAAK,CAACuc,WAAV,EAAsB;IACpB,oBACEpc;MAAI,SAAS,EAAC;oBACZA,6BAAC,IAAD;MACE,GAAG,EAAEG,IAAI,CAACwc,MADZ;MAEE,IAAI,EAAC,GAFP;MAGE,SAAS,EAAC,UAHZ;MAIE,SAAS,eAAE3c,yEAAEA;QAAM,uBAAuB,EAAE+c,UAAU;QAA3C,OAAmDD,SAAnD,CAJb;MAKE,IAAI,EAAC;MANT,CADF;;;EAWF,oBACE9c,2DADF;AAGD,CAxBD;;AA0BA,IAAMgd,WAAW,GAAG,SAAdA,WAAc,CAAAnd,KAAK,EAAI;EAE3B,IAAIA,KAAK,CAAC2c,YAAN,CAAmBzR,KAAnB,CAAyBjJ,MAA7B,EAAqC;IAEnC,oBACE9B,yEACAA,6BAAC,WAAD;MAAa,GAAG,EAAC,cAAjB;MAAgC,KAAK,EAAC,iBAAtC;MAAwD,EAAE,EAAC,cAA3D;MAA0E,IAAI,EAAC,EAA/E;MAAkF,iBAAiB,EAAE;OAElGH,KAAK,CAAC2c,YAAN,CAAmBzR,KAAnB,CAAyBtD,GAAzB,CAA6B,UAACwV,WAAD,EAAiB;MAC7C,oBACEjd,6BAAC,WAAD,CAAa,IAAb;QAAkB,GAAG,mBAAiBid,WAAW,CAACC,MAAlD;QAA4D,IAAI,EAAED,WAAW,CAACE;SAAMF,WAAW,CAACzO,KAAhG,CADF;KADD,CAFH,CADA,CADF;;AAaH,CAjBD;;AAmBA,IAAM4O,eAAe,GAAG,SAAlBA,eAAkB,CAAAvd,KAAK,EAAI;EAC/B,IAAMoP,IAAI,GAAGpP,KAAK,CAACiP,IAAnB;;EACA,SAASiO,UAAT,GAAsB;IACpB,OAAO;MAACjW,MAAM,EAAEjH,KAAK,CAAC0c;KAAtB;;;EAEF,IAAI1c,KAAK,CAACyc,IAAN,CAAWvR,KAAX,CAAiBjJ,MAArB,EAA6B;IAE3B,oBACE9B,yEACAA,6BAAC,WAAD;MAAa,GAAG,EAAEH,KAAK,CAACqK,SAAN,GAAkB,aAApC;MAAmD,KAAK,eAAElK;QAAK,KAAK,EAAE;UAACqd,OAAO,EAAE;;sBAAiBrd;QAAM,uBAAuB,EAAE+c,UAAU;QAAhF,OAAwFld,KAAK,CAAC+H,SAA9F,MAA1D;MAA2K,EAAE,gBAAc/H,KAAK,CAACqK,SAAjM;MAA8M,IAAI,QAAMrK,KAAK,CAACwc,QAA9N;MAA0O,iBAAiB,EAAE;oBAE3Prc,6BAAC,IAAD;MACE,GAAG,EAAEH,KAAK,CAACqK,SAAN,GAAkB,SADzB;MAEE,IAAI,QAAMrK,KAAK,CAACwc,QAFlB;MAGE,IAAI,EAAC,iBAHP;MAIE,SAAS,EAAExc,KAAK,CAAC+H;MANrB,EASG/H,KAAK,CAACyc,IAAN,CAAWvR,KAAX,CAAiBtD,GAAjB,CAAqB,UAAC6V,KAAD,EAAW;MAC/B,oBACEtd,6BAAC,IAAD;QACE,GAAG,EAAEsd,KAAK,CAACpT,SADb;QAEE,IAAI,QAAMoT,KAAK,CAACjB,QAFlB;QAGE,IAAI,EAAC,iBAHP;QAIE,SAAS,EAAEiB,KAAK,CAAC1V;QALrB;KADD,CATH,CADA,CADF;;;EA0BF,oBACE5H;IAAI,SAAS,EAAC;kBACZA,6BAAC,IAAD;IACE,GAAG,EAAEH,KAAK,CAACqK,SADb;IAEE,IAAI,QAAMrK,KAAK,CAACwc,QAFlB;IAGE,IAAI,EAAC,SAHP;IAIE,SAAS,eAAErc,yEAAEA;MAAM,uBAAuB,EAAE+c,UAAU;MAA3C,OAAmDld,KAAK,CAAC+H,SAAzD;IALf,CADF;AAUD,CA3CD;;AC1NA;AACA,AAkKA;AACA,AAAO,MAAM,eAAe,iBAAiB,OAAO,MAAM,KAAK,WAAW,IAAI,MAAM,CAAC,QAAQ,KAAK,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,iBAAiB,CAAC,CAAC,IAAI,YAAY,CAAC;AAC/J,AA2DA;AACA,AAAO,MAAM,oBAAoB,iBAAiB,OAAO,MAAM,KAAK,WAAW,IAAI,MAAM,CAAC,aAAa,KAAK,MAAM,CAAC,aAAa,GAAG,MAAM,CAAC,sBAAsB,CAAC,CAAC,IAAI,iBAAiB,CAAC;AACxL,AA8UA;AACA;AACA,AAAO,SAAS,MAAM,CAAC,IAAI,EAAE,OAAO,EAAE;AACtC,CAAC,IAAI;AACL,EAAE,IAAI,MAAM,GAAG,IAAI,EAAE,CAAC;AACtB,EAAE,CAAC,MAAM,CAAC,EAAE;AACZ,EAAE,OAAO,OAAO,CAAC,CAAC,CAAC,CAAC;AACpB,EAAE;AACF,CAAC,IAAI,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE;AAC5B,EAAE,OAAO,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC;AACtC,EAAE;AACF,CAAC,OAAO,MAAM,CAAC;AACf,CAAC;;ACljBD,SAASO,gCAAT,CAAwCJ,MAAxC,EAA+CZ,IAA/C,EAAoD;EAClD,IAAGY,MAAH,EAAU;IACR,OAAOA,MAAM,CAACK,aAAP,GAAuBL,MAAM,CAACK,aAAP,CAAqBjB,IAArB,CAAvB,GAAoD;MAACH,MAAM,EAAC;KAAnE;GADF,MAEO;IACL,OAAQ;MAACA,MAAM,EAAC;KAAhB;;AAEH;;AAED,AAAO,SAASuW,WAAT,CAAqB1d,KAArB,EAA4B;EACjC,IAAMM,IAAI,GAAGC,gBAAO,EAApB;EAEA,IAAMkI,YAAY,GAAG5D,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB9E,KAAlB,CAArB;EACA,IAAM0I,uBAAuB,GAAGT,SAAS,CAACQ,YAAY,CAACP,MAAd,CAAT,CAA+BS,SAA/D;EAEAF,YAAY,CAACtB,MAAb,GAAoBsB,YAAY,CAACtB,MAAb,IAAuBmB,gCAA8B,CAACI,uBAAD,EAAyBD,YAAzB,CAA9B,CAAqEtB,MAA5F,IAAsG,uCAA1H;EAEA,IAAI3D,IAAI,GAAG,EAAX;EACA,IAAIma,MAAM,GAAG,EAAb;;EACA,IAAI,CAACrd,IAAI,CAACsd,OAAV,EAAkB;IAChB,IAAMC,QAAM,GAAGC,gBAAS,EAAxB;IACAta,IAAI,GAAGqa,QAAM,CAAC7S,KAAP,CAAa+S,CAApB;IACAJ,MAAM,GAAGE,QAAM,CAAC7S,KAAP,CAAagT,CAAtB;;;EAGF,IAAIpV,WAAW,GAAG,KAAlB;EAEA,IAAIqV,WAAW,GAAG,GAAlB;EACA,IAAIC,eAAe,GAAG,GAAtB;EACA,IAAIC,aAAa,GAAG,GAApB;EACA,IAAIC,mBAAmB,GAAG,EAA1B;EACA,IAAIC,OAAO,GAAG,KAAd;;EAEA,IAAG5V,YAAY,CAACjI,YAAhB,EAA6B;IAC3BoI,WAAW,GAAC,IAAItI,IAAI,CAACwI,gBAAT,CAA0BL,YAAY,CAACjI,YAAb,CAA0BqI,UAApD,EAA+DvI,IAAI,CAACyI,eAApE,CAAZ;IACAkV,WAAW,GAAGxV,YAAY,CAACjI,YAAb,CAA0B8d,WAA1B,CAAsCC,OAApD;IACAL,eAAe,GAAGzV,YAAY,CAACjI,YAAb,CAA0B8d,WAA1B,CAAsCE,YAAtC,CAAmD9R,MAAnD,CAA0D,UAAA+R,EAAE;MAAA,OAAIA,EAAE,CAACxe,UAAH,IAAiBD,KAAK,CAACC,UAA3B;KAA5D,EAAmG2H,GAAnG,CAAuG,UAACN,IAAD;MAAA,OAAQA,IAAI,CAAC6S,KAAb;KAAvG,EAA2HxN,IAA3H,EAAlB;IACAwR,aAAa,GAAG1V,YAAY,CAACjI,YAAb,CAA0B8d,WAA1B,CAAsC5D,SAAtD;IACA0D,mBAAmB,GAAG3V,YAAY,CAACjI,YAAb,CAA0B8d,WAA1B,CAAsCE,YAA5D;IACAH,OAAO,GAAG5V,YAAY,CAACjI,YAAb,CAA0B8d,WAA1B,CAAsCI,MAAhD;;;EAEF,gBAAiC1V,cAAQ,CAACJ,WAAD,CAAzC;MAAOC,UAAP;MAAkBI,aAAlB;;EACA,IAAM0V,UAAU,GAAGlW,YAAY,CAACxI,UAAhC;;EAEA,iBAAkC+I,cAAQ,CAACiV,WAAD,CAA1C;MAAOW,UAAP;MAAmBC,aAAnB;;EACA,iBAAkD7V,cAAQ,CAACoV,mBAAD,CAA1D;MAAOU,kBAAP;MAA2BC,qBAA3B;;EACA,iBAA0C/V,cAAQ,CAACkV,eAAD,CAAlD;MAAOc,cAAP;MAAuBC,iBAAvB;;EACA,iBAAsCjW,cAAQ,CAACmV,aAAD,CAA9C;MAAOe,YAAP;MAAqBC,eAArB;;EACA,iBAAwCnW,cAAQ,CAAC,EAAD,CAAhD;MAAOoW,aAAP;MAAsBC,gBAAtB;;EACA,iBAA0BrW,cAAQ,CAACqV,OAAD,CAAlC;MAAOiB,MAAP;MAAeC,SAAf;;EACA,iBAA0CvW,cAAQ,CAACP,YAAY,CAAC+W,cAAd,CAAlD;MAAOC,cAAP;;EACA,iBAAgCzW,cAAQ,CAAC,KAAD,CAAxC;MAAO0W,SAAP;MAAkBC,YAAlB;;EACA,kBAAwC3W,cAAQ,CAAC,IAAIzG,IAAJ,GAAWqd,QAAX,EAAD,CAAhD;MAAOC,aAAP;MAAsBC,gBAAtB;;EAEArf,eAAS,CAAC,YAAM;IAEd,OAAO,YAAM;KAAb;GAFO,EAGN,EAHM,CAAT;;EAKA,IAAMsf,YAAY,GAAG,SAAfA,YAAe,CAAC3a,CAAD,EAAO;IACtBA,CAAC,CAACqU,cAAF;IACA4F,gBAAgB,CAACD,aAAD,CAAhB;IACAO,YAAY,CAAC,IAAD,CAAZ;IACAG,gBAAgB,CAAC,IAAIvd,IAAJ,GAAWqd,QAAX,EAAD,CAAhB;GAJN;;EAMA,IAAMI,YAAY,GAAG,SAAfA,YAAe,CAAC5a,CAAD,EAAO;IAC1B,QAAOA,CAAC,CAAC8U,MAAF,CAAS7V,IAAhB;MACE,KAAK,SAAL;QACE,IAAIka,OAAO,GAAGnZ,CAAC,CAAC8U,MAAF,CAASC,KAAvB;;QACA,IAAIoE,OAAO,IAAIK,UAAf,EAA2B;UACzBC,aAAa,CAACN,OAAD,CAAb;UACAoB,YAAY,CAAC,IAAD,CAAZ;UACAG,gBAAgB,CAAC,IAAIvd,IAAJ,GAAWqd,QAAX,EAAD,CAAhB;;;QAEF;;MACF,KAAK,WAAL;QACE,IAAIlF,SAAS,GAAGtV,CAAC,CAAC8U,MAAF,CAASC,KAAzB;;QACA,IAAIO,SAAS,IAAIwE,YAAjB,EAA8B;UAC5BC,eAAe,CAACzE,SAAD,CAAf;UACAiF,YAAY,CAAC,IAAD,CAAZ;UACAG,gBAAgB,CAAC,IAAIvd,IAAJ,GAAWqd,QAAX,EAAD,CAAhB;;;QAEF;;MACF;QACE,IAAI,CAACZ,cAAc,CAACzO,QAAf,CAAwBnL,CAAC,CAAC8U,MAAF,CAASC,KAAjC,CAAL,EAA6C;;QAM7C4E,qBAAqB,CAACkB,iBAAiB,CAAC7a,CAAC,CAAC8U,MAAF,CAAS7V,IAAV,EAAee,CAAC,CAAC8U,MAAF,CAASC,KAAxB,EAA8B2E,kBAA9B,EAAiDH,UAAjD,CAAlB,CAArB;QACEM,iBAAiB,CAACiB,cAAc,CAACpB,kBAAkB,CAACpS,MAAnB,CAA0B,UAAA+R,EAAE;UAAA,OAAIA,EAAE,CAACxe,UAAH,IAAiB0e,UAArB;SAA5B,CAAD,CAAf,CAAjB;QACAgB,YAAY,CAAC,IAAD,CAAZ;QACAG,gBAAgB,CAAC,IAAIvd,IAAJ,GAAWqd,QAAX,EAAD,CAAhB;;GA5BR;;EAgCA,IAAG,CAACnX,YAAY,CAACjI,YAAjB,EAA8B;IAC5BC,eAAS,CAAC,YAAM;MACd,IAAIyI,SAAS,GAAG,IAAhB;;MACA,IAAIA,SAAJ,EAAe;QAEbiX,cAAc,CAACvB,UAAD,EAAYI,cAAZ,EAA2BE,YAA3B,EAAwCJ,kBAAxC,EAA2DY,SAA3D,CAAd,CAAoFtW,IAApF,CAAyF,UAACgX,WAAD,EAAiB;UACxG,IAAIlX,SAAJ,EAAe;YAEbqW,SAAS,CAACa,WAAW,CAAC1B,MAAb,CAAT;YACAG,aAAa,CAACuB,WAAW,CAAC7B,OAAb,CAAb;YACAU,iBAAiB,CAACmB,WAAW,CAAC5B,YAAZ,CAAyB9R,MAAzB,CAAgC,UAAA+R,EAAE;cAAA,OAAIA,EAAE,CAACxe,UAAH,IAAiBD,KAAK,CAACC,UAA3B;aAAlC,EAAyE2H,GAAzE,CAA6E,UAACN,IAAD;cAAA,OAAQA,IAAI,CAAC6S,KAAb;aAA7E,EAAiGxN,IAAjG,EAAD,CAAjB;YACAwS,eAAe,CAACiB,WAAW,CAAC1F,SAAb,CAAf;YACAqE,qBAAqB,CAACqB,WAAW,CAAC5B,YAAb,CAArB;;YACA,IAAGtV,SAAH,EAAa;cACXmX,aAAa,CAACrgB,KAAD,EAAOogB,WAAP,EAAmBhB,aAAnB,EAAiC5b,IAAjC,EAAsCma,MAAtC,CAAb,CAA2DvU,IAA3D,CAAgE,UAACP,UAAD,EAAgB;gBAC9EI,aAAa,CAACJ,UAAD,CAAb;eADF;;;SATN;;;MAgBF,OAAO,YAAM;QAAEK,SAAS,GAAG,KAAZ;OAAf;KApBO,EAqBN,CAAC2W,aAAD,CArBM,CAAT;;IAuBA,IAAGhX,UAAH,EAAe;MAGb,oBACE1I,uDACEA,6BAAC,gBAAD;QACE,YAAY,EAAE6f;SACVhgB,KAFN;QAGE,UAAU,EAAE4e,UAHd;QAIE,aAAa,EAAEI,cAJjB;QAKE,YAAY,EAAEE,YALhB;QAME,kBAAkB,EAAEJ,kBANtB;QAOE,MAAM,EAAEQ,MAPV;QAQE,YAAY,EAAES,YARhB;QASE,aAAa,EAAEX,aATjB;QAUE,gBAAgB,EAAEC,gBAVpB;QAWE,cAAc,EAAEI;SAZpB,eAeEtf,6BAAC,uBAAD;QAAyB,aAAa,EAAE8I,aAAxC;QAAuD,UAAU,EAAEJ,UAAnE;QAA+E,KAAK,EAAE7I,KAAtF;QAA6F,IAAI,EAAEsJ;QAfrG,CADF;KAHF,MAuBO;MAEL,oBACEnJ,yCADF;;GAjDJ,MAsDO;IAELM,eAAS,CAAC,YAAM;MACd,IAAIyI,SAAS,GAAG,IAAhB;;MACA,IAAIA,SAAJ,EAAe;QACbiX,cAAc,CAACvB,UAAD,EAAYI,cAAZ,EAA2BE,YAA3B,EAAwCJ,kBAAxC,EAA2DY,SAA3D,CAAd,CAAoFtW,IAApF,CAAyF,UAACgX,WAAD,EAAiB;UACxG,IAAGlX,SAAH,EAAa;YACXqW,SAAS,CAACa,WAAW,CAAC1B,MAAb,CAAT;YACAG,aAAa,CAACuB,WAAW,CAAC7B,OAAb,CAAb;YACAU,iBAAiB,CAACmB,WAAW,CAAC9O,UAAb,CAAjB;YACA6N,eAAe,CAACiB,WAAW,CAAC1F,SAAb,CAAf;YACAqE,qBAAqB,CAACqB,WAAW,CAAC5B,YAAb,CAArB;YAEA6B,aAAa,CAACrgB,KAAD,EAAOogB,WAAP,EAAmBhB,aAAnB,EAAiC5b,IAAjC,EAAsCma,MAAtC,CAAb,CAA2DvU,IAA3D,CAAgE,UAACP,UAAD,EAAgB;cAC9E,IAAGK,SAAH,EAAa;gBACXD,aAAa,CAACJ,UAAD,CAAb;;aAFJ;;SARJ;;;MAgBF,OAAO,YAAM;QAAEK,SAAS,GAAG,KAAZ;OAAf;KAnBO,EAoBN,CAAC2W,aAAD,CApBM,CAAT;IAsBA,oBACE1f,uDACEA,6BAAC,gBAAD;MACE,YAAY,EAAE6f;OACVhgB,KAFN;MAGE,UAAU,EAAE4e,UAHd;MAIE,aAAa,EAAEI,cAJjB;MAKE,YAAY,EAAEE,YALhB;MAME,kBAAkB,EAAEJ,kBANtB;MAOE,MAAM,EAAEQ,MAPV;MAQI,YAAY,EAAES,YARlB;MASI,aAAa,EAAEX,aATnB;MAUI,gBAAgB,EAAEC,gBAVtB;MAWI,cAAc,EAAEI;OAZtB,eAcEtf,6BAAC,uBAAD;MAAyB,aAAa,EAAE8I,aAAxC;MAAuD,UAAU,EAAEJ,UAAnE;MAA+E,KAAK,EAAE7I,KAAtF;MAA6F,IAAI,EAAEuJ;MAdrG,CADF;;AAoBH;;AAED,IAAM2W,cAAc,GAAG,SAAjBA,cAAiB,CAAAvP,UAAU,EAAI;EACnC,IAAI2P,cAAJ;;EACA,KAAK,IAAIld,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGuN,UAAU,CAAC1O,MAA/B,EAAuCmB,CAAC,EAAxC,EAA2C;IACzC,IAAIuN,UAAU,CAACvN,CAAD,CAAV,CAAc+W,KAAd,IAAuB,GAA3B,EAA+B;MAC7B,IAAI/W,CAAC,GAAG,CAAR,EAAU;QACRkd,cAAc,GAAG3P,UAAU,CAACvN,CAAD,CAAV,CAAc+W,KAA/B;OADF,MAEO;QACLmG,cAAc,GAAGA,cAAc,GAAG,GAAjB,GAAuB3P,UAAU,CAACvN,CAAD,CAAV,CAAc+W,KAAtD;;;;;EAKN,IAAImG,cAAc,IAAIC,SAAtB,EAAgC;IAC9BD,cAAc,GAAG,GAAjB;;;EAEF,OAAOA,cAAP;AACD,CAhBD;;AAkBA,IAAanX,iBAAe,YAAfA,eAAe,CAASnJ,KAAT,EAAkB;EAAA,uBAClBmgB,cAAc,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,EAAU,EAAV,EAAa,KAAb,CADI,iBACtCC,WADsC;IAAA,uBAInBC,aAAa,CAACrgB,KAAD,EAAOogB,WAAP,CAJM,iBAItCvX,UAJsC;MAM5C,IAAG,CAACsC,KAAK,CAACC,OAAN,CAAcgV,WAAW,CAAC5B,YAA1B,CAAJ,EAA4C;QAC1C,IAAG;UACD4B,WAAW,CAAC5B,YAAZ,GAA2BnT,IAAI,CAACC,KAAL,CAAW8U,WAAW,CAAC5B,YAAvB,CAA3B;SADF,CAEC,OAAMpZ,CAAN,EAAQ;UACPgb,WAAW,CAAC5B,YAAZ,GAA2B,EAA3B;;;;MAGJ,OAAM;QACJ3V,UAAU,EAACA,UAAU,CAACqB,MAAX,EADP;QAEJoU,WAAW,EAAC8B;OAFd;;;AAID,CAjBM;;AAmBP,IAAMC,aAAa,YAAbA,aAAa,CAAUrgB,KAAV,EAAgBogB,WAAhB,EAA4BhB,aAA5B,EAA0C5b,IAA1C,EAA+Cma,MAA/C;EAAA,IAA0D;IAC3E,IAAMrd,IAAI,GAAGN,KAAK,CAACM,IAAN,IAAcC,gBAAO,EAAlC;IAEA,IAAIigB,gBAAgB,GAAGJ,WAAW,CAAC9O,UAAnC;;IAEA,IAAG,OAAOtR,KAAK,CAACuH,OAAN,CAAc2C,MAArB,IAA+B,WAAlC,EAA8C;MAC1ClK,KAAK,CAACuH,OAAN,GAAcvH,KAAK,CAACuH,OAAN,CAAc2C,MAAd,EAAd;;;IAEJ,IAAIkW,WAAW,CAAC5B,YAAZ,CAAyBvc,MAA7B,EAAoC;MAClCue,gBAAgB,GAAGJ,WAAW,CAAC5B,YAAZ,CAAyB9R,MAAzB,CAAgC,UAAA+R,EAAE;QAAA,OAAIA,EAAE,CAACxe,UAAH,IAAiBD,KAAK,CAACC,UAA3B;OAAlC,EAAyE2H,GAAzE,CAA6E,UAACN,IAAD;QAAA,OAAQA,IAAI,CAAC6S,KAAb;OAA7E,CAAnB;;MACA,KAAK,IAAI/W,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGod,gBAAgB,CAACve,MAArC,EAA6CmB,CAAC,EAA9C,EAAiD;QAC/C,IAAKod,gBAAgB,CAACpd,CAAD,CAAhB,KAAwB,GAA7B,EAAkC;UAChCod,gBAAgB,CAACC,MAAjB,CAAwBrd,CAAxB,EAA2B,CAA3B;UACAA,CAAC;;;;;IAOP,IAAIyF,UAAJ;;IApB2E,gCAsBxE;MACD,IAAM6X,aAAa,GAAC1gB,KAAK,CAACuH,OAAN,CAAc8C,SAAlC;MACA,IAAML,IAAI,GAAG1J,IAAI,CAAC2J,OAAL,CAAa,SAAb,CAAb;MAEAD,IAAI,CAAC6S,IAAL,CAAU,MAAV,EAAkB8D,IAAlB,CAAuB,gBAAvB;MACA3W,IAAI,CAACG,OAAL,CAAa,MAAb,EAAqByW,aAArB,CAAmC5gB,KAAK,CAACuH,OAAN,CAAc8C,SAAjD;MACAL,IAAI,CAACG,OAAL,CAAa,WAAb,EAA0B0W,OAA1B,CAAkCH,aAAlC;MACA1W,IAAI,CAACO,MAAL,CAAY,qBAAZ;MACAP,IAAI,CAACG,OAAL,CAAa,SAAb,EAAwB2W,KAAxB,CAA8B,QAA9B;MACA9W,IAAI,CAACG,OAAL,CAAa,SAAb,EAAwB2W,KAAxB,CAA8B,cAA9B;MACA9W,IAAI,CAACG,OAAL,CAAa,SAAb,EAAwB2W,KAAxB,CAA8B,QAA9B;MACA9W,IAAI,CAAC7C,MAAL,CAAYmD,eAAe,CAACtK,KAAD,CAA3B;;MAEA,IAAGogB,WAAW,CAAC7B,OAAZ,CAAoBtc,MAAvB,EAA8B;QAC5B+H,IAAI,CAACG,OAAL,CAAa,SAAb,EAAwBC,IAAxB,CAA6BgW,WAAW,CAAC7B,OAAzC;;;MAGF,IAAGiC,gBAAgB,CAACve,MAApB,EAA2B;QACzB+H,IAAI,CAACG,OAAL,CAAa,YAAb,EAA2BwW,IAA3B,CAAgCH,gBAAhC;QACAxW,IAAI,CAAC+W,oBAAL,CAA0B,IAA1B;;;MAGF,IAAG3B,aAAa,IAAIA,aAAa,CAACnd,MAAlC,EAAyC;QACvC+H,IAAI,CAACgX,eAAL;QACAhX,IAAI,CAACiX,MAAL,CAAY,OAAZ,EAAqBL,aAArB,CAAmCxB,aAAnC;QACApV,IAAI,CAACiX,MAAL,CAAY,MAAZ,EAAoBL,aAApB,CAAkCxB,aAAlC;QACApV,IAAI,CAACiX,MAAL,CAAY,SAAZ,EAAuBL,aAAvB,CAAqCxB,aAArC;QACApV,IAAI,CAACkX,aAAL;;;MAGF,IAAG1d,IAAH,EAAQ;QACNwG,IAAI,CAACG,OAAL,CAAa,KAAb,EAAoByW,aAApB,CAAkCpd,IAAlC;;;MAGF,IAAGma,MAAH,EAAU;QACR3T,IAAI,CAACG,OAAL,CAAa,SAAb,EAAwBC,IAAxB,CAA6BuT,MAA7B;;;MAGF3T,IAAI,CAACS,QAAL,CAAczK,KAAK,CAAC0K,QAApB;;MAGA,IAAGpK,IAAI,CAACqJ,UAAL,IAAkB,QAArB,EAA8B;QAE5BK,IAAI,CAACW,YAAL,CAAkB3K,KAAK,CAAC4J,KAAxB;OAFF,MAGO;QACLI,IAAI,CAACW,YAAL,CAAkB,CAAlB;;;MA7CD;QAAA,IAgDEyV,WAAW,CAAC1F,SAAZ,CAAsBzY,MAhDxB;UAAA,uBAiDoB+H,IAAI,CAACe,QAAL,CAAc;YAACoW,MAAM,EAAC;WAAtB,CAjDpB;YAiDCtY,UAAU,iBAAV;;;UAjDD,uBAmDoBmB,IAAI,CAACY,IAAL,CAAU,aAAV,EAAwB,MAAxB,EAAgCG,QAAhC,EAnDpB;YAmDClC,UAAU,sBAAV;;;;;MAnDD;KAtBwE,YA2EnEzD,CA3EmE,EA2EjE;MACRC,OAAO,CAACgB,GAAR,CAAY,2BAAZ,EAAwCjB,CAAxC;KA5EyE;;IAAA;MA+E3E,OAAOyD,UAAP;SAAOA,UA/EoE;GAA1D;IAAA;;AAAA,CAAnB;;AAkFA,IAAMsX,cAAc,YAAdA,cAAc,CAAU5B,OAAV,EAAkBjN,UAAlB,EAA6BoJ,SAA7B,EAAuC0G,kBAAvC,EAA0DC,SAA1D;EAAA,IAAwE;IACxF,IAAM/gB,IAAI,GAAGC,gBAAO,EAApB;IACA,IAAM+gB,OAAO,GAAG/C,OAAhB;IACA,IAAMgD,UAAU,GAAGjQ,UAAnB;IACA,IAAMkQ,SAAS,GAAG9G,SAAlB;IACA,IAAM+G,eAAe,GAAGL,kBAAxB;IACA,IAAMM,SAAS,GAAGL,SAAlB;IANwF,uBAQ9D/gB,IAAI,CACzBsL,SADqB,CACX,aADW,EAErBgP,MAFqB,CAGtB,mBAHsB,EAItB;MACI2D,OAAO,EAAC+C,OADZ;MAEIhQ,UAAU,EAACiQ,UAFf;MAGI7G,SAAS,EAAC8G,SAHd;MAIIhD,YAAY,EAACiD,eAJjB;MAKIJ,SAAS,EAAEK,SAAS,GAAC,CAAD,GAAG;KATL,CAR8D;GAAxE;IAAA;;AAAA,CAApB;;AAwBA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAC3hB,KAAD,EAAW;EAClC,IAAMyI,YAAY,GAAG5D,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB9E,KAAlB,CAArB;;EACA,kBAA2CgJ,cAAQ,CAAC,KAAD,CAAnD;MAAO4Y,eAAP;MAAuBC,kBAAvB;;EACA,kBAAuC7Y,cAAQ,CAAC,KAAD,CAA/C;MAAO8Y,aAAP;MAAqBC,gBAArB;;EAEA,IAAMC,aAAa,GAAGvZ,YAAY,CAACwZ,QAAb,GAAwBxZ,YAAY,CAACwZ,QAAb,CAAsBhf,KAAtB,CAA4B,GAA5B,CAAxB,GAA2D,EAAjF;EACA,IAAMif,WAAW,GAAGzZ,YAAY,CAAC0Z,WAAb,GAA2B1Z,YAAY,CAAC0Z,WAAb,CAAyBlf,KAAzB,CAA+B,GAA/B,CAA3B,GAAiE,EAArF;EACA,IAAMmf,UAAU,GAAG3Z,YAAY,CAAC4Z,UAAb,GAA0B5Z,YAAY,CAAC4Z,UAAb,CAAwBpf,KAAxB,CAA8B,GAA9B,CAA1B,GAA+D,EAAlF;EAEAxC,eAAS,CAAC,YAAM;IACd,IAAIyI,SAAS,GAAG,IAAhB;;IACA,IAAGA,SAAS,IAAIgZ,WAAb,IAA4BA,WAAW,CAACjgB,MAA3C,EAAkD;MAChDqgB,iBAAiB,CAACJ,WAAD,CAAjB,CAA+B9Y,IAA/B,CAAoC,UAAClF,IAAD,EAAQ;QAC1C,IAAGgF,SAAS,IAAIhF,IAAI,CAACgH,KAAL,CAAWjJ,MAA3B,EAAkC;UAChC4f,kBAAkB,CAAC3d,IAAI,CAACgH,KAAN,CAAlB;;OAFJ;;;IAMF,IAAGhC,SAAS,IAAIkZ,UAAb,IAA2BA,UAAU,CAACngB,MAAzC,EAAgD;MAC9CsgB,eAAe,CAACH,UAAD,CAAf,CAA4BhZ,IAA5B,CAAiC,UAAClF,IAAD,EAAQ;QACvC,IAAGgF,SAAS,IAAIhF,IAAI,CAACgH,KAAL,CAAWjJ,MAA3B,EAAkC;UAChC8f,gBAAgB,CAAC7d,IAAI,CAACgH,KAAN,CAAhB;;OAFJ;;;IAMF,OAAO,YAAM;MAAEhC,SAAS,GAAG,KAAZ;KAAf;GAhBO,EAiBN,EAjBM,CAAT;EAmBA,oBACE/I,6BAAC,IAAD;IAAM,SAAS,EAAC,4CAAhB;IAA6D,EAAE,EAAC,sBAAhE;IAAuF,QAAQ,EAAEH,KAAK,CAAC+f;KAClG/f,KAAK,CAACyf,cAAN,iBACDtf;IAAK,SAAS,EAAC;kBACfA,6BAAC,IAAD,CAAM,KAAN,kBADA,eAEAA,6BAAC,UAAD;IAAY,SAAS,EAAC,YAAtB;IAAmC,SAAS,EAAC;kBACzCA,6BAAC,IAAD,CAAM,OAAN;IACI,IAAI,EAAC,MADT;IAEI,IAAI,EAAC,GAFT;IAGI,WAAW,EAAC,QAHhB;IAII,KAAK,EAAEH,KAAK,CAACof,aAJjB;IAKI,QAAQ,EAAE,kBAAAha,CAAC;MAAA,OAAIpF,KAAK,CAACqf,gBAAN,CAAuBja,CAAC,CAAC8U,MAAF,CAASC,KAAhC,CAAJ;;IANnB,eAQIha,6BAAC,UAAD,CAAY,MAAZ,qBACEA,6BAAC,MAAD;IAAQ,OAAO,EAAC,WAAhB;IAA4B,IAAI,EAAC;kBAASA,6BAAC0O,gCAAD;IAAiB,IAAI,EAAE2T,0BAAvB;IAAiC,IAAI,EAAC;IAAhF,CADF,CARJ,CAFA,CAFJ,EAkBGR,aAAa,IAAIA,aAAa,CAAC/f,MAAd,GAAuB,CAAxC,iBACD9B,6BAAC,IAAD,CAAM,KAAN;IAAY,SAAS,EAAC,gBAAtB;IAAuC,SAAS,EAAC;kBAC/CA,6BAAC,IAAD,CAAM,KAAN,yBADF,eAEEA,6BAAC,IAAD,CAAM,OAAN;IAAc,EAAE,EAAC,QAAjB;IAA0B,IAAI,EAAC,SAA/B;IAAyC,MAAM,MAA/C;IAAgD,QAAQ,EAAGH,KAAK,CAACggB,YAAjE;IAAgF,KAAK,EAAEhgB,KAAK,CAAC4e;kBAC3Fze;IAAQ,KAAK,EAAC,GAAd;IAAkB,GAAG,EAAC;WADxB,EAEG6hB,aAAa,CAACpa,GAAd,CAAkB,UAAC2W,OAAD,EAAUxC,KAAV;IAAA,oBACjB5b;MAAQ,KAAK,EAAEoe,OAAf;MAAwB,GAAG,EAAExC;OAAQwC,OAArC,CADiB;GAAlB,CAFH,CAFF,CAnBF,EA6BGqD,eAAe,IAAIA,eAAe,CAAC3f,MAAhB,GAAyB,CAA5C,iBACD9B,4DACGyhB,eAAe,CAACha,GAAhB,CAAoB,UAACuJ,QAAD,EAAW4K,KAAX;IAAA,oBACnB5b,6BAAC,cAAD;MAAgB,UAAU,EAAEgR,QAAQ,CAACG,UAArC;MAAiD,WAAW,EAAEH,QAAQ,CAAC9M,IAAvE;MAA6E,YAAY,EAAErE,KAAK,CAACggB,YAAjG;MAA+G,aAAa,EAAEhgB,KAAK,CAACyiB,aAApI;MAAmJ,GAAG,EAAEtR,QAAQ,CAACG,UAAjK;MAA6K,kBAAkB,EAAEtR,KAAK,CAAC8e;MADpL;GAApB,CADH,CA9BF,EAoCG9e,KAAK,CAACsf,MAAN,IAAgBwC,aAAa,CAAC7f,MAAd,GAAuB,CAAvC,iBACD9B,6BAAC,IAAD,CAAM,KAAN;IAAY,SAAS,EAAC,gBAAtB;IAAuC,SAAS,EAAC;kBACjDA,6BAAC,IAAD,CAAM,KAAN,oBADA,eAEEA,6BAAC,IAAD,CAAM,OAAN;IAAc,EAAE,EAAC,QAAjB;IAA0B,IAAI,EAAC,WAA/B;IAA2C,MAAM,MAAjD;IAAkD,QAAQ,EAAGH,KAAK,CAACggB,YAAnE;IAAkF,KAAK,EAAEhgB,KAAK,CAACkf;kBAC7F/e;IAAQ,KAAK,EAAC,GAAd;IAAkB,GAAG,EAAC;WADxB,EAEG2hB,aAAa,CAACla,GAAd,CAAkB,UAAA8a,MAAM;IAAA,oBACvBviB;MAAQ,KAAK,EAAEuiB,MAAM,CAAChI,SAAtB;MAAiC,GAAG,EAAEgI,MAAM,CAAChI;OAAYgI,MAAM,CAACre,IAAhE,CADuB;GAAxB,CAFH,CAFF,CArCF,CADF;AAkDD,CA9ED;;AAgFA,IAAMse,cAAc,GAAG,SAAjBA,cAAiB,CAAA3iB,KAAK,EAAI;EAC9B,kBAAqCgJ,cAAQ,CAAC,EAAD,CAA7C;MAAO4Z,YAAP;MAAoBC,eAApB;;EACA,IAAIC,cAAc,GAAG,GAArB;EAEAriB,eAAS,CAAC,YAAM;IACd,IAAIyI,SAAS,GAAG,IAAhB;IACA6Z,mBAAmB,CAAC/iB,KAAK,CAACsR,UAAP,CAAnB,CAAsClI,IAAtC,CAA2C,UAAClF,IAAD,EAAQ;MACjD,IAAIgF,SAAJ,EAAe;QACb2Z,eAAe,CAAC3e,IAAI,CAACgH,KAAN,CAAf;;KAFJ;IAMA,OAAO,YAAM;MAAEhC,SAAS,GAAG,KAAZ;KAAf;GARO,EASN,EATM,CAAT;;EAWA,KAAK,IAAI9F,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAGwf,YAAY,CAAC3gB,MAA/B,EAAuCmB,CAAC,EAAxC,EAA2C;IACvC,IAAIpD,KAAK,CAACyiB,aAAN,CAAoBlS,QAApB,CAA6BqS,YAAY,CAACxf,CAAD,CAAZ,CAAgBkO,UAA7C,CAAJ,EAA6D;MAC3DwR,cAAc,GAAGF,YAAY,CAACxf,CAAD,CAAZ,CAAgBkO,UAAjC;MACA;;;;EAIN,oBACEnR,6BAAC,IAAD,CAAM,KAAN;IAAY,SAAS,uBAAqBH,KAAK,CAACgjB,WAAhD;IAA+D,SAAS,EAAC;kBACvE7iB,6BAAC,IAAD,CAAM,KAAN,QAAaH,KAAK,CAACgjB,WAAnB,MADF,eAEI7iB,6BAAC,IAAD,CAAM,OAAN;IAAc,EAAE,EAAC,QAAjB;IAA0B,IAAI,iBAAeH,KAAK,CAACgjB,WAAnD;IAAkE,MAAM,MAAxE;IAAyE,QAAQ,EAAGhjB,KAAK,CAACggB,YAA1F;IAAyG,KAAK,EAAE8C;kBAC9G3iB;IAAQ,KAAK,EAAC,GAAd;IAAkB,GAAG,EAAC;aAAsBH,KAAK,CAACgjB,WAAlD,CADF,EAEGJ,YAAY,CAAChb,GAAb,CAAiB,UAACuJ,QAAD,EAAW4K,KAAX;IAAA,oBAChB5b;MAAQ,KAAK,EAAEgR,QAAQ,CAACG,UAAxB;MAAoC,GAAG,EAAEyK;OAAQ5K,QAAQ,CAAC9M,IAA1D,CADgB;GAAjB,CAFH,CAFJ,CADF;AAWD,CAjCD;;AAmCA,IAAMie,iBAAiB,YAAjBA,iBAAiB,CAAUJ,WAAV;EAAA,IAA0B;IAC7C,IAAM5hB,IAAI,GAAGC,gBAAO,EAApB;IACA,IAAMyJ,IAAI,GAAG1J,IAAI,CAAC2J,OAAL,CAAa,UAAb,CAAb;IACMD,IAAI,CAACwB,QAAL,CAAc0W,WAAd;IAHuC,uBAKzBlY,IAAI,CAACe,QAAL,EALyB,iBAKvCC,KALuC;MAM7C,IAAM2F,UAAU,GAAG3F,KAAK,CAACd,MAAN,EAAnB;MAEA,OAAOyG,UAAP;;GARmB;IAAA;;AAAA,CAAvB;;AAWA,IAAM4R,eAAe,YAAfA,eAAe,CAAUH,UAAV;EAAA,IAAyB;IAC1C,IAAM9hB,IAAI,GAAGC,gBAAO,EAApB;IACA,IAAMyJ,IAAI,GAAG1J,IAAI,CAAC2J,OAAL,CAAa,SAAb,CAAb;IACMD,IAAI,CAACwB,QAAL,CAAc4W,UAAd;IAHoC,uBAKtBpY,IAAI,CAACe,QAAL,EALsB,iBAKpCC,KALoC;MAM1C,IAAM4L,QAAQ,GAAG5L,KAAK,CAACd,MAAN,EAAjB;MAEF,OAAO0M,QAAP;;GARmB;IAAA;;AAAA,CAArB;;AAWA,IAAMmM,mBAAmB,YAAnBA,mBAAmB,CAAUE,UAAV;EAAA,IAAyB;IAC9C,IAAM3iB,IAAI,GAAGC,gBAAO,EAApB;IACA,IAAMyJ,IAAI,GAAG1J,IAAI,CAAC2J,OAAL,CAAa,UAAb,CAAb;IACMD,IAAI,CAAC6S,IAAL,CAAU,UAAV,EAAsBzS,IAAtB,CAA2B6Y,UAA3B;IAHwC,uBAK1BjZ,IAAI,CAACe,QAAL,EAL0B,iBAKxCC,KALwC;MAM9C,IAAMkY,YAAY,GAAGlY,KAAK,CAACd,MAAN,EAArB;MAEA,OAAOgZ,YAAP;;GARqB;IAAA;;AAAA,CAAzB;;AAWA,IAAMjD,iBAAiB,GAAG,SAApBA,iBAAoB,CAAC5b,IAAD,EAAM8V,KAAN,EAAY2E,kBAAZ,EAA+BqE,UAA/B,EAA8C;EACtE,IAAIC,KAAK,GAAG,CAAZ;;EAEE,KAAK,IAAIhgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0b,kBAAkB,CAAC7c,MAAvC,EAA+CmB,CAAC,EAAhD,EAAoD;IAClD,IAAI0b,kBAAkB,CAAC1b,CAAD,CAAlB,CAAsBiB,IAAtB,KAA+BA,IAAnC,EAAyC;MACnCya,kBAAkB,CAAC1b,CAAD,CAAlB,CAAsB+W,KAAtB,GAA8BA,KAA9B;MACA2E,kBAAkB,CAAC1b,CAAD,CAAlB,CAAsBnD,UAAtB,GAAmCkjB,UAAnC;MACFC,KAAK,GAAG,CAAR;MACA;;;;EAGN,IAAI,CAACA,KAAL,EAAW;IACPtE,kBAAkB,CAACzb,IAAnB,CAAwB;MACtBgB,IAAI,EAACA,IADiB;MAEtB8V,KAAK,EAACA,KAFgB;MAGtBla,UAAU,EAACkjB;KAHb;;;EAON,OAAOrE,kBAAP;AACD,CApBD;;AC7eA,SAASuE,IAAT,CAAcrjB,KAAd,EAAqB;EACnB,IAAMyI,YAAY,GAAG5D,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB9E,KAAlB,CAArB;;EAEA,IAAG,CAACyI,YAAY,CAACjI,YAAd,KAA+BiI,YAAY,CAACsB,UAAb,KAA0B,WAA1B,IAAyCtB,YAAY,CAACsB,UAAb,KAA0B,gBAAlG,CAAH,EAAwH;IACtH,gBAA0Bf,cAAQ,CAAC,EAAD,CAAlC;QAAOxC,MAAP;QAAe8c,SAAf;;IAEA7iB,eAAS,CAAC,YAAM;MACZ0I,iBAAe,CAACV,YAAD,CAAf,CAA8BW,IAA9B,CAAmC,UAAC5I,YAAD,EAAgB;QACjD8iB,SAAS,CAAC9iB,YAAY,CAACgG,MAAd,CAAT;OADF;KADK,EAIP,EAJO,CAAT;;IAMA,IAAGA,MAAH,EAAU;MACR,oBACErG,6BAAC,YAAD;QAAc,MAAM,EAAEqG;QADxB;KADF,MAIO;MACL,oBACErG,yCADF;;GAdJ,MAkBO;IACL,IAAIqG,OAAM,GAAC,EAAX;;IACA,IAAGiC,YAAY,CAACjI,YAAb,KAA8BiI,YAAY,CAACsB,UAAb,KAA0B,WAA1B,IAAyCtB,YAAY,CAACsB,UAAb,KAA0B,gBAAjG,CAAH,EAAsH;MACpHvD,OAAM,GAACiC,YAAY,CAACjI,YAAb,CAA0BgG,MAAjC;KADF,MAEO;MACLA,OAAM,GAACiC,YAAY,CAACjC,MAApB;;;IAEF,IAAGA,OAAM,IAAIA,OAAM,KAAK,cAAxB,EAAuC;MACrC,oBACErG,6BAAC,YAAD;QAAc,MAAM,EAAEqG;QADxB;KADF,MAIO;MACL,oBACErG,yCADF;;;AAKL;;AAED,IAAagJ,iBAAe,YAAfA,eAAe,CAASnJ,KAAT;EAAA,IAAkB;IAQ5C,IAAMM,IAAI,GAAGN,KAAK,CAACM,IAAN,IAAcC,gBAAO,EAAlC;IACA,IAAM2D,IAAI,GAAG,EAAb;;IAT4C;MAAA,IAW1C,OAAOlE,KAAK,CAAC+J,UAAb,KAA4B,WAA5B,KACI/J,KAAK,CAAC+J,UAAN,KAAqB,WAArB,IAAoC/J,KAAK,CAAC+J,UAAN,KAAqB,gBAD7D,CAX0C;QAAA;UAAA,IAcvC/J,KAAK,CAAC+J,UAAN,KAAqB,WAdkB;YAAA;cAAA,IAerCzJ,IAAI,CAAC0L,MAAL,CAAYhM,KAAK,CAACwG,MAAlB,CAfqC;gBAAA,uBAgBlBlG,IAAI,CAACsL,SAAL,CAAe,SAAf,EACjB2X,MADiB,CACV,WADU,EACGvjB,KAAK,CAACwG,MADT,EACiB;kBAAEuW,IAAI,EAAE,WAAR;kBAAqB5V,MAAM,EAAE;iBAD9C,CAhBkB,iBAgBhCqc,MAhBgC;kBAkBpCtf,IAAI,CAACsC,MAAL,GAAYgd,MAAM,CAACrW,GAAP,CAAW,MAAX,CAAZ;;;gBAlBoC,uBAoBlB7M,IAAI,CAACsL,SAAL,CAAe,SAAf,EACnB2X,MADmB,CACZ,OADY,EACHvjB,KAAK,CAACwG,MADH,EACW;kBAAEuW,IAAI,EAAE,WAAR;kBAAqB5V,MAAM,EAAE;iBADxC,CApBkB,iBAoBhCqc,MApBgC;kBAsBtCtf,IAAI,CAACsC,MAAL,GAAYgd,MAAM,CAACrW,GAAP,CAAW,MAAX,CAAZ;;;;;YAtBsC;iBAwBnC,IAAGnN,KAAK,CAAC+J,UAAN,KAAqB,gBAAxB,EAAyC;YAC9C,IAAG,OAAO/J,KAAK,CAACuH,OAAN,CAAc4F,GAArB,IAA2B,UAA9B,EAAyC;cACvCjJ,IAAI,CAACsC,MAAL,GAAYxG,KAAK,CAACuH,OAAN,CAAc4F,GAAd,CAAkBnN,KAAK,CAACwG,MAAxB,CAAZ;aADF,MAEO;cACLtC,IAAI,CAACsC,MAAL,GAAYxG,KAAK,CAACuH,OAAN,CAAcvH,KAAK,CAACwG,MAApB,KAA+B,EAA3C;;;;;QA5BsC;;;;IAAA;MAiC5C,OAAOtC,IAAP;SAAOA,IAjCqC;GAAlB;IAAA;;AAAA,CAArB;;ACvCP,SAASuf,YAAT,CAAsBzjB,KAAtB,EAA4B;EAIxB,gBAA0BgJ,cAAQ,CAAC,CAAD,CAAlC;MAAO0a,KAAP;MAAcC,QAAd;;EACA,iBAA4B3a,cAAQ,CAAC,CAAD,CAApC;MAAO4a,MAAP;MAAeC,SAAf;;EACA,iBAA8B7a,cAAQ,CAAC,CAAD,CAAtC;MAAO8a,OAAP;MAAgBC,UAAhB;;EACA,iBAAyC/a,cAAQ,CAAC,CAAD,CAAjD;MAAOwP,aAAP;MAAqBC,gBAArB;;EACA,iBAAuCzP,cAAQ,CAAC,KAAD,CAA/C;MAAO0P,YAAP;MAAoBC,eAApB;;EAEAlY,eAAS,CAAC,YAAM;IACZ,IAAIyI,SAAS,GAAG,IAAhB;;IACA,IAAIA,SAAJ,EAAe;MAEX8a,iBAAiB,GAAG5a,IAApB,CAAyB,UAAA6a,MAAM,EAAI;QAC/BF,UAAU,CAACE,MAAD,CAAV;OADJ;;;IAMJ,OAAO,YAAM;MAAE/a,SAAS,GAAG,KAAZ;KAAf;GAVK,EAWN,EAXM,CAAT;;EAeA,IAAM6W,YAAY,GAAG,SAAfA,YAAe,CAAC3a,CAAD,EAAO;IACxBA,CAAC,CAACqU,cAAF;IACAyK,gBAAgB,CAACR,KAAD,EAAOE,MAAP,CAAhB;IACAnL,gBAAgB,CAAC,CAAD,CAAhB;IACA,OAAO,KAAP;GAJJ;;EAOA,IAAMyL,gBAAgB,YAAhBA,gBAAgB,CAAUR,KAAV,EAAgBE,MAAhB;IAAA,IAA2B;MAAA,uBAElBtjB,IAAI,CAC1BsL,SADsB,CACZ,eADY,EAEtBgP,MAFsB,CAGnB,kBAHmB,EAInB;QACIuJ,UAAU,EAACT,KADf;QAEIU,WAAW,EAACR;OANG,CAFkB,iBAEvCS,YAFuC;QAY7C1L,eAAe,CAAC,IAAD,CAAf;QACA,OAAO0L,YAAP;;KAbkB;MAAA;;GAAtB;;EAgBA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAClf,CAAD,EAAO;IAC1B2e,UAAU,CAAC3e,CAAC,CAAC8U,MAAF,CAASC,KAAV,CAAV;;IACA,IAAG/U,CAAC,CAAC8U,MAAF,CAASC,KAAT,IAAkB,CAArB,EAAuB;MACnBwJ,QAAQ,CAAC,CAAD,CAAR;MACAE,SAAS,CAAC,CAAD,CAAT;KAFJ,MAGO;MACHF,QAAQ,CAAC,CAAD,CAAR;MACAE,SAAS,CAAC,CAAD,CAAT;;GAPR;;EAYApjB,eAAS,CAAC,YAAM;IACZ,IAAIyI,SAAS,GAAG,IAAhB;;IACA,IAAIA,SAAJ,EAAe;MACX,IAAG4a,OAAO,IAAI,CAAd,EAAgB;QACZH,QAAQ,CAAC,CAAD,CAAR;QACAE,SAAS,CAAC,CAAD,CAAT;OAFJ,MAGO;QACHF,QAAQ,CAAC,CAAD,CAAR;QACAE,SAAS,CAAC,CAAD,CAAT;;;;IAIR,OAAO,YAAM;MAAE3a,SAAS,GAAG,KAAZ;KAAf;GAZK,EAaJ,CAAC4a,OAAD,CAbI,CAAT;EAgBArjB,eAAS,CAAC,YAAM;IACZ,IAAIyI,SAAS,GAAG,IAAhB;;IACA,IAAIA,SAAJ,EAAe;MACX,IAAGwP,YAAH,EAAgB;QACZ9K,UAAU,CAAC,YAAM;UACb+K,eAAe,CAAC,KAAD,CAAf;SADM,EAEP,IAFO,CAAV;;;;IAMR,OAAO,YAAM;MAAEzP,SAAS,GAAG,KAAZ;KAAf;GAVK,EAWN,CAACwP,YAAD,CAXM,CAAT;EAaA,oBACAvY,yEACIA,4DADJ,EAEKqY,aAAa,IAAI,CAAjB,IAAsBE,YAAtB,iBACGvY,6BAAC,KAAD;IAAO,OAAO,EAAC;uCAHvB,eAKIA,6BAAC,IAAD;IAAM,QAAQ,EAAE4f,YAAhB;IAA8B,iBAAc;kBACxC5f,6BAAC,IAAD,CAAM,KAAN;IAAY,SAAS,EAAC;kBAClBA,6BAAC,IAAD,CAAM,KAAN;IACI,IAAI,EAAC,OADT;IAEI,EAAE,EAAC,WAFP;IAGI,IAAI,EAAC,UAHT;IAII,KAAK,EAAC,GAJV;IAKI,OAAO,EAAE2jB,OAAO,IAAI,CALxB;IAMI,QAAQ,EAAEQ,cANd;IAOI,KAAK,EAAC;IARd,eAUInkB,6BAAC,IAAD,CAAM,KAAN;IACI,IAAI,EAAC,OADT;IAEI,EAAE,EAAC,WAFP;IAGI,IAAI,EAAC,UAHT;IAII,KAAK,EAAC,GAJV;IAKI,OAAO,EAAE2jB,OAAO,IAAI,CALxB;IAMI,QAAQ,EAAEQ,cANd;IAOI,KAAK,EAAC;IAjBd,CADJ,eAqBInkB,6BAAC,MAAD;IAAQ,OAAO,EAAC,SAAhB;IAA0B,IAAI,EAAC;cArBnC,CALJ,CADA;AAiCH;;AAED,IAAM6jB,iBAAiB,YAAjBA,iBAAiB;EAAA,IAAe;IAAA,uBACT1jB,IAAI,CACpBsL,SADgB,CACN,eADM,EAEhBgP,MAFgB,CAGb,eAHa,CADS;GAAf;IAAA;;AAAA,CAAvB;;AC9HA,IAAM2J,UAAU,GAAE,SAAZA,UAAY,CAASvkB,KAAT,EAAgB;EAC9B,IAAMM,IAAI,GAACN,KAAK,CAACM,IAAN,IAAcC,gBAAO,EAAhC;EAEA,IAAIkI,YAAY,GAAG5D,MAAM,CAACC,MAAP,CAAc,EAAd,EAAiB9E,KAAjB,CAAnB;;EAEA,gBAAiCgJ,cAAQ,CAAC,KAAD,CAAzC;MAAOwb,UAAP;MAAkBC,aAAlB;;EACA,iBAA6Bzb,cAAQ,CAAC1I,IAAI,CAACsd,OAAN,CAArC;MAAO8G,QAAP;MAAgBC,WAAhB;;EACA,IAAMC,UAAU,GAAGnc,YAAY,CAACmc,UAAb,IAA2B;IAACjQ,MAAM,EAAC,WAAR;IAAqBzJ,KAAK,EAAC,EAA3B;IAA+B,UAAS,QAAxC;IAAiDrK,KAAK,EAAC;GAArG;EACA,IAAMgkB,WAAW,GAAGpc,YAAY,CAACoc,WAAb,IAA4B;IAAClQ,MAAM,EAAC,WAAR;IAAqBzJ,KAAK,EAAC,EAA3B;IAA+B,UAAS,QAAxC;IAAiDrK,KAAK,EAAC;GAAvG;EAEA+jB,UAAU,CAAC3f,GAAX,GAAe,KAAf;EACA4f,WAAW,CAAC5f,GAAZ,GAAgB,KAAhB;EACA2f,UAAU,CAACE,MAAX,GAAkB,IAAlB;EACAD,WAAW,CAACC,MAAZ,GAAmB,IAAnB;;EAEA,IAAG,OAAOrc,YAAY,CAACsc,YAApB,IAAoC,WAAvC,EAAmD;IAC/Ctc,YAAY,CAACsc,YAAb,GAA0B,IAA1B;;;EAGJtkB,eAAS,CAAC,YAAM;IACZ,IAAIyI,SAAS,GAAG,IAAhB;IACA,IAAM8b,UAAU,GAAC1kB,IAAI,CAACsL,SAAL,CAAe,YAAf,CAAjB;;IAEA,IAAI1C,SAAJ,EAAe;MACX,IAAG,OAAO5I,IAAI,CAAC+T,sBAAL,CAA4BrU,KAAK,CAACC,UAAlC,CAAP,IAAsD,WAAzD,EAAqE;QACjEK,IAAI,CAAC+T,sBAAL,CAA4BrU,KAAK,CAACC,UAAlC,IAA+C,IAAIK,IAAI,CAACgU,aAAL,CAAmBiQ,UAAvB,CAAkCvkB,KAAlC,CAA/C;;;MAGJM,IAAI,CAAC2kB,QAAD,CAAJ,CAAeC,EAAf,CAAkB,qBAAlB,EAAwC,YAAU;QAC9C,IAAGhc,SAAH,EAAa;UACTyb,WAAW,CAAC,IAAD,CAAX;;OAFR;MAMA,IAAMQ,MAAM,GAAE7kB,IAAI,CAAC,0BAA0BN,KAAK,CAACC,UAAhC,GAA4C,IAA7C,CAAlB;MAEAklB,MAAM,CAACD,EAAP,CAAU,mBAAV,EAA8B,UAAS9f,CAAT,EAAW;QACrC,IAAG8D,SAAS,IAAI,CAACsb,UAAjB,EAA4B;UACxB,IAAMhe,MAAM,GAAGpB,CAAC,CAAC8U,MAAF,IAAY9U,CAAC,CAACggB,UAA7B;UACA,IAAMC,OAAO,GAAC/kB,IAAI,CAACkG,MAAD,CAAJ,CAAa8e,OAAb,CAAqB,qCAArB,CAAd;UACAN,UAAU,CAACpK,MAAX,CAAkB,UAAlB,EAA6B;YAACvQ,SAAS,EAAErK,KAAK,CAACuH,OAAN,CAAc8C,SAA1B;YAAoCkb,MAAM,EAACF,OAAO,CAACnhB,IAAR,CAAa,UAAb;WAAxE,EAAkG,KAAlG;UACA0J,UAAU,CACN,YAAU;YACN6W,aAAa,CAAC,IAAD,CAAb;WAFE,EAIN,IAJM,CAAV;;OALR;;MAeA,IAAMe,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,QAAD,EAAY;QACjC,IAAG,OAAOA,QAAP,KAAoB,SAApB,IAAiCA,QAAjC,IACI,OAAOA,QAAP,KAAoB,QAApB,IAAgCA,QADpC,IAEI,OAAOA,QAAP,KAAoB,QAApB,IAAgCA,QAAQ,CAAC1gB,WAAT,MAAwB,MAF/D,EAEsE;UAClE,IAAGmE,SAAH,EAAa;YACTub,aAAa,CAAC,IAAD,CAAb;;;OALZ;;MAUA,IAAMiB,0BAA0B,GAAG,SAA7BA,0BAA6B,CAASC,MAAT,EAAgB;QAC/C,IAAGxa,KAAK,CAACC,OAAN,CAAcua,MAAM,CAACza,KAArB,CAAH,EAA+B;UAC3Bya,MAAM,CAACza,KAAP,CAAaiD,OAAb,CAAqB,UAAC7G,IAAD,EAAQ;YACzB,IAAGA,IAAI,CAACqN,MAAL,IAAa,MAAhB,EAAuB;cACnBqQ,UAAU,CAACpK,MAAX,CACI,YADJ,EAEI;gBAACvQ,SAAS,EAAErK,KAAK,CAACuH,OAAN,CAAc8C,SAA1B;gBAAoCkb,MAAM,EAACje,IAAI,CAAC2M;eAFpD,EAGK,KAHL,EAIK7K,IAJL,CAKQoc,gBALR,EAMQA,gBANR;aADJ,MASO,IAAGle,IAAI,CAACqN,MAAL,IAAa,WAAhB,EAA4B;cAC/B+Q,0BAA0B,CAACpe,IAAD,CAA1B;;WAXR;;OAFR;;MAmBA,IAAImB,YAAY,CAACsc,YAAjB,EAA+B;QAC3BW,0BAA0B,CAACd,UAAD,CAA1B;OADJ,MAEO;QACHH,aAAa,CAAC,IAAD,CAAb;;;;IAIR,OAAO,YAAM;MAAEvb,SAAS,GAAG,KAAZ;KAAf;GApEK,EAsEJ,EAtEI,CAAT;EAwEA,oBACI/I,0CAEQukB,QAAQ,gBACFvkB,uDAAKA;IAAQ,SAAS,EAAE,CAACqkB,UAAD,GAAc,iBAAd,GAAkC,KAArD;IAA4D,OAAO,EAAE,mBAAU;MAACC,aAAa,CAAC,KAAD,CAAb;;YAArF,eACFtkB;IAAQ,SAAS,EAAEqkB,UAAU,GAAG,iBAAH,GAAuB,KAApD;IAA2D,OAAO,EAAE,mBAAU;MAACC,aAAa,CAAC,IAAD,CAAb;;aAD7E,CADE,GAGF,IALd,eAOItkB,uDACIA;IAAK,SAAS,EAAC,WAAf;IAA2B,KAAK,EAAE;MAACqd,OAAO,EAAE,CAACgH,UAAD,GAAc,OAAd,GAAwB;;kBAChErkB,6BAAC6E,kBAAD,eAAe4f,UAAf;IAA2B,OAAO,EAAE5kB,KAAK,CAACuH,OAA1C;IAAmD,IAAI,EAAEvH,KAAK,CAACM;KADnE,CADJ,eAIIH;IAAK,SAAS,EAAC,YAAf;IAA4B,KAAK,EAAE;MAACqd,OAAO,EAAEgH,UAAU,GAAG,OAAH,GAAa;;kBAChErkB,6BAAC6E,kBAAD,eAAe6f,WAAf;IAA4B,OAAO,EAAE7kB,KAAK,CAACuH,OAA3C;IAAoD,IAAI,EAAEvH,KAAK,CAACM;KADpE,CAJJ,CAPJ,CADJ;AAkBH,CA7GD;;ICDMslB;;;;;;;;;SACJC,oBAAA,6BAAoB;IAClB,KAAKC,oBAAL;;;SAGFC,qBAAA,4BAAmBC,SAAnB,EAA8BC,SAA9B,EAAyC;IACvC,KAAKH,oBAAL;;;SAGFI,aAAA,sBAAa;IACX,kBAAqB,KAAKlmB,KAA1B;QAAQkQ,EAAR,eAAQA,EAAR;QAAYiW,IAAZ,eAAYA,IAAZ;IAEA,IAAMC,OAAO,GAAGD,IAAI,cAAYA,IAAZ,GAAqB,EAAzC;IAEA,oCAAkCjW,EAAlC,WAA0CkW,OAA1C;;;SAGFN,uBAAA,gCAAuB;IACrB,mBAAqB,KAAK9lB,KAA1B;QAAQkQ,EAAR,gBAAQA,EAAR;QAAYiW,IAAZ,gBAAYA,IAAZ;IAEA,IAAME,MAAM,GAAG,KAAKC,UAApB;IAEA,IAAIC,GAAG,GAAGF,MAAM,CAACpB,QAAjB;IACA,IAAIoB,MAAM,CAACG,eAAX,EAA4BD,GAAG,GAAGF,MAAM,CAACG,eAAb,CAA5B,KACK,IAAIH,MAAM,CAACI,aAAX,EAA0BF,GAAG,GAAGF,MAAM,CAACI,aAAP,CAAqBxB,QAA3B;;IAE/B,IAAMyB,QAAQ,GAAG,KAAKR,UAAL,EAAjB;;IACA,IAAMS,UAAU,+CAA0CD,QAA1C,iBAAhB;IACA,IAAME,MAAM,GAAG,mCAAf;IACA,IAAMC,SAAS,GAAGV,IAAI,aAAWjW,EAAX,SAAiBiW,IAAjB,aAAkCjW,EAAxD;IACA,IAAM4W,YAAY,iDAA8CD,SAA9C,wDAAlB;IACA,IAAME,UAAU,6CAAyCH,MAAzC,qBAA+DE,YAA/D,SAA+EH,UAA/E,mBAAhB;IAEAJ,GAAG,CAACjL,IAAJ;IACAiL,GAAG,CAACS,OAAJ,CAAYD,UAAZ;IACAR,GAAG,CAACU,KAAJ;;;SAGFC,SAAA,kBAAS;IAAA;;IACP,mBAAqB,KAAKlnB,KAA1B;QAAQkQ,EAAR,gBAAQA,EAAR;QAAYiW,IAAZ,gBAAYA,IAAZ;IAEA,oBACEhmB;MACE,GAAG,EAAE,aAACgnB,CAAD,EAAO;QAAE,KAAI,CAACb,UAAL,GAAkBa,CAAlB;OADhB;MAEE,KAAK,EAAC,MAFR;MAGE,WAAW,EAAE,CAHf;MAIE,EAAE,EAAEhB,IAAI,aAAWjW,EAAX,SAAiBiW,IAAjB,aAAkCjW;MAL9C;;;;EAzCe/P,cAAK,CAACinB;;AAoDzB,IAAMF,MAAM,GAAE,SAARA,MAAQ,CAASlnB,KAAT,EAAgB;EAC1B,IAAIyI,YAAY,GAAG5D,MAAM,CAACC,MAAP,CAAc,EAAd,EAAiB9E,KAAjB,CAAnB;EAEAyI,YAAY,CAAC4e,MAAb,GAAsB5e,YAAY,CAAC4e,MAAb,IAAuB,EAA7C;EACA5e,YAAY,CAAC0d,IAAb,GAAoB1d,YAAY,CAAC0d,IAAb,IAAqB,EAAzC;;EAEA,IAAG1d,YAAY,CAAC4e,MAAhB,EAAuB;IACnB,oBACIlnB,6BAAC,IAAD;MAAM,EAAE,EAAEsI,YAAY,CAAC4e,MAAvB;MAA+B,IAAI,EAAE5e,YAAY,CAAC0d;MADtD;GADJ,MAIO;IACH,oBACIhmB,yCADJ;;AAKP,CAhBD;;AChDA,SAASmI,gCAAT,CAAwCJ,MAAxC,EAA+CZ,IAA/C,EAAoD;EAClD,IAAGY,MAAH,EAAU;IACR,OAAOA,MAAM,CAACK,aAAP,GAAuBL,MAAM,CAACK,aAAP,CAAqBjB,IAArB,CAAvB,GAAoD;MAACH,MAAM,EAAC;KAAnE;GADF,MAEO;IACL,OAAQ;MAACA,MAAM,EAAC;KAAhB;;AAEH;;AAED,SAASmgB,aAAT,CAAuBtnB,KAAvB,EAA8B;EAC5B,IAAMM,IAAI,GAAGN,KAAK,CAACM,IAAN,IAAcC,gBAAO,EAAlC;EACA,IAAMkI,YAAY,GAAG5D,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB9E,KAAlB,CAArB;EACA,IAAM0I,uBAAuB,GAAGT,SAAS,CAAC,qBAAD,CAAT,CAAiCU,SAAjE;EAEAF,YAAY,CAACtB,MAAb,GAAoBsB,YAAY,CAACtB,MAAb,IAAuBmB,gCAA8B,CAACI,uBAAD,EAAyBD,YAAzB,CAA9B,CAAqEtB,MAA5F,IAAsG,uCAA1H;EAEA,IAAIogB,SAAS,GAAG,EAAhB;;EAEA,IAAI,CAACjnB,IAAI,CAACsd,OAAV,EAAkB;IACd,IAAMC,QAAM,GAAGC,gBAAS,EAAxB;IACAyJ,SAAS,GAAG1J,QAAM,CAAC7S,KAAP,CAAawc,CAAzB;;;EAGJ/e,YAAY,CAACjI,YAAb,GAA0BiI,YAAY,CAACjI,YAAb,IAA8B;IAACinB,SAAS,EAAC;GAAnE;;EAEA,IAAM7e,WAAW,GAACH,YAAY,CAACjI,YAAb,CAA0BqI,UAA1B,GAAuC,IAAIvI,IAAI,CAACwI,gBAAT,CAA0BL,YAAY,CAACjI,YAAb,CAA0BqI,UAApD,EAA+DvI,IAAI,CAACyI,eAApE,CAAvC,GAA8H,KAAhJ;;EAEA,IAAG,CAACH,WAAJ,EAAgB;IACd,gBAAiCI,cAAQ,CAACJ,WAAD,CAAzC;QAAOC,UAAP;QAAkBI,aAAlB;;IAEAxI,eAAS,CAAC,YAAM;MACd,IAAIyI,SAAS,GAAG,IAAhB;;MACA,IAAIA,SAAJ,EAAe;QACbC,iBAAe,CAACoe,SAAD,EAAWvnB,KAAX,CAAf,CAAiCoJ,IAAjC,CAAsC,UAACC,aAAD,EAAmB;UACvD,IAAGH,SAAH,EAAa;YACXD,aAAa,CAAC,IAAI3I,IAAI,CAACwI,gBAAT,CAA0BO,aAAa,CAACR,UAAxC,EAAmDvI,IAAI,CAACyI,eAAxD,CAAD,CAAb;;SAFJ;;;MAMF,OAAO,YAAM;QAAEG,SAAS,GAAG,KAAZ;OAAf;KATO,EAUN,EAVM,CAAT;;IAYA,IAAGL,UAAH,EAAe;MACb,oBACE1I,yEACEA,6BAAC,aAAD;QAAe,KAAK,EAAEonB;QADxB,eAEEpnB,6BAAC,uBAAD;QAAyB,aAAa,EAAE8I,aAAxC;QAAuD,UAAU,EAAEJ,UAAnE;QAA+E,KAAK,EAAEJ,YAAtF;QAAoG,IAAI,EAAEa;QAF5G,CADF;KADF,MAQK;MACH,oBACCnJ,yCADD;;GAxBJ,MA4BO;IACL,iBAAiC6I,cAAQ,CAACJ,WAAD,CAAzC;QAAOC,YAAP;QAAkBI,cAAlB;;IAEA,oBACE9I,yEACEA,6BAAC,aAAD;MAAe,KAAK,EAAEonB;MADxB,eAEEpnB,6BAAC,uBAAD;MAAyB,aAAa,EAAE8I,cAAxC;MAAuD,UAAU,EAAEJ,YAAnE;MAA+E,KAAK,EAAE7I,KAAtF;MAA6F,IAAI,EAAEuJ;MAFrG,CADF;;AAOH;;AAED,IAAaJ,iBAAe,YAAfA,eAAe,CAAkBoe,SAAlB,EAA4BvnB,KAA5B;EAAA,IAAmC;IAC3D,IAAMM,IAAI,GAAGN,KAAK,CAACM,IAAN,IAAcC,gBAAO,EAAlC;IACA,IAAM2D,IAAI,GAAG,EAAb;IACA,IAAM8F,IAAI,GAAG1J,IAAI,CAAC2J,OAAL,CAAa,SAAb,CAAb;IAGAD,IAAI,CAAC6S,IAAL,CAAU,SAAV,EAAqBiE,KAArB,CAA2B,QAA3B;IACA9W,IAAI,CAACG,OAAL,CAAa,SAAb,EAAwB2W,KAAxB,CAA8B,cAA9B;IAEA9W,IAAI,CAACgX,eAAL;IACAhX,IAAI,CAACiX,MAAL,CAAY,OAAZ,EAAqBL,aAArB,CAAmC2G,SAAnC;IACAvd,IAAI,CAACiX,MAAL,CAAY,MAAZ,EAAoBL,aAApB,CAAkC2G,SAAlC;IACAvd,IAAI,CAACiX,MAAL,CAAY,SAAZ,EAAuBL,aAAvB,CAAqC2G,SAArC;IACAvd,IAAI,CAACkX,aAAL;IACAlX,IAAI,CAACS,QAAL,CAAczK,KAAK,CAAC0K,QAApB;;IAEA,IAAGpK,IAAI,CAACqJ,UAAL,IAAkB,QAArB,EAA8B;MAC5BK,IAAI,CAACW,YAAL,CAAkB3K,KAAK,CAAC4J,KAAxB;KADF,MAEO;MACLI,IAAI,CAACW,YAAL,CAAkB,CAAlB;;;IAnByD,uBAsBvCX,IAAI,CAACe,QAAL,EAtBuC,iBAsBrDC,KAtBqD;MAuB3D9G,IAAI,CAAC2E,UAAL,GAAkBmC,KAAK,CAACd,MAAN,EAAlB;MAEA,OAAOhG,IAAP;;GAzBwB;IAAA;;AAAA,CAArB;;AA4BP,IAAMwjB,aAAa,GAAG,SAAhBA,aAAgB,CAAC1nB,KAAD,EAAW;EAC/B,IAAM2nB,KAAK,GAAG3nB,KAAK,CAAC2nB,KAApB;EACA,oBACExnB,6BAAC,KAAD;IAAO,OAAO,EAAC;kBACXA;IAAG,SAAS,EAAC;kDAAmCA,6CAASwnB,KAAT,CAAhD,CADJ,CADF;AAKD,CAPD;;AC1FA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,OAA2C;EAAA,IAAzC5nB,KAAyC,QAAzCA,KAAyC;MAAnC6I,UAAmC,QAAnCA,UAAmC;MAAxBI,aAAwB,QAAxBA,aAAwB;MAAVgG,IAAU,QAAVA,IAAU;;EACrE,gBAAsBjG,cAAQ,CAAC,CAAD,CAA9B;MAAO8D,GAAP;MAAYC,MAAZ;;EAEA,oBACE5M;IAAK,SAAS,EAAC;kBAEXA,6BAAC+O,cAAD;IAAc,UAAU,EAAErG,UAA1B;IAAsC,GAAG,EAAEiE,GAA3C;IAAgD,IAAI,EAAEmC;KAAUjP,KAAhE,EAFJ,eAIIG;IAAK,SAAS,EAAC;kBACXA;IAAK,SAAS,EAAC;kBACfA,6BAAC,aAAD;IAAe,aAAa,EAAE8I,aAA9B;IAA6C,UAAU,EAAEJ,UAAzD;IAAqE,GAAG,EAAEiE,GAA1E;IAA+E,MAAM,EAAEC,MAAvF;IAA+F,IAAI,EAAEkC;KAAUjP,KAA/G,EADA,CADJ,CAJJ,CADF;AAYD,CAfD;;AAiBA,IAAMkP,cAAY,GAAG,SAAfA,YAAe,CAAClP,KAAD,EAAW;EAC9B,IAAMM,IAAI,GAAGN,KAAK,CAACM,IAAN,IAAcC,gBAAO,EAAlC;EACA,IAAOsI,UAAP,GAAuD7I,KAAvD,CAAO6I,UAAP;MAAkBe,KAAlB,GAAuD5J,KAAvD,CAAkB4J,KAAlB;MAAwBqF,IAAxB,GAAuDjP,KAAvD,CAAwBiP,IAAxB;MAA6BnC,GAA7B,GAAuD9M,KAAvD,CAA6B8M,GAA7B;MAAiC3F,MAAjC,GAAuDnH,KAAvD,CAAiCmH,MAAjC;MAAwC6F,WAAxC,GAAuDhN,KAAvD,CAAwCgN,WAAxC;EACA,IAAImC,SAAS,GAAG,EAAhB;EACA,IAAI7H,IAAI,GAAG,EAAX;EACA,IAAM8H,IAAI,GAAGH,IAAb;EACA,IAAM/D,KAAK,GAAGrC,UAAU,CAACsE,GAAX,CAAe,OAAf,CAAd;EACA,IAAIF,OAAO,GAAGH,GAAG,GAAClD,KAAJ,GAAYsB,KAAK,CAACjJ,MAAlB,GAA2BiJ,KAAK,CAACjJ,MAAjC,GAA0C6K,GAAG,GAAClD,KAA5D;EACA,IAAMxC,SAAS,GAAGD,MAAM,GAAGA,MAAM,CAACpC,WAAP,GAAqB9B,KAArB,CAA2B,GAA3B,CAAH,GAAqC,EAA7D;EACA,IAAMwH,QAAQ,GAAGzK,KAAK,CAAC0K,QAAvB;EACA,IAAMmd,UAAU,GAAGhf,UAAU,CAACsE,GAAX,CAAe,YAAf,CAAnB;;EAEA,IAAG7M,IAAI,CAACqJ,UAAL,IAAmB,QAAnB,IAA+BqD,WAAlC,EAA8C;IAC5CC,OAAO,GAAC/B,KAAK,CAACjJ,MAAd;GADF,MAEO;IACL,IAAIwI,QAAQ,GAAGS,KAAK,CAACjJ,MAAjB,IAA2B6K,GAAG,GAAClD,KAAJ,GAAYa,QAA3C,EAAoD;MAClDwC,OAAO,GAAGxC,QAAV;;;;EAIJ,KAAI,IAAIrH,CAAC,GAAG0J,GAAZ,EAAgB1J,CAAC,GAAG6J,OAApB,EAA4B7J,CAAC,EAA7B,EAAiC;IAC/BkE,IAAI,GAAG4D,KAAK,CAAC9H,CAAD,CAAZ;IAEA+L,SAAS,CAAC9L,IAAV,eACElD;MAAK,SAAS,EAAC,UAAf;MAA0B,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,WAAT;oBAC7BhN,6BAACiS,WAAD;MAAW,SAAS,EAAEhL,SAAtB;MAAiC,IAAI,EAAEE,IAAvC;MAA6C,SAAS,EAAEtH,KAAK,CAACqQ;MADhE,eAEElQ,6BAACmS,UAAD;MAAU,UAAU,EAAEuV,UAAtB;MAAkC,KAAK,EAAEzkB,CAAzC;MAA4C,GAAG,EAAE0J,GAAjD;MAAsD,OAAO,EAAEG,OAA/D;MAAwE,SAAS,EAAE7F,SAAnF;MAA8F,IAAI,EAAEE,IAApG;MAA0G,IAAI,EAAE8H;MAFlH,CADF;;;EAQF,OAAOD,SAAP;AACD,CAhCD;;AAkCA,IAAMiD,WAAS,GAAG,SAAZA,SAAY,CAACpS,KAAD,EAAW;EAC3B,IAAOoH,SAAP,GAA0BpH,KAA1B,CAAOoH,SAAP;MAAkBE,IAAlB,GAA0BtH,KAA1B,CAAkBsH,IAAlB;EAEA,IAAI+E,QAAQ,GAAG,KAAf;;EACA,IAAIjF,SAAS,CAACiL,OAAV,CAAkB,OAAlB,IAA6B,CAAC,CAAlC,EAAqC;IACnChG,QAAQ,GAAG,IAAX;;;EAEF,IAAGA,QAAH,EAAa;IACX,IAAMgE,SAAS,GAAErQ,KAAK,CAACqQ,SAAN,IAAmB,QAApC;IACA,oBACElQ;MAAK,SAAS,EAAC;oBACXA,6BAAC,SAAD;MAAW,KAAK,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,QAAT,EAAmBkD,SAAnB,CAAlB;MAAiD,SAAS,EAAC,WAA3D;MAAuE,GAAG,EAAE/I,IAAI,CAAC6F,GAAL,CAAS,OAAT,CAA5E;MAA+F,GAAG,EAAC;MADvG,CADF;;;EAMF,oBACEhN,2DADF;AAGD,CAlBD;;AAoBA,IAAMmS,UAAQ,GAAG,SAAXA,QAAW,CAACtS,KAAD,EAAW;EAC1B,IAAOoH,SAAP,GAAwDpH,KAAxD,CAAOoH,SAAP;MAAkBE,IAAlB,GAAwDtH,KAAxD,CAAkBsH,IAAlB;MAAwB8H,IAAxB,GAAwDpP,KAAxD,CAAwBoP,IAAxB;MAA8B2M,KAA9B,GAAwD/b,KAAxD,CAA8B+b,KAA9B;MAAqCjP,AAAK+a,UAA1C,GAAwD7nB,KAAxD,CAA0C6nB,UAA1C;EACA,IAAMC,YAAY,GAAG/L,KAAK,GAAG8L,UAA7B;;EAGA,IAAIzgB,SAAS,CAACiL,OAAV,CAAkB,OAAlB,IAA6B,CAAC,CAAlC,EAAqC;;EAKrC,IAAI/K,IAAI,CAAC6F,GAAL,CAAS,MAAT,MAAqB,MAAzB,EAAiC;;EAIjC,oBACEhN;IAAK,SAAS,EAAC;kBACXA;IAAK,SAAS,EAAC;KAEXiH,SAAS,CAACQ,GAAV,CAAc,UAAAC,KAAK,EAAI;IACrB,QAAOA,KAAP;MACE,KAAK,OAAL;QACE,oBACE1H;UAAK,SAAS,EAAC,uBAAf;UAAuC,GAAG,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,OAAT;wBACxChN,sDAAIA,6BAAC,IAAD;UAAM,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT,CAAhB;UAAwC,SAAS,EAAC;WAAa2a,YAA/D,QAA+ExgB,IAAI,CAAC6F,GAAL,CAAS,OAAT,CAA/E,CAAJ,CADJ,CADF;;MAKF,KAAK,MAAL;MACA,KAAK,aAAL;QACI,oBACEhN;UAAK,SAAS,EAAC,sBAAf;UAAsC,GAAG,EAAC;wBACxCA,6BAAC,QAAD;UAAU,WAAW,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,aAAT,CAAvB;UAAgD,UAAU,EAAE7F,IAAI,CAAC6F,GAAL,CAAS,YAAT;UAD9D,CADF;;MAKJ,KAAK,SAAL;QACE,oBAAOhN,6BAAC,YAAD;UAAc,MAAM,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT,CAAtB;UAA2C,GAAG,EAAEtF;UAAvD;;MACF,KAAK,UAAL;QACM,oBACE1H;UAAK,SAAS,EAAC,0BAAf;UAA0C,GAAG,EAAE0H;wBAC7C1H,6BAAC,qBAAD;UACE,IAAI,QAAMmH,IAAI,CAAC6F,GAAL,CAAS,UAAT,CADZ;UAEE,OAAO,EAAC,WAFV;UAGE,IAAI,EAAEiC,IAHR;UAIE,GAAG,EAAE9H,IAAI,CAAC6F,GAAL,CAAS,WAAT;UALT,CADF;;MAUN,KAAK,SAAL;QACI,IAAG7F,IAAI,CAAC6F,GAAL,CAAS,SAAT,EAAoBlL,MAAvB,EAA8B;UAC5B,oBACE9B;YAAK,SAAS,EAAC;0BACbA,6BAAC,WAAD;YAAa,OAAO,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,SAAT,CAAtB;YAA2C,GAAG,EAAC;YADjD,CADF;;;QAMF,OAAO,IAAP;;MACJ,KAAK,MAAL;QACI,oBACIhN;UAAK,SAAS,EAAC,2BAAf;UAA2C,GAAG,EAAC;wBAC7CA,6BAAC,QAAD;UAAU,IAAI,EAAEmH,IAAI,CAAC6F,GAAL,CAAS,MAAT;UADlB,CADJ;;MAKJ;QACE,oBAAOhN;UAAK,SAAS,uBAAqB0H,KAAnC;UAA4C,GAAG,EAAEA,KAAjD;UAAwD,cAAYP,IAAI,CAAC6F,GAAL,CAAStF,KAAT;WAAkBP,IAAI,CAAC6F,GAAL,CAAStF,KAAT,CAAtF,CAAP;;GA5CN,CAFJ,CADJ,CADF;AAuDD,CArED;;AC1EA,SAASkgB,UAAT,CAAoB/nB,KAApB,EAA2B;EACvB,oBAEIG,6BAAC,IAAD;IAAM,MAAM,EAAC,KAAb;IAAmB,EAAE,EAAC,YAAtB;IAAmC,SAAS,EAAC,kBAA7C;IAAgE,IAAI,EAAC,QAArE;IAA8E,MAAM,EAAC,iBAArF;IAAuG,GAAG,EAAC;kBACvGA,6BAAC,UAAD;IAAY,SAAS,EAAC;kBAClBA,6BAAC,IAAD,CAAM,OAAN;IACA,WAAW,EAAC,QADZ;IAEA,cAAW,QAFX;IAGA,oBAAiB,QAHjB;IAIA,IAAI,EAAC,GAJL;IAKA,IAAI,EAAC;IANT,eAQIA,6BAAC,UAAD,CAAY,MAAZ,qBACIA,6BAAC,MAAD;IAAQ,OAAO,EAAC,OAAhB;IAAwB,IAAI,EAAC;kBAASA,6BAAC0O,gCAAD;IAAiB,IAAI,EAAE2T,0BAAvB;IAAiC,IAAI,EAAC;IAA5E,CADJ,CARJ,CADJ,CAFJ;AAkBH;;ACxBM,SAASwF,UAAT,CAAoBhoB,KAApB,EAA2B;EACjC,oBACCG;IAAK,SAAS,EAAC;kBACdA,6BAAC,YAAD,EAAkBH,KAAlB,CADD,CADD;AAMA;;AAED,IAAM8b,YAAY,GAAG,SAAfA,YAAe,CAAC9b,KAAD,EAAW;EAC/B,IAAM2b,WAAW,GAAG3b,KAAK,CAAC4b,WAAN,GAAoBzQ,KAAK,CAAC0Q,IAAN,CAAW7b,KAAK,CAAC4b,WAAjB,CAApB,GAAoD,EAAxE;;EAEA,IAAID,WAAW,IAAIA,WAAW,CAAC1Z,MAA/B,EAAsC;IACrC,IAAM6Z,aAAY,GAAGH,WAAW,CAAC/T,GAAZ,CAAgB,UAACqH,IAAD,EAAM8M,KAAN;MAAA,oBACrC5b;QAAI,SAAS,EAAC,kBAAd;QAAiC,GAAG,EAAE4b;sBACrC5b;QAAG,IAAI,EAAE8O,IAAI,CAACkL,KAAd;QAAqB,MAAM,EAAEna,KAAK,CAACioB,UAAN,IAAoBjoB,KAAK,CAACioB,UAAN,IAAoB,OAAxC,GAAkDjoB,KAAK,CAACioB,UAAxD,GAAqE;SAAKhZ,IAAI,CAAC5K,IAA5G,CADD,CADqC;KAAhB,CAArB;;IAKA,oBACClE;MAAI,SAAS,EAAC;OACZ2b,aADF,CADD;;;EAMD,OAAO,IAAP;AACA,CAhBD;;ACTO,IAAMoM,kBAAkB,GAAC,SAAnBA,kBAAmB,CAASloB,KAAT,EAAgB;EAC5C,IAAOM,IAAP,GAAgBN,KAAhB,CAAOM,IAAP;EACA,IAAMmI,YAAY,GAAG5D,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB9E,KAAlB,CAArB;EACAyI,YAAY,CAACqN,IAAb,GAAkBrN,YAAY,CAACqN,IAAb,IAAqB,EAAvC;EACA,IAAMD,WAAW,GAAC,kBAAkBpN,YAAY,CAACxI,UAAjD;EAEAQ,eAAS,CAAC,YAAM;IACZ,IAAG,CAACgI,YAAY,CAACjI,YAAd,IAA8B,CAACiI,YAAY,CAACjI,YAAb,CAA0BsV,IAA5D,EAAiE;MAC7D3M,iBAAe,CAACV,YAAD,CAAf,CAA8BW,IAA9B,CAAmC,UAAC5I,YAAD,EAAgB;QAC/CF,IAAI,CAAC,MAAOuV,WAAR,CAAJ,CAAyBC,IAAzB,CAA8BrN,YAAY,CAACjI,YAAb,CAA0BsV,IAAxD;OADJ;KADJ,MAIO;MACHxV,IAAI,CAAC,MAAOuV,WAAR,CAAJ,CAAyBC,IAAzB,CAA8BrN,YAAY,CAACjI,YAAb,CAA0BsV,IAAxD;;GANC,EASP,EATO,CAAT;EAWA,oBACI3V;IAAK,EAAE,EAAE0V;IADb;AAGH,CApBM;AAsBP,IAAa1M,iBAAe,YAAfA,eAAe,CAASnJ,KAAT;EAAA,IAAkB;IAC1C,IAAOM,IAAP,GAAgBN,KAAhB,CAAOM,IAAP;IACA,IAAMmI,YAAY,GAAG5D,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB9E,KAAlB,CAArB;IAEA,OAAOA,KAAK,CAAC+U,eAAb;IACA,OAAO/U,KAAK,CAACuH,OAAb;IACA,OAAOvH,KAAK,CAACiV,WAAb;IACA,OAAOjV,KAAK,CAACQ,YAAb;IACA,OAAOR,KAAK,CAACiV,WAAb;IACA,OAAOjV,KAAK,CAACgV,aAAb;IACA,OAAOhV,KAAK,CAACmoB,UAAb;IACA,OAAOnoB,KAAK,CAACooB,UAAb;IACA,OAAOpoB,KAAK,CAACqoB,eAAb;IACA,OAAOroB,KAAK,CAACM,IAAb;IAEAmI,YAAY,CAACye,MAAb,GAAoB,QAApB;IACAze,YAAY,CAAC6f,MAAb,GAAoB,oBAApB;IACA7f,YAAY,CAAC8f,SAAb,GAAuB,KAAvB;IAjB0C,uBAmBxBjoB,IAAI,CAAC6M,GAAL,CAAS7M,IAAI,CAACkoB,cAAL,EAAT,EAA+B/f,YAA/B,CAnBwB,iBAmBrCwb,MAnBqC;MAqB3C,OAAOA,MAAM,CAAC/f,IAAd;;GArByB;IAAA;;AAAA,CAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}