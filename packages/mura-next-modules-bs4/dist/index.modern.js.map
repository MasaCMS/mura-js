{"version":3,"file":"index.modern.js","sources":["../src/Video/Youtube.js","../src/Video/Vimeo.js","../src/Video/Wistia.js","../src/Video/ModalVideo.js","../src/Video/Video.js","../src/ItemDate.js","../src/ItemCredits.js","../src/ItemTags.js","../src/OutputMarkup.js","../src/ArticleMeta.js","../src/Collection.js","../src/CollectionNav.js","../src/CollectionLayout.js","../src/CollectionReadMoreBtn.js","../src/ItemImage.js","../src/CollectionLayoutAccordion.js","../src/CollectionLayoutAlternatingBoxes.js","../src/CollectionLayoutAlternatingRows.js","../src/ItemCategories.js","../src/NoItemsMessage.js","../src/CollectionLayoutCards.js","../src/CollectionLayoutList.js","../src/CollectionLayoutMasonry.js","../src/CollectionLayoutSlickSlider.js","../src/Container.js","../src/Hr.js","../src/CTAButton.js","../src/Embed.js","../src/Image.js","../src/Login.js","../src/MatrixSelector.js","../src/PrimaryNav.js","../src/ResourceHub.js","../src/Text.js","../src/PrivacyTools.js","../src/GatedAsset.js","../src/Gist.js"],"sourcesContent":["import React from 'react';\n\nfunction Youtube(props) {\n  const { instanceid, videoid } = props;\n  // z5DqB0cv8uw\n  return (\n    <div className=\"youtubeWrapper\" id={`player-${instanceid}`}>\n      <iframe\n        title=\"Youtube Player\"\n        src={`//www.youtube.com/embed/${videoid}?rel=0&autoplay=0&vq=hd1080&controls=1`}\n        frameBorder=\"0\"\n        allowFullScreen\n      />\n    </div>\n  );\n}\n\nexport default Youtube;","import React from 'react';\n\nfunction Vimeo(props) {\n\tconst { instanceid, videoid } = props;\n\t// 56282283\n\treturn (\n\t  <div className=\"vimeoWrapper\" id={`player-${instanceid}`}>\n\t\t<iframe\n\t\t\tsrc={`https://player.vimeo.com/video/${videoid}`}\n\t\t\twidth=\"960\"\n\t\t\theight=\"540\"\n\t\t\tframeBorder=\"0\"\n\t\t\tallow=\"autoplay; fullscreen\"\n\t\t\tallowFullScreen>\n\t\t</iframe>\t\t\n\t  </div>\n\t);\n}\n\nexport default Vimeo;","import React, {useEffect} from 'react';\nimport Head from 'next/head';\nimport Mura from 'mura.js';\n\nfunction Wistia(props) {\n\tconst { instanceid, videoid } = props;\n\n\tuseEffect(() => {\n\t\tMura.loader().loadjs(\n\t\t\t'https://fast.wistia.net/assets/external/E-v1.js',\n\t\t\t'https://fast.wistia.com/embed/medias/${videoid}.jsonp'\n\t\t);\n\t  }, []);\n\n\t// j38ihh83m5\n\treturn (\n\t  <div className=\"wistiaWrapper\" id={`player-${instanceid}`}>\n\t\t<Head>\n\t\t\t<script src='https://fast.wistia.net/assets/external/E-v1.js'></script>\n\t\t\t<script src={`https://fast.wistia.com/embed/medias/${videoid}.jsonp`}></script>\n\t\t</Head>\n\t\t<div\n\t\t\tclassName=\"wistia_responsive_padding\"\n\t\t\tstyle={{padding: '56.25% 0 0 0',position: 'relative'}}>\n\t\t\t<div\n\t\t\t\tclassName=\"wistia_responsive_wrapper\"\n\t\t\t\tstyle={{height:'100%',left:0,position:'absolute',top:0,width:'100%'}}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`wistia_embed wistia_async_${videoid}`}\n\t\t\t\t\tseo='false'\n\t\t\t\t\tvideofoam='true'\n\t\t\t\t\tstyle={{height:'100%',width:'100%'}}>&nbsp;</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t  </div>\n\t);\n}\n\nexport default Wistia;","import React from 'react';\nimport Head from 'next/head';\n\nconst ModalVideo = ({props,children}) => {\n\n\tconst {modalcta,buttonclass,buttonplayiconsize,buttonctatext,showbuttonplayicon} = props;\n\tconst openPlayer=function(){openVidyardLightbox(props.videoid); return false;};\n\tswitch(modalcta) {\n\t\tcase \"button\":\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={openPlayer}\n\t\t\t\t\tclassName={`btn btn-${buttonclass}`}>\n\t\t\t\t\t{showbuttonplayicon ?\n\t\t\t\t\t\t<i className={`fas fa-play fa-${buttonplayiconsize} align-middle`}></i>\n\t\t\t\t\t\t:\n\t\t\t\t\t\tnull\n\t\t\t\t\t}\n\t\t\t\t\t{buttonctatext}\n\t\t\t\t\t<Head>\n\t\t\t\t\t\n\t\t\t\t\t</Head>\n\t\t\t\t</button>\n\t\t\t)\n\t\t\tbreak;\t\n\n\t\tdefault:\n\t\t\treturn <div>Nah</div>\n\t}\n}\n\nexport default ModalVideo;","import React from 'react';\nimport Youtube from './Youtube';\nimport Vimeo from './Vimeo';\n//import Vidyard from './Vidyard';\nimport Wistia from './Wistia';\nimport ModalVideo from './ModalVideo';\nimport {videoConfig} from './videoConfig';\n\nconst getVideoPlayer = props => {\n  const players = {};\n  players['youtube'] = Youtube(props);\n  players['vimeo'] = Vimeo(props);\n  players['wistia'] = Wistia(props);\n  //players['vidyard'] = Vidyard(props);\n\n  return players[props.videoplatform];\n};\n\nfunction Video(props) {\n\n  const { displaytype, videoid, videoplatform } = props;\n  const {modalsize} = videoConfig;\n  if(typeof videoplatform=='undefined' || !videoplatform.length) {\n    return <div>Video platform missing.</div>\n  }\n  else if(!videoid) {\n    return <div>Video id missing.</div>\n  }\n  else {\n\n    if(displaytype === 'modal') {\n      return (\n      <ModalVideo props={props}>\n        {getVideoPlayer(props)}\n      </ModalVideo>\n      )\n    }\n    else {\n      return getVideoPlayer(props);\n    }\n  }\n}\n\nexport default Video;\n","import React from 'react';\n\nexport const ItemDate = (props) => {\n    let date = '';\n    let formatteddate = '';\n  \n    if(props.releasedate){\n      date = new Date(props.releasedate);\n    } else {\n      date = new Date(props.lastupdate);\n    }\n    //console.log(date);\n    \n    formatteddate = Intl.DateTimeFormat(\"en-US\", {year: \"numeric\",month: \"long\",day: \"2-digit\"}).format(date);\n\n    return (\n        formatteddate\n    )\n  }\n\n  export default ItemDate;","import React from 'react';\n\nconst ItemCredits = (props) => {\n    const Credits = props.credits.split(',');\n    let creditsList = [];\n    let credit = '';\n    // console.log(props.tags);\n    for(let i = 0;i < Credits.length;i++) {\n        credit = Credits[i];\n        creditsList.push(\n            <div className=\"mura-item-meta__credits pb-2\" key={credit}>\n                By: <strong>{credit}</strong>\n            </div>\n        )\n    }\n\n    return creditsList;\n}\n\nexport default ItemCredits;","import React from 'react';\nimport Badge from 'react-bootstrap/Badge';\n\nfunction ItemTags(props){\n    \n    const Tags = props.tags.split(',');;\n    let tagList = [];\n    let tag = '';\n    // console.log(props.tags);\n    for(let i = 0;i < Tags.length;i++) {\n        tag = Tags[i];\n        tagList.push(\n            <Badge variant=\"primary mr-2\" key={tag}>{tag}</Badge>\n        )\n    }\n\n    return tagList;\n\n}\n\nexport default ItemTags;","import React from 'react';\nimport ReactMarkdown from 'react-markdown/with-html';\nimport { getMura, getMuraConfig, Decorator  } from '@murasoftware/next-core';\nimport gfm from 'remark-gfm';\nimport slug from 'remark-slug';\nimport directive from 'remark-directive';\nimport visit from 'unist-util-visit';\nimport h from 'hastscript';\n\nfunction htmlDirectives() {\n    return transform\n  \n    function transform(tree) {\n      visit(tree, ['textDirective', 'leafDirective', 'containerDirective'], ondirective)\n    }\n  \n    function ondirective(node) {\n      var data = node.data || (node.data = {})\n      var hast = h(node.name, node.attributes)\n  \n      data.hName = hast.tagName\n      data.hProperties = hast.properties\n    }\n  }\n\nfunction renderDirective(elem){\n\n    //console.log(elem)\n\n    let tag=elem.node.data.hName;\n    let props= Object.assign({},elem.node.data.hProperties);\n    \n    try{\n        switch(elem.node.data.hName.toLowerCase()){\n            case 'module':\n                tag=Decorator;\n                props['data-render']=\"client\";\n                props.ssr=false;\n             break;\n\n            case 'content':\n\n\n                break;\n\n            case 'content':\n\n\n                break;\n        } \n        if(elem.children.length){\n            return React.createElement(tag, props, elem.children);\n        } else {\n            return React.createElement(tag, props);\n        }\n    } catch(e){\n        console.error(\"error rendering html directive\",e);\n        return '';\n    }\n}\n\nconst renderers = {\n    textDirective:renderDirective,\n    leafDirective:renderDirective,\n    containerDirective:renderDirective,\n    heading:function (elem){\n        return React.createElement('h' + elem.level, elem.node.data.hProperties, elem.children);\n    }\n    \n}\n\nfunction OutputMarkup({source,className}){\n    const parsedSource=getMura().parseStringAsTemplate(source);\n  \n    if(getMuraConfig().ConnectorConfig.htmleditortype == 'markdown'){\n        return(\n            <ReactMarkdown plugins={[gfm,slug,directive,htmlDirectives]} allowDangerousHtml renderers={renderers} children={parsedSource} className={className} />\n        )\n    }\n\n    return(\n        <div dangerouslySetInnerHTML={{__html:parsedSource}} className={className} />\n    )\n    \n}\n\nexport default OutputMarkup;","import React from 'react';\nimport ItemDate from './ItemDate';\nimport ItemCredits from './ItemCredits';\nimport ItemTags from './ItemTags';\nimport OutputMarkup from './OutputMarkup';\n\nconst ArticleMeta = (props) => {\n    // console.log('fields ArticleMeta: ' + props.fields);\n    \n    const fields = props.fields ? props.fields : 'Date,Credits,Tags';\n    const fieldlist = fields ? fields.toLowerCase().split(\",\") : [];\n    const item = props.content;\n    return (\n        <div className=\"pb-4\">\n            {\n                fieldlist.map(field => {\n                    switch(field) {\n                    case \"title\":\n                        return (\n                            <h1 key=\"title\" key={field}>{item.title}</h1>\n                        );\n                    case \"summary\":\n                        return (\n                            <OutputMarkup source={item.summary} className=\"lead\"key={field} />\n                        );\n                    case \"date\":\n                    case \"releasedate\":\n                        return (\n                            <div className=\"mura-item-meta__date\" key=\"date\" key={field}>\n                                <span>Published on: </span> <ItemDate releasedate={item.releasedate} lastupdate={item.lastupdate}></ItemDate>\n                            </div>\n                        );\n                    case \"credits\":\n                        if(item.credits){\n                            return (\n                                <ItemCredits credits={item.credits} key=\"credits\" key={field} />\n                            );\n                        }\n                    case \"tags\":\n                        if(item.tags){\n                            return (\n                                <div className=\"mura-item-meta__tags\" key=\"tags\" key={field}>\n                                    <span>Tags: </span><ItemTags tags={item.tags} key=\"tags\" />\n                                </div>\n                            );\n                        }                        \n                    default:\n                        return <div className={`mura-item-meta__${field}`} key={field} data-value={props.content[field]}>{props.content[field]}</div>\n                    }\n                })\n            }\n        </div>\n    )\n}\n\nexport default ArticleMeta;","import React,{ useState,useEffect } from 'react';\nimport Link from \"next/link\";\nimport { getMura, getMuraConfig, getHref } from '@murasoftware/next-core';\n\nexport const getLayout=function(layout) {\n  const muraConfig =getMuraConfig();\n  const { ComponentRegistry } = muraConfig;\n  const uselayout = (!layout || layout == 'default') ? \"List\" : layout;\n\n  if(typeof ComponentRegistry[uselayout] != 'undefined') {\n    return ComponentRegistry[uselayout];\n  } else {\n    console.log(\"Layout not registered: \",layout);\n    return ComponentRegistry['List'];\n  }\n}\n\n\nfunction getDefaultQueryPropsFromLayout(layout,item){\n  if(layout){\n    return layout.getQueryProps ? layout.getQueryProps(item) : {fields:''};\n  } else {\n    return  {fields:''};\n  }\n}\n\nfunction Collection(props) {\n  const Mura = getMura();\n  const objectparams = Object.assign({}, props);\n  const DynamicCollectionLayout = getLayout(objectparams.layout).component;\n\n  objectparams.fields= getDefaultQueryPropsFromLayout(DynamicCollectionLayout,objectparams).fields || objectparams.fields || 'Image,Date,Title,Summary,Credits,Tags';\n  objectparams.dynamicProps=objectparams.dynamicProps ||  {};\n\n  const _collection=objectparams.dynamicProps.collection ? new Mura.EntityCollection(objectparams.dynamicProps.collection,Mura._requestcontext) : false;\n\n  if(!_collection){\n    const [collection,setCollection]=useState(_collection);\n\n    useEffect(() => {\n      let isMounted = true;\n      if(isMounted){\n        getDynamicProps(objectparams).then((_dynamicProps)=>{\n          if(isMounted){\n            setCollection(new Mura.EntityCollection(_dynamicProps.collection,Mura._requestcontext));\n          }\n        });   \n      }\n      return () => { isMounted = false };\n    }, []);\n\n    if(collection) {\n      return (\n        <DynamicCollectionLayout setCollection={setCollection} collection={collection} props={objectparams} link={RouterlessLink}/>\n      )\n    }\n    else {\n      return (\n       <div></div>\n      )\n    }\n  } else {\n    const [collection,setCollection]=useState(_collection);\n\n    return (\n        <DynamicCollectionLayout setCollection={setCollection} collection={collection} props={props} link={RouterLink}/>\n      )\n  }\n}\n\nexport const RouterlessLink = function({href,children,className}) {\n  return (\n    <a href={getHref(href)} className={className}>\n      {children}\n    </a>\n  );\n}\n\nexport const RouterLink = function({href,children,className}) {\n  return (\n    <Link href={getHref(href)}>\n      <a className={className}>{children}</a>\n    </Link>\n  );\n}\n\nexport const getDynamicProps = async function(item){\n  const Mura = getMura();\n  const getItemsPerPage = function(item){\n    if(Mura.renderMode !='static'){\n      if(typeof item.nextn != 'undefined'){\n       return item.nextn\n      } else if(typeof item.itemsperpage != 'undefined'){\n       return item.itemsperpage;\n      } else {\n        return 0;\n      }\n    } else {\n      return 0;\n    }\n  }\n  const data = {};\n  let cdata = {};\n  let {content} = item;\n\n  if(item.sourcetype === 'children') {\n    const feed = Mura.getFeed('content');\n\n    if(content.getAll) {\n      cdata = content.getAll();\n    }\n    else {\n      cdata = content;\n    }\n\n    feed.andProp('parentid').isEQ(cdata.contentid);\n    feed.fields(getSelectFields(item));\n    feed.expand(getExpandFields(item));\n    feed.maxItems(item.maxitems);;\n    feed.itemsPerPage(getItemsPerPage(item))\n    feed.sort(cdata.sortby,cdata.sortdirection);\n    \n    const query = await feed.getQuery();\n    data.collection = query.getAll();\n  }\n  else if(item.sourcetype === 'relatedcontent') {\n    const src = item.source;\n   \n    if(src==='custom'){\n      if(typeof item.items !='undefined'){\n        if(!Array.isArray(item.items)){\n          try{\n            JSON.parse(item.items);\n          } catch(e){\n            console.log(e)\n            item.items=[];\n          }\n        }\n      } else {\n        item.items=[];\n      }\n\n      if(item.items.length){\n        const related = await Mura.getFeed('content')\n        .where()\n        .fields(getSelectFields(item))\n        .expand(getExpandFields(item))\n        .itemsPerPage(getItemsPerPage(item))\n        .maxItems(item.maxitems)\n        .findMany(item.items)\n        .getQuery();\n        \n        data.collection=related.getAll();\n      } else {\n        data.collection={\n          items: [],\n          totaltems: 0,\n        }\n      }\n    } else {\n      if(!content.getRelatedContent){\n        content=Mura.getEntity(\"content\").set(content);\n      }\n      const related = await content.getRelatedContent(\n        src,\n        {\n          fields:getSelectFields(item),\n          expand:getExpandFields(item),\n          imagesizes:getImageSizes(item),\n          itemsPerPage:getItemsPerPage(item),\n          maxitems:item.maxitems\n        }\n      );\n      data.collection = related.getAll(); \n    }\n    return data;\n  }\n  else if ((\n    typeof item.sourcetype === 'undefined'\n    || item.sourcetype === ''\n    ) \n    ||  (\n      typeof item.sourcetype !== 'undefined' &&\n      item.sourcetype === 'localindex' &&\n      Mura.isUUID(item.source)\n    )\n  ) {\n    const feed = Mura.getFeed('content');\n\n    if(item.source) {\n      feed.andProp('feedid').isEQ(item.source);\n    }\n    feed.fields(getSelectFields(item));\n    feed.expand(getExpandFields(item));\n    feed.imageSizes(getImageSizes(item));\n    feed.maxItems(item.maxitems);\n    feed.itemsPerPage(getItemsPerPage(item));\n\n    //Add stuff like maxitems, nextn\n      \n    const query = await feed.getQuery();\n\n    data.collection = query.getAll();\n  }\n\n  return data;\n};\n\nconst getExpandFields = function(item) {\n\n  const data = getLayout(item.layout).getQueryProps();\n\n  if(data.expand){\n    return data.expand;\n  } else {\n    return '';\n  }\n\n}\n\nconst getImageSizes = function(item) {\n\n  const data = getLayout(item.layout).getQueryProps();\n\n  if(data.imagesizes){\n    return data.imagesizes;\n  } else {\n    return '';\n  }\n\n}\n\nconst getSelectFields = function(item) {\n\n  const data = getLayout(item.layout).getQueryProps(item);\n\n  let fieldlist = '';\n\n  if(data.fields) {\n    fieldlist = data.fields;\n  } else {\n    fieldlist = data.fields ? data.fields  : '';\n  }\n\n  if(!fieldlist){\n    return '';\n  }\n\n  let fieldarray=fieldlist.split(\",\");\n  let hasDate=false;\n  let hasFilename=false;\n  let hasReleaseDate=false;\n  let hasLastUpdate=false;\n  let hasCreated=false;\n  let hasImage=false;\n  let hasFileid=false;\n  let hasContentid=false;\n  let hasContenthistid=false;\n  let hasParentid=false;\n\n  fieldarray=fieldarray.filter(field=>{\n    field=field.toLowerCase();\n    if(field==='filename'){\n      hasFilename=true;\n    } else if(field==='date'){\n      hasDate=true;\n      return false;\n    } else if(field==='image'){\n      hasImage=true;\n      return false;\n    } else if(field==='images'){\n      hasImage=true;\n      return false;\n    } else if(field==='fileid'){\n      hasFileid=true;\n    } else if(field==='contentid'){\n      hasContentid=true;\n    } else if(field==='contenthistid'){\n      hasContenthistid=true;\n    } else if(field==='parentid'){\n      hasParentid=true;\n    } \n    return true;\n  });\n\n  //There is no generic date field.  If selected these are the options\n  if(hasDate){\n    if(!hasReleaseDate){\n      fieldarray.push('releasedate');\n    } \n    if(!hasLastUpdate){\n      fieldarray.push('lastupdate');\n    }\n    if(!hasCreated){\n      fieldarray.push('created');\n    }\n  }\n  if(hasImage){\n    if(!hasFileid){\n      fieldarray.push('fileid');\n    }\n    fieldarray.push('images');\n  }\n  if(!hasFilename){\n    fieldarray.push('filename');\n  }\n  if(!hasContentid){\n    fieldarray.push('contentid');\n  }\n  if(!hasContenthistid){\n    fieldarray.push('contenthistid');\n  }\n  if(!hasParentid){\n    fieldarray.push('parentid');\n  }\n  return fieldarray.join(',').toLowerCase();\n}\n\n\nexport default Collection;","import Mura from 'mura.js';\nimport React, {useState,useEffect} from \"react\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronRight, faLaptopHouse } from '@fortawesome/free-solid-svg-icons'\nimport { faChevronLeft } from '@fortawesome/free-solid-svg-icons'\n\nconst CollectionNav = (props) => {\n\tlet nav = [];\n\tconst {collection,setCollection,pos,nextn,setPos,scrollpages,instanceid,itemsTo,setItemsTo} = props;\n\n\n\tif(Mura.renderMode == 'static'){\n\t\tconst items = collection.get('items');\n\t\tconst maxItems = props.maxitems;\n\t\tconst next = pos+nextn;\n\t\tconst prev = pos > 0 ? pos-nextn > 0 ? pos-nextn : 0 : 0;\n\t\tlet itemsOf = pos+nextn > items.length ? items.length : pos+nextn;\n\t\tlet itemsToMax = items.length >= maxItems ? maxItems : items.length\n\t\t\n\t\tif (maxItems < items.length && pos+nextn > maxItems){\n\t\t\titemsToMax = maxItems;\n\t\t}\n\n\t\tif(scrollpages){\n\t\t\tif(Mura.isInNode()){\n\t\t\t\tconst isEndVisible = () => {\n\t\t\t\t\tconst end=Mura(`div.mura-collection-end[data-instanceid=\"${instanceid}\"]`);\n\t\t\t\t\tif(itemsTo  && maxItems && Mura.isScrolledIntoView(end.node)){\n\t\t\t\t\t\tif(itemsTo < (maxItems)){\n\t\t\t\t\t\t\tsetItemsTo(itemsTo+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(itemsTo < (maxItems)){\n\t\t\t\t\t\tsetTimeout(isEndVisible,50);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tMura(isEndVisible);\n\t\t\t}\t\t\n\n\t\t\treturn (\n\t\t\t\t<div className=\"mura-collection-end\" data-instanceid={instanceid}/>\n\t\t\t)\n\t\t}\n\n\t\tif(pos > 0) {\n\t\t\tnav.push (\n\t\t\t<NavButton key=\"prev\" pos={pos} val={prev} onItemClick={setPos} label=\"Prev\"/>\n\t\t\t)\n\t\t}\n\t\t\n\t\tif(next<itemsToMax) {\n\t\t\tnav.push (\n\t\t\t<NavButton key=\"next\" pos={pos} val={next} onItemClick={setPos} label=\"Next\"/>\n\t\t\t)\n\t\t}\n\t\t\n\t\tif(nav.length){\n\t\t\treturn (\n\t\t\t<div>\n\t\t\t\t<p>Displaying items {pos+1}-{itemsOf} of {itemsToMax}</p>\n\t\t\t\t<ul className=\"pagination\">\n\t\t\t\t\t{nav}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\n\t} else {\n\n\t\tif(\n\t\t\t((typeof scrollpages === 'boolean' || typeof scrollpages === 'number') && scrollpages)\n\t\t\t|| ( typeof scrollpages === 'string' && scrollpages.toLocaleLowerCase() === 'true' )\n\t\t){\t\n\n\t\t\tconst [endindex,setEndindex]=useState(0);\n\t\n\t\t\tconst isEndVisible = () => {\n\t\t\t\tconst end=Mura(`div.mura-collection-end[data-instanceid=\"${instanceid}\"]`);\n\t\t\t\tif(collection.has('next')){\n\t\t\t\t\tif(Mura.isScrolledIntoView(end.node) &&  endindex != collection.get('endindex')){\n\t\t\t\t\t\tsetEndindex(collection.get('endindex'));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetTimeout(isEndVisible,50);\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tuseEffect(()=>{\n\t\t\t\tlet isMounted = true;\n\t\t\t\tif(isMounted){\n\t\t\t\t\tcollection.get('next').then(function(_collection){\n\t\t\t\t\t\tlet incoming=_collection.getAll();\n\n\t\t\t\t\t\tcollection.getAll().items.reverse().forEach((item)=>{\n\t\t\t\t\t\t\tincoming.items.unshift(item);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsetCollection(new Mura.EntityCollection(incoming,Mura._requestcontext));\n\t\t\t\t\t\tsetTimeout(isEndVisible,50);\n\t\t\t\t\t});\t\n\t\t\t\t}\n\t\t\t\treturn () => { isMounted = false };\n\t\t\t},[endindex]);\n\n\t\t\tif(!Mura.isInNode()){\t\t\t\t\n\t\t\t\tMura(isEndVisible);\n\t\t\t}\n\t\t\t\t\n\t\t\treturn (\n\t\t\t\t<div className=\"mura-collection-end\" data-instanceid={instanceid}/>\n\t\t\t)\n\t\t} else {\n\n\t\t\tconst goToPage = function(page){\n\t\t\t\tlet isMounted = true;\n\t\t\t\tif(isMounted){\n\t\t\t\t\tcollection.get(page).then(function(_collection){\n\t\t\t\t\t\tif(isMounted){\n\t\t\t\t\t\t\tsetCollection(_collection);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn () => { isMounted = false };\n\t\t\t}\n\n\t\t\tif(collection.has('previous')) {\n\t\t\t\tnav.push (\n\t\t\t\t<NavButton key=\"prev\" val=\"previous\" onItemClick={goToPage} label=\"Prev\"/>\n\t\t\t\t)\n\t\t\t}\n\t\t\t\n\t\t\tif(collection.has('next')) {\n\t\t\t\tnav.push (\n\t\t\t\t<NavButton key=\"next\" val=\"next\" onItemClick={goToPage} label=\"Next\"/>\n\t\t\t\t)\n\t\t\t}\n\n\t\t}\n\n\t\tif(nav.length){\n\t\t\treturn (\n\t\t\t<div>\n\t\t\t\t<p>Displaying items {collection.get('startindex')}-{collection.get('endindex')} of {collection.get('totalitems')}</p>\n\t\t\t\t<ul className=\"pagination\">\n\t\t\t\t\t{nav}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t}\n\n  }\n  \n  const NavButton = props => {\n\tlet {val,onItemClick} = props;\n  \n\tconst _onClick = () => {\n\t  onItemClick(val);\n\t}\n\n\t\n\treturn (\n\t  <li className=\"page-item\">\n\t  \t<a onClick={_onClick} className=\"page-link\" aria-label={props.label}><NavButtonLabel label={props.label} /></a>\n\t  </li>\n\t)\n  }\n\n  const NavButtonLabel = props => {\n\tif (props.label == 'Next'){\n\t\treturn(\n\t\t\t<>\n\t\t\t\t{props.label} <FontAwesomeIcon icon={faChevronRight} />\n\t\t  \t</>\n\t\t)\n\t} else {\n\t\treturn(\n\t\t\t<>\n\t\t\t\t<FontAwesomeIcon icon={faChevronLeft} /> {props.label}\n\t\t  \t</>\n\t\t)\n\t}\n  }\n  \n  export default CollectionNav;","import React,{ useEffect,useState } from \"react\";\nimport OutputMarkup from \"./OutputMarkup\";\nimport CollectionNav from './CollectionNav';\nimport { getMura } from '@murasoftware/next-core';\n\nconst CollectionLayout = ({props,collection,setCollection,link}) => {\n  const {nextn} = props;\n  const items = collection.get('items');\n  const [pos, setPos] = useState(0);\n  const [itemsTo,setItemsTo]= useState((pos+nextn > items.length ? items.length : pos+nextn));\n\n  useEffect(()=>{\n    setItemsTo((pos+nextn > items.length ? items.length : pos+nextn));\n  },[pos]);\n  \n  return (\n    <div>\n      <ul style={{'listStyle': 'none'}}>\n        <CurrentItems collection={collection}  itemsTo={itemsTo} pos={pos} link={link} {...props} />\n      </ul>\n      <CollectionNav setCollection={setCollection} collection={collection}  itemsTo={itemsTo}  setItemsTo={setItemsTo} pos={pos} setPos={setPos} link={link} {...props} />   \n    </div>\n  )\n}\n\nconst CurrentItems = (props) => {\n  const {collection,link,pos,itemsTo,scrollpages} = props;\n  let itemsList = [];\n  let item = '';\n  const Link = link;\n  const items = collection.get('items');\n\n  if(getMura().renderMode != 'static' && scrollpages){\n    itemsTo=items.length;\n  } else {\n    if (maxItems < items.length && pos+nextn > maxItems){\n      itemsTo = maxItems;\n    }\n  }\n\n  for(let i = pos;i < itemsTo;i++) {\n    item = items[i];\n    itemsList.push(\n    <li key={item.get('contentid')}>\n        <h1>\n          <Link href={`/${item.get('filename')}`}>\n            {item.get('title')}\n          </Link>\n        </h1>\n        <OutputMarkup source={item.get('summary')}/>\n    </li>\n    );\n  }\n\n  return itemsList;\n}\n\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = () => {\n  const data = {};\n  \n  /*\n    You wouldn't really need to set this because\n    both of these are available in the default field list\n  */\n  data['fields'] = \"title,summary\";\n\n  return data;\n};\n\nexport default CollectionLayout;","\nimport React from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons'\n\nconst CollectionReadMoreBtn = (props) => {\n    const Link = props.link;\n    return (\n        <Link href={props.href} passHref className=\"stretched-link btn btn-primary\">{props.ctatext}  <FontAwesomeIcon icon={faChevronRight} /></Link>\n    )\n  }\n\nexport default CollectionReadMoreBtn;","import React from 'react';\n\nexport const ItemImage = function ({image,className,alt}){\n    const itemImage = image;\n    if(typeof itemImage != 'undefined' && itemImage){\n        return(\n            <img\n                src={itemImage}\n                alt={alt}\n                className={className}\n            />\n        )\n    }\n    return null;\n}\n\nexport default ItemImage;","import React, { useState } from \"react\";\nimport OutputMarkup from \"./OutputMarkup\";\nimport CollectionNav from './CollectionNav';\nimport ItemDate from './ItemDate';\nimport Accordion from \"react-bootstrap/Accordion\";\nimport Card from \"react-bootstrap/Card\";\nimport CollectionReadMoreBtn from \"./CollectionReadMoreBtn\";\nimport ItemCredits from './ItemCredits';\nimport ItemTags from './ItemTags';\nimport ItemImage from './ItemImage';\nimport { getMura } from '@murasoftware/next-core';\n/*\n  The link component throws an error when rerending after being \n  reconfigured in edit mode. Hence CollectionLink\n*/\n\nexport const CollectionLayoutAccordian = ({props,collection,setCollection,link}) => {\n  const [pos, setPos] = useState(0);\n  return (\n    <>\n      <Accordion className={`collectionLayoutAccordion ${props.accordionpadding}-spacing ${props.collapseindicators} ${props.collapseindicatorslocation}-indicator`}>\n        <CurrentItems collection={collection} pos={pos} link={link} {...props} /> \n      </Accordion>\n\n      <div className=\"row\">\n        <div className=\"col-12\">\n        <CollectionNav setCollection={setCollection} collection={collection} pos={pos} setPos={setPos} link={link} {...props} />\n        </div>\n      </div>\n    </>\n  )\n}\n\nconst CurrentItems = (props) => {\n  const {collection,nextn,link,pos,fields,scrollpages} = props;\n  let itemsList = [];\n  let item = '';\n  const Link = link;\n  const items = collection.get('items');\n  let itemsTo = pos+nextn > items.length ? items.length : pos+nextn;\n  const fieldlist = fields ? fields.toLowerCase().split(\",\") : [];\n  const maxItems = props.maxitems;\n  // console.log('fieldlist: ' + fieldlist);\n\n  if(getMura().renderMode != 'static' && scrollpages){\n    itemsTo=items.length;\n  } else {\n    if (maxItems < items.length && pos+nextn > maxItems){\n      itemsTo = maxItems;\n    }\n  }\n\n  const [activeId, setActiveId] = useState('0');\n\n  function toggleActive(id) {\n    if (activeId === id) {\n      setActiveId(null);\n    } else {\n      setActiveId(id);\n    }\n  }\n\n  // console.log(fieldlist);\n  //console.log(\"image size: \" + props.imagesize);\n\n  for(let i = pos;i < itemsTo;i++) {\n    item = items[i];\n    itemsList.push(\n      <Card key={item.get('contentid')}>\n        <Accordion.Toggle as={Card.Header} variant=\"link\" eventKey={item.get('contentid')} className={activeId === i ? 'open' : 'not-open'} onClick={() => toggleActive(i)} role=\"button\">\n          {item.get('title')}\n        </Accordion.Toggle>\n        <Accordion.Collapse eventKey={item.get('contentid')}>\n          <Card.Body>\n            {\n                fieldlist.map(field => {\n                  switch(field) {\n                    case \"image\":\n                        return(\n                          <ItemImage image={item.get('images')[props.imagesize]} className=\"img-fluid\" alt={item.get('title')} key=\"image\" />\n                        );\n                    case \"date\":\n                    case \"releasedate\":\n                        return (\n                          <div className=\"mura-item-meta__date\" key={field}>\n                            <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                          </div>\n                        );\n                    case \"summary\":\n                      return <OutputMarkup source={item.get('summary')} key={field} />\n                    case \"readmore\":\n                          return (\n                            <CollectionReadMoreBtn\n                              href={`/${item.get('filename')}`}\n                              ctatext=\"Read More\"\n                              link={Link}\n                              key={field}\n                            />\n                          )\n                    case \"credits\":\n                        if(item.get('credits').length){\n                          return (\n                            <div className=\"mura-item-meta__credits\">\n                              <ItemCredits credits={item.get('credits')} key=\"credits\" />\n                            </div>\n                          );\n                        }\n                        return null;\n                    case \"tags\":\n                        return (\n                            <div className=\"mura-item-meta__tags pb-2\" key=\"tags\">\n                              <ItemTags tags={item.get('tags')} />\n                            </div>\n                        );\n                    default:\n                      return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n                  }        \n                })\n            }\n          </Card.Body>\n        </Accordion.Collapse>\n      </Card>\n    );\n  }\n\n  return itemsList;\n}\n\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = () => {\n  const data = {};\n  data['fields'] = \"title,summary\";\n\n  return data;\n};\n\nexport default CollectionLayoutAccordian;","import React, { useState } from \"react\";\nimport Card from 'react-bootstrap/Card';\nimport OutputMarkup from \"./OutputMarkup\";\nimport CollectionNav from './CollectionNav';\nimport ItemDate from './ItemDate';\nimport CollectionReadMoreBtn from \"./CollectionReadMoreBtn\";\nimport ItemCredits from './ItemCredits';\nimport ItemTags from './ItemTags';\nimport { getMura } from '@murasoftware/next-core';\n\n/*\n  The link component throws an error when rerending after being \n  reconfigured in edit mode. Hence CollectionLink\n*/\nconst AlternatingBoxes = ({props,collection,setCollection,link}) => {\n  const [pos, setPos] = useState(0);\n  return (\n    <>\n      <div className=\"collectionLayoutAlternatingBoxes\">\n          <CurrentItems collection={collection} pos={pos} link={link} {...props} /> \n      </div>\n      <div className=\"row\">\n        <div className=\"col-12\">\n        <CollectionNav setCollection={setCollection} collection={collection} pos={pos} setPos={setPos} link={link} {...props} />\n        </div>\n      </div>\n    </>\n  )\n}\n\nconst CurrentItems = (props) => {\n  const {collection,nextn,link,pos,fields,scrollpages} = props;\n  let itemsList = [];\n  let item = '';\n  const Link = link;\n  const items = collection.get('items');\n  let itemsTo = pos+nextn > items.length ? items.length : pos+nextn;\n  const fieldlist = fields ? fields.toLowerCase().split(\",\") : [];\n  const maxItems = props.maxitems;\n  // console.log('fieldlist: ' + fieldlist);\n\n  if(getMura().renderMode != 'static' && scrollpages){\n    itemsTo=items.length;\n  } else {\n    if (maxItems < items.length && pos+nextn > maxItems){\n      itemsTo = maxItems;\n    }\n  }\n  \n  for(let i = pos;i < itemsTo;i++) {\n    item = items[i];\n    itemsList.push(\n\n      <Card className=\"border-0\" key={item.get('contentid')}>\n        <div className=\"row no-gutters align-items-stretch\">\n          <div className={`col-12 col-md-6 ${i % 2 == 0 ? \"card-img-left\" : \"card-img-right  order-md-2\"}`}>\n            <Card.Img variant=\"top\" src={item.get('images')[props.imagesize]} className=\"rounded-0\" />\n          </div>\n          <div className=\"col-12 col-md-6 p-0\">\n            <Card.Body className=\"spacing-normal h-100\">\n              <div className=\"mura-item-meta\">\n                {\n                fieldlist.map(field => {\n                  switch(field) {\n                    case \"title\":\n                      return (\n                        <Card.Title key={field}>{item.get('title')}</Card.Title>\n                      )\n                    case \"date\":\n                    case \"releasedate\":\n                        return (\n                          <div className=\"mura-item-meta__date\" key=\"date\">\n                            <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                          </div>\n                        );\n                    case \"summary\":\n                      return <OutputMarkup source={item.get('summary')} key={field} />\n                    case \"readmore\":\n                      return(\n                        <CollectionReadMoreBtn\n                          href={`/${item.get('filename')}`}\n                          ctatext=\"Read More\"\n                          link={Link}\n                          key={item.get('contentid')}\n                        />\n                      );\n                    case \"credits\":\n                        if(item.get('credits').length){\n                          return (\n                            <div className=\"mura-item-meta__credits\">\n                              <ItemCredits credits={item.get('credits')} key=\"credits\" />\n                            </div>\n                          );\n                        }\n                        return null;\n                    case \"tags\":\n                        return (\n                            <div className=\"mura-item-meta__tags pb-2\" key=\"tags\">\n                              <ItemTags tags={item.get('tags')} />\n                            </div>\n                        );\n                    default:\n                      return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n                  }        \n                })\n                }\n              </div>\n            </Card.Body>\n          </div>\n        </div>\n      </Card>\n    );\n  }\n\n  return itemsList;\n}\n\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = () => {\n  const data = {};\n  data['fields'] = \"title,summary\";\n\n  return data;\n};\n\nexport default AlternatingBoxes;","import React, { useState } from \"react\";\nimport Card from 'react-bootstrap/Card';\nimport OutputMarkup from \"./OutputMarkup\";\nimport CollectionNav from './CollectionNav';\nimport ItemDate from './ItemDate';\nimport CollectionReadMoreBtn from './CollectionReadMoreBtn';\nimport ItemCredits from './ItemCredits';\nimport ItemTags from './ItemTags';\nimport { getMura } from '@murasoftware/next-core';\n/*\n  The link component throws an error when rerending after being \n  reconfigured in edit mode. Hence CollectionLink\n*/\nconst AlternatingRows = ({props,collection,setCollection,link}) => {\n  const [pos, setPos] = useState(0);\n  return (\n    <>\n      <div className=\"collectionLayoutAlternatingBoxes\">\n          <CurrentItems collection={collection} pos={pos} link={link} {...props} /> \n      </div>\n      <div className=\"row\">\n        <div className=\"col-12\">\n        <CollectionNav setCollection={setCollection} collection={collection} pos={pos} setPos={setPos} link={link} {...props} />\n        </div>\n      </div>\n    </>\n  )\n}\n\nconst CurrentItems = (props) => {\n  const {collection,nextn,link,pos,fields,scrollpages} = props;\n  let itemsList = [];\n  let item = '';\n  const Link = link;\n  const items = collection.get('items');\n  let itemsTo = pos+nextn > items.length ? items.length : pos+nextn;\n  const fieldlist = fields ? fields.toLowerCase().split(\",\") : [];\n  const maxItems = props.maxitems;\n  // console.log('fieldlist: ' + fieldlist);\n\n  if(getMura().renderMode != 'static' && scrollpages){\n    itemsTo=items.length;\n  } else {\n    if (maxItems < items.length && pos+nextn > maxItems){\n      itemsTo = maxItems;\n    }\n  }\n  \n  for(let i = pos;i < itemsTo;i++) {\n    item = items[i];\n    itemsList.push(\n    \n    <div className=\"mb-4\" key={item.get('contentid')}>\n      <Card className=\"mb-3 h-100 shadow\">\n        <div className=\"row no-gutters align-items-stretch\">\n          <div className={`col-12 col-md-6 ${i % 2 == 0 ? \"card-img-left\" : \"card-img-right  order-md-2\"}`}>\n            <Card.Img variant=\"top\" src={item.get('images')[props.imagesize]} />\n          </div>\n          <div className=\"col-12 col-md-6 p-0\">\n            <Card.Body className=\"spacing-normal h-100\">\n              <div className=\"mura-item-meta\">\n                {\n                fieldlist.map(field => {\n                  switch(field) {\n                    case \"title\":\n                      return (\n                        <Card.Title key={field}>{item.get('title')}</Card.Title>\n                      )\n                    case \"date\":\n                    case \"releasedate\":\n                        return (\n                          <div className=\"mura-item-meta__date\" key=\"date\">\n                            <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                          </div>\n                        );\n                    case \"summary\":\n                      return <OutputMarkup source={item.get('summary')} key={field} />\n                    case \"readmore\":\n                      return(\n                        <CollectionReadMoreBtn\n                          href={`/${item.get('filename')}`}\n                          ctatext=\"Read More\"\n                          link={Link}\n                          key={item.get('contentid')}\n                        />\n                      );\n                    case \"credits\":\n                        if(item.get('credits').length){\n                          return (\n                            <div className=\"mura-item-meta__credits\">\n                              <ItemCredits credits={item.get('credits')} key=\"credits\" />\n                            </div>\n                          );\n                        }\n                        return null;\n                    case \"tags\":\n                        return (\n                            <div className=\"mura-item-meta__tags pb-2\" key=\"tags\">\n                              <ItemTags tags={item.get('tags')} />\n                            </div>\n                        );\n                    default:\n                      return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n                  }        \n                })\n                }\n              </div>\n            </Card.Body>\n          </div>\n        </div>\n      </Card>\n    </div>\n    );\n  }\n\n  return itemsList;\n}\n\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = () => {\n  const data = {};\n  data['fields'] = \"title,summary\";\n\n  return data;\n};\n\nexport default AlternatingRows;","import React from \"react\";\n\nconst ItemCategories = (props) => {\n    const Categories = props.categories;\n    // console.log('category assignments ItemCategories: ', Categories);\n    let catsList = [];\n    let cat = '';\n    const cats = Categories.items;\n    let catsTo = cats.length;\n    let hasnext = false;\n  \n    // console.log('getCategories categories: ' + JSON.stringify(cats, undefined, 2));\n    \n    if (cats.length){\n        for(let i = 0;i < catsTo;i++) {\n        cat = cats[i];\n        hasnext = i+1 < catsTo;\n  \n        catsList.push(\n          <span key={cat.categoryid}>{cat.categoryname}{hasnext && `, ` }</span>\n        )\n  \n      }\n      return catsList;\n    }\n    return (\n      <span>No Categories</span>\n    )\n}\n\nexport default ItemCategories;","import React from 'react';\n\nfunction CheckForItems() {\n    return(\n        <div className=\"alert alert-warning\">No results to display.</div>\n    )\n}\n\nexport default CheckForItems;","import React, { useState } from \"react\";\nimport Card from 'react-bootstrap/Card';\nimport OutputMarkup from \"./OutputMarkup\";\nimport CollectionNav from './CollectionNav';\nimport ItemDate from './ItemDate';\nimport CollectionReadMoreBtn from './CollectionReadMoreBtn';\nimport ItemCategories from './ItemCategories';\nimport NoItemsMessage from './NoItemsMessage';\nimport { getMura } from '@murasoftware/next-core';\n/*\n  The link component throws an error when rerending after being \n  reconfigured in edit mode. Hence CollectionLink\n*/\nconst Cards = ({props,collection,setCollection,link}) => {\n  const [pos, setPos] = useState(0);\n  if (!collection.properties.totalpages){\n    return(\n      <NoItemsMessage />\n    )\n  }  \n\n  return (\n    <>\n      <div className={`row collectionLayoutCards row-cols-1 row-cols-sm-${props.rowcolssm} row-cols-md-${props.rowcolsmd} row-cols-lg-${props.rowcolslg} row-cols-xl-${props.rowcolsxl}`}>\n          <CurrentItems collection={collection} pos={pos} link={link} {...props} /> \n      </div>\n      <div className=\"row\">\n        <div className=\"col-12\">\n        <CollectionNav setCollection={setCollection} collection={collection} pos={pos} setPos={setPos} link={link} {...props} />\n        </div>\n      </div>\n    </>\n  )\n}\n\nconst CurrentItems = (props) => {\n  const {collection,nextn,link,pos,fields,scrollpages} = props;\n  let itemsList = [];\n  let item = '';\n  const Link = link;\n  const items = collection.get('items');\n  let itemsTo = pos+nextn > items.length ? items.length : pos+nextn;\n  const fieldlist = fields ? fields.toLowerCase().split(\",\") : [];\n  const maxItems = props.maxitems;\n  // console.log('fieldlist: ' + fieldlist);\n  let catAssignments = [];\n\n  if(getMura().renderMode != 'static' && scrollpages){\n    itemsTo=items.length;\n  } else {\n    if (maxItems < items.length && pos+nextn > maxItems){\n      itemsTo = maxItems;\n    }\n  }\n\n  for(let i = pos;i < itemsTo;i++) {\n    item = items[i];\n    //categoryassignments require the feed to be expanded to include them\n    //the feed in resource hub is expanded but collection is not\n    catAssignments = item.getAll().categoryassignments;\n    \n    itemsList.push(    \n    <div className=\"col mb-4\" key={item.get('contentid')}>\n      <Card className=\"mb-3 h-100 shadow\">\n        {\n          fieldlist.filter(field => field == 'image').map(filteredField => (\n            <Card.Img variant=\"top\" src={item.get('images')[props.imagesize]} key={item.get('fileid')} />\n          ))\n        }\n        <Card.Body>\n          <div className=\"mura-item-meta\">\n            {\n            fieldlist.map(field => {\n              switch(field) {\n                case \"title\":\n                  return (\n                    <Card.Title key={field}>{item.get('title')}</Card.Title>\n                  )\n                case \"date\":\n                case \"releasedate\":\n                    return (\n                      <div className=\"mura-item-meta__date\" key={`date${item.get('contentid')}`}>\n                        <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                      </div>\n                    );\n                case \"summary\":\n                  return <OutputMarkup source={item.get('summary')} key={field} />\n                default:\n                  return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n              }        \n            })\n            }\n          </div>\n        </Card.Body>\n        <Card.Footer>\n          <CollectionReadMoreBtn\n            href={`/${item.get('filename')}`}\n            ctatext=\"Read More\"\n            link={Link}\n            key={item.get('contentid')}\n          />\n          \n          {catAssignments &&\n            <>\n              <hr />\n              <Card.Text key=\"categories\"><ItemCategories categories={catAssignments} /></Card.Text>\n            </>\n          }\n        </Card.Footer>\n\n      </Card>\n    </div>\n    );\n  }\n  return itemsList;\n}\n\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = () => {\n  const data = {};\n  data['fields'] = \"title,summary\";\n\n  return data;\n};\n\nexport default Cards;","import React, { useState } from \"react\";\nimport OutputMarkup from \"./OutputMarkup\";\nimport CollectionNav from './CollectionNav';\nimport ItemDate from './ItemDate';\nimport CollectionReadMoreBtn from './CollectionReadMoreBtn';\nimport ItemCredits from './ItemCredits';\nimport ItemTags from './ItemTags';\nimport ItemImage from './ItemImage';\nimport { getMura } from '@murasoftware/next-core';\n\n/*\n  The link component throws an error when rerending after being \n  reconfigured in edit mode. Hence CollectionLink\n*/\nconst List = ({props,collection,setCollection,link}) => {\n  const [pos, setPos] = useState(0);\n  return (\n    <>\n      <CurrentItems collection={collection} pos={pos} link={link} {...props} /> \n      \n      <div className=\"row\">\n        <div className=\"col-12\">\n        <CollectionNav setCollection={setCollection} collection={collection} pos={pos} setPos={setPos} link={link} {...props} />\n        </div>\n      </div>\n    </>\n  )\n}\n\nconst CurrentItems = (props) => {\n  const {collection,nextn,link,pos,fields,scrollpages} = props;\n  let itemsList = [];\n  let item = '';\n  const Link = link;\n  const items = collection.get('items');\n  let itemsTo = pos+nextn > items.length ? items.length : pos+nextn;\n  const fieldlist = fields ? fields.toLowerCase().split(\",\") : [];\n  const maxItems = props.maxitems;\n  // console.log('fieldlist: ' + fieldlist);\n\n  if(getMura().renderMode != 'static' && scrollpages){\n    itemsTo=items.length;\n  } else {\n    if (maxItems < items.length && pos+nextn > maxItems){\n      itemsTo = maxItems;\n    }\n  }\n  \n  for(let i = pos;i < itemsTo;i++) {\n    item = items[i];\n    // console.log(item);\n\n    itemsList.push(\n      <div className=\"row mb-3\" key={item.get('contentid')}>\n        <ListImage fieldlist={fieldlist} item={item} imagesize={props.imagesize} />\n        <ListMeta fieldlist={fieldlist} item={item} Link={Link} />\n      </div>\n    );\n  }\n\n  return itemsList;\n}\n\nconst ListImage = (props) => {\n  const {fieldlist, item} = props;\n\n  let hasImage = false;\n  if (fieldlist.indexOf(\"image\") > -1) {\n    hasImage = true;\n  }\n  if(hasImage) {\n    const imagesize= props.imagesize || 'medium';\n    return(\n      <div className=\"col-12 col-md-3 mb-3 pr-md-0\">\n          <ItemImage image={item.get('images')[imagesize]} className=\"img-fluid\" alt={item.get('title')} key=\"image\" />\n      </div>\n    )  \n  }\n  return(\n    <></>\n  )\n}\n\nconst ListMeta = (props) => {\n  const {fieldlist, item, Link} = props;\n\n  let hasImage = false;\n  if (fieldlist.indexOf(\"image\") > -1) {\n    hasImage = true;\n  }\n\n  let isLink = false;\n  if (item.get('type') === \"Link\") {\n    isLink = true;\n  }\n  // console.log(item.get('type'));\n  return(\n    <div className={hasImage ? 'col-12 col-md-9 py-3' : 'col-12 py-3'}>\n        <div className=\"mura-item-meta\">\n        {\n            fieldlist.map(field => {\n              switch(field) {\n                case \"title\":\n                  return (\n                    <div className=\"mura-item-meta__title\" key={item.get('field')}>\n                      <h3>{item.get('title')}</h3>\n                    </div>\n                  )\n                case \"date\":\n                case \"releasedate\":\n                    return (\n                      <div className=\"mura-item-meta__date\" key=\"date\">\n                        <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                      </div>\n                    );\n                case \"summary\":\n                  return <OutputMarkup source={item.get('summary')} key={field} />\n                case \"readmore\":\n                      return (\n                        <div className=\"mura-item-meta__readmore\" key={field}>\n                          <CollectionReadMoreBtn\n                            href={`/${item.get('filename')}`}\n                            ctatext=\"Read More\"\n                            link={Link}\n                            key={item.get('contentid')}\n                          />\n                        </div>\n                      )\n                case \"credits\":\n                    if(item.get('credits').length){\n                      return (\n                        <div className=\"mura-item-meta__credits\">\n                          <ItemCredits credits={item.get('credits')} key=\"credits\" />\n                        </div>\n                      );\n                    }\n                    return null;\n                case \"tags\":\n                    return (\n                        <div className=\"mura-item-meta__tags pb-2\" key=\"tags\">\n                          <ItemTags tags={item.get('tags')} />\n                        </div>\n                    );\n                default:\n                  return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n              }        \n            })\n        }\n        </div>\n      </div>\n  )\n}\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = (item) => {\n  const data = {};\n  data['fields'] = \"\";\n\n  return data;\n};\n\nexport default List;","import React, { useState } from \"react\";\nimport Card from 'react-bootstrap/Card';\nimport OutputMarkup from \"./OutputMarkup\";\nimport CollectionNav from './CollectionNav';\nimport ItemDate from './ItemDate';\nimport CollectionReadMoreBtn from './CollectionReadMoreBtn';\nimport ItemCredits from './ItemCredits';\nimport ItemTags from './ItemTags';\nimport { getMura } from '@murasoftware/next-core';\n\n/*\n  The link component throws an error when rerending after being \n  reconfigured in edit mode. Hence CollectionLink\n*/\nconst Masonry = ({props,collection,setCollection,link}) => {\n  const [pos, setPos] = useState(0);\n  return (\n    <>\n      <div className={`collectionLayoutMasonry card-columns`}>\n          <CurrentItems collection={collection} pos={pos} link={link} {...props} /> \n      </div>\n      <div className=\"row\">\n        <div className=\"col-12\">\n        <CollectionNav setCollection={setCollection} collection={collection} pos={pos} setPos={setPos} link={link} {...props} />\n        </div>\n      </div>\n    </>\n  )\n}\n\nconst CurrentItems = (props) => {\n  const {collection,nextn,link,pos,fields,scrollpages} = props;\n  let itemsList = [];\n  let item = '';\n  const Link = link;\n  const items = collection.get('items');\n  let itemsTo = pos+nextn > items.length ? items.length : pos+nextn;\n  const fieldlist = fields ? fields.toLowerCase().split(\",\") : [];\n  const maxItems = props.maxitems;\n  // console.log('fieldlist: ' + fieldlist);\n\n  if(getMura().renderMode != 'static' && scrollpages){\n    itemsTo=items.length;\n  } else {\n    if (maxItems < items.length && pos+nextn > maxItems){\n      itemsTo = maxItems;\n    }\n  }\n  \n  for(let i = pos;i < itemsTo;i++) {\n    item = items[i];\n    itemsList.push(\n      \n      <Card className=\"mb-3 h-100 shadow\" key={item.get('contentid')}>\n        {\n          fieldlist.filter(field => field == 'image').map(filteredField => (\n            <Card.Img variant=\"top\" src={item.get('images')[props.imagesize]} key={item.get('fileid')} />\n          ))\n        }\n        <Card.Body>\n          <div className=\"mura-item-meta\">\n            {\n            fieldlist.map(field => {\n              switch(field) {\n                case \"title\":\n                  return (\n                    <Card.Title key={field}>{item.get('title')}</Card.Title>\n                  )\n                case \"date\":\n                case \"releasedate\":\n                    return (\n                      <div className=\"mura-item-meta__date\" key=\"date\">\n                        <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                      </div>\n                    );\n                case \"summary\":\n                  return <OutputMarkup source={item.get('summary')} key={field} />\n                case \"credits\":\n                    if(item.get('credits').length){\n                      return (\n                        <div className=\"mura-item-meta__credits\">\n                          <ItemCredits credits={item.get('credits')} key=\"credits\" />\n                        </div>\n                      );\n                    }\n                    return null;\n                case \"tags\":\n                    return (\n                        <div className=\"mura-item-meta__tags pb-2\" key=\"tags\">\n                          <ItemTags tags={item.get('tags')} />\n                        </div>\n                    );\n                default:\n                  return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n              }        \n            })\n            }\n          </div>\n        </Card.Body>\n        <Card.Footer>\n          <CollectionReadMoreBtn\n            href={`/${item.get('filename')}`}\n            ctatext=\"Read More\"\n            link={Link}\n            key={item.get('contentid')}\n          />\n        </Card.Footer>\n\n      </Card>\n    );\n  }\n\n  return itemsList;\n}\n\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = () => {\n  const data = {};\n  data['fields'] = \"title,summary\";\n\n  return data;\n};\n\nexport default Masonry;","import React, { useState } from \"react\";\nimport Card from 'react-bootstrap/Card';\nimport OutputMarkup from \"./OutputMarkup\";\nimport ItemDate from './ItemDate';\nimport CollectionReadMoreBtn from './CollectionReadMoreBtn';\nimport ItemCredits from './ItemCredits';\nimport ItemTags from './ItemTags';\n\nimport Slider from \"react-slick\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronRight, faChevronLeft } from '@fortawesome/free-solid-svg-icons'\n/*\n  The link component throws an error when rerending after being \n  reconfigured in edit mode. Hence CollectionLink\n*/\n\nconst SlickSlider = ({props,collection,link}) => {\n\n  function CustomNextArrow(props) {\n    const { className, style, onClick } = props;\n    return (\n      <div\n        className={className}\n        onClick={onClick}\n      >\n        <FontAwesomeIcon icon={faChevronRight} />\n      </div>\n    );\n  }\n  \n  function CustomPrevArrow(props) {\n    const { className, style, onClick } = props;\n    return (\n      <div\n        className={className}\n        onClick={onClick}\n      >\n        <FontAwesomeIcon icon={faChevronLeft} />\n      </div>\n    );    \n  }  \n  \n  const slides = collection.map((item) => (\n      <SliderItem \n        sliderimage={item.get('images')[props.imagesize]}\n        imagesize={props.imagesize}\n        item={item}\n        link={link}\n        slidestoshow={Number(props.slidestoshow)}\n        {...props}\n        key={item.get('contentid')}\n      />\n  ))\n  \n  //console.log('slidesToShow: ' + props.slidestoshow + ' slidesToScroll: ' + props.slidestoscroll + ' objectID: ' + props.objectid);\n  // var slickSettings = {\n  //   dots: {props.dots},\n  //   arrows: {props.arrows},\n  //   infinite: {props.infinite},\n  //   speed: {Number(props.speed)},\n  //   slidesToShow:{Number(props.slidestoshow)},\n  //   slidesToScroll: {Number(props.slidestoshow)},\n  //   autoplay: {props.autoplay},\n  //   autoplaySpeed: {Number(props.autoplayspeed)},\n  //   lazyLoad: {props.lazyload},\n  //   vertical: {props.vertical},\n  //   verticalSwiping: {props.verticalswiping},\n  //   responsive={[\n  //     {\n  //       breakpoint: 0,\n  //       settings: {\n  //         slidesToShow: 1,\n  //         slidesToScroll: 1\n  //       }\n  //     },\n  //     {\n  //       breakpoint: 576,\n  //       settings: {\n  //         slidesToShow: 2,\n  //         slidesToScroll: 2\n  //       }\n  //     },\n  //     {\n  //       breakpoint: 992,\n  //       settings: {\n  //         slidesToShow: Number(props.slidestoshow),\n  //         slidesToScroll: Number(props.slidestoshow)\n  //       }\n  //     }\n  //   ]},\n  //   nextArrow: {<CustomNextArrow />},\n  //   prevArrow: {<CustomPrevArrow />}\n  // }\n  return (\n      slides != null && slides.length > 0 &&\n      <div className={`collectionLayoutSlickSlider ${props.sliderlayout}`}>\n        <Slider \n          dots={props.dots}\n          arrows={props.arrows}\n          infinite={props.infinite}\n          speed={Number(props.speed)}\n          slidesToShow={Number(props.slidestoshow)}\n          slidesToScroll={Number(props.slidestoshow)}\n          autoplay={props.autoplay}\n          autoplaySpeed={Number(props.autoplayspeed)}        \n          lazyLoad={props.lazyload}\n          vertical={props.vertical}\n          verticalSwiping={props.verticalswiping}\n          fade={props.fade}\n          centerMode={props.centermode}\n          centerPadding={props.centerpadding}\n          responsive={[\n            {\n              breakpoint: 0,\n              settings: {\n                slidesToShow: 1,\n                slidesToScroll: 1\n              }\n            },\n            {\n              breakpoint: 576,\n              settings: {\n                slidesToShow: 2,\n                slidesToScroll: 2\n              }\n            },\n            {\n              breakpoint: 992,\n              settings: {\n                slidesToShow: Number(props.slidestoshow),\n                slidesToScroll: Number(props.slidestoshow)\n              }\n            }\n          ]}\n          nextArrow={<CustomNextArrow />}\n          prevArrow={<CustomPrevArrow />}\n          key={props.objectid}\n        >\n        {slides}\n      </Slider>\n      </div>\n      // these are causing an error: slidesPerRow={props.slidesperrow} rows={props.rows} \n  )\n}\n\nconst SliderItem = (props) => {\n  const item = props.item;\n  const slidesToShow = props.slidesToShow;\n  const Link = props.link;\n  const fieldlist = props.fields ? props.fields.toLowerCase().split(\",\") : [];\n  // console.log('image size: ' + props.imagesize);\n  if (props.sliderlayout === 'banner') {//swith to props.layout\n    return(\n      <div key={item.get('contentid')} className=\"h-100 position-relative\">\n        <Link href={`/${item.get('filename')}`} passHref>\n          <img src={props.sliderimage} />\n        </Link>\n        <div className=\"mura-item-meta\">\n                {\n                fieldlist.map(field => {\n                  switch(field) {\n                    case \"title\":\n                      return (\n                        <div className=\"mura-item-meta__title\" key={field}>{item.get('title')}</div>\n                      )\n                    case \"date\":\n                    case \"releasedate\":\n                        return (\n                          <div className=\"mura-item-meta__date\" key={item.get('releasedate')}>\n                            <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                          </div>\n                        );\n                    case \"summary\":\n                      return <OutputMarkup className=\"mura-item-meta__summary\" source={item.get('summary')} key={field} />\n                    case \"readmore\":\n                      return(\n                        <div className=\"mura-item-meta__readmore\" key={item.get('contentid')}>\n                          <CollectionReadMoreBtn\n                            href={`/${item.get('filename')}`}\n                            ctatext=\"Read More\"\n                            link={Link}\n                            key={item.get('contentid')}\n                          />\n                        </div>\n                      );\n                    case \"credits\":\n                        if(item.get('credits').length){\n                          return (\n                            <div className=\"mura-item-meta__credits\">\n                              <ItemCredits credits={item.get('credits')} key=\"credits\" />\n                            </div>\n                          );\n                        }\n                        return null;\n                    case \"tags\":\n                        return (\n                            <div className=\"mura-item-meta__tags pb-2\" key=\"tags\">\n                              <ItemTags tags={item.get('tags')} />\n                            </div>\n                        );\n                    default:\n                      return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n                  }        \n                })\n                }\n              </div>\n      </div>\n    )\n  } else {\n    return(\n      <div className=\"mx-2 h-100\" key={props.contentid} >\n        <Card className=\"h-100\">\n          {\n            fieldlist.filter(field => field == 'image').map(filteredField => (\n              <Card.Img variant=\"top\" src={item.get('images')[props.imagesize]} key={filteredField} />\n            ))\n          }          \n          <Card.Body className=\"spacing-normal h-100\">\n              <div className=\"mura-item-meta\">\n                {\n                fieldlist.map(field => {\n                  switch(field) {\n                    case \"title\":\n                      return (\n                        <Card.Title key={field}>{item.get('title')}</Card.Title>\n                      )\n                    case \"date\":\n                    case \"releasedate\":\n                        return (\n                          <div className=\"mura-item-meta__date\" key=\"date\">\n                            <ItemDate releasedate={item.get('releasedate')} lastupdate={item.get('lastupdate')}></ItemDate>\n                          </div>\n                        );\n                    case \"summary\":\n                      return <OutputMarkup source={item.get('summary')} key={field} />\n                    case \"readmore\":\n                      return(\n                        <CollectionReadMoreBtn\n                          href={`/${item.get('filename')}`}\n                          ctatext=\"Read More\"\n                          link={Link}\n                          key={item.get('contentid')}\n                        />\n                      );\n                    default:\n                      return <div className={`mura-item-meta__${field}`} key={field} data-value={item.get(field)}>{item.get(field)}</div>\n                  }        \n                })\n                }\n              </div>\n            </Card.Body>\n        </Card>\n      </div>   \n    )\n  }\n\n  \n\n}\n\n/*\n  This is not required; it is used to retrieve the required fields when populated getStatic/getServerSide props\n*/\nexport const getQueryProps = () => {\n  const data = {};\n  data['fields'] = \"title,summary\";\n\n  return data;\n};\n\nexport default SlickSlider;","import React, {useEffect} from 'react';\nimport Mura from 'mura.js/src/core/core';\n\n// eslint-disable-next-line\nimport { getComponent } from '@murasoftware/next-core';\nimport { Decorator } from '@murasoftware/next-core';\n\nexport const Container = function(props) {\n  const { items,content,instanceid } = props;\n  // console.log('Container -> items', items);\n  // console.log('Container -> props', props);\n  if (!items) return '';\n\n  useEffect(() => {\n    if(typeof Mura.displayObjectInstances[instanceid]=='undefined'){\n      Mura.displayObjectInstances[instanceid]= new Mura.DisplayObject.Container(props);\n    }\n  }, []);\n\n  let $items=items;\n\n  if(!Array.isArray($items)){\n    try{\n      $items=JSON.parse($items);\n    } catch(e){\n      $items=[];\n    }\n  }\n\n  const resetInstanceIds=(_items)=>{\n    _items.forEach((item)=>{\n      item.instanceid=Mura.createUUID();\n      if(item.object=='container' && item.items){\n        let $items=item.items;\n       if(!Array.isArray($items)){\n          try{\n            $items=JSON.parse($items);\n          } catch(e){\n            $items=[];\n          }\n        }\n        item.items=resetInstanceIds($items);\n      }\n    })\n    return _items;\n  }\n\n  if(Mura.cloning){\n    $items=$items.map(function(i){return i;});\n    resetInstanceIds($items);\n  }\n\n  return ($items.map(item => {\n          const obj=Object.assign({},item);\n          obj.key=obj.instanceid;\n          obj.moduleStyleData=props.moduleStyleData;\n          obj.content = content;\n          return (<Decorator {...obj}> {getComponent(obj)} </Decorator>)\n      })\n   \n  );\n}\n\nexport default Container;\n","import React from 'react';\n\nconst Hr = function(props) {\n    return (\n      <hr />\n    );\n  \n}\n\nexport default Hr;\n","import React from 'react';\nimport Link from 'next/link';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons'\n\nexport const CTAButton = ({buttontext,buttoncolor,buttonsize,buttonlink,buttontarget,buttonblock}) => {\n\n  var btnclass = `btn btn-${buttoncolor||'primary'}`;\n  if (buttonsize != 'md'){\n    btnclass = btnclass + ` btn-${buttonsize}`;\n  }\n  if (buttonblock){\n    btnclass = btnclass + ` btn-block`;\n  }\n\n  return (\n    <>\n        <Link href={buttonlink||'https://www.murasoftware.com'} passHref>\n          <a target={buttontarget||'_self'} className={btnclass} role=\"button\">{buttontext || 'Press Me'} <FontAwesomeIcon icon={faChevronRight} /></a>\n        </Link>\n    </>\n  );\n}\n\nexport default CTAButton;","import Mura from 'mura.js';\nimport React,{ useEffect } from 'react';\n\nconst Embed = function(props) {\n  let objectparams=Object.assign({},props);\n  objectparams.source=objectparams.source || '';\n  const containerid='source-contianer-' + objectparams.instanceid;\n\n  useEffect(() => {\n    Mura('#'  + containerid).html(objectparams.source);\n  }, []);\n\n  return (\n    <div id={containerid}/>\n  )\n}\n\nexport default Embed;\n","import React from 'react';\nimport OutputMarkup from \"./OutputMarkup\";\n\nconst Image =function(props) {\n  let objectparams = Object.assign({},props);\n  objectparams=objectparams || {};\n\tobjectparams.src=objectparams.src||'';\n\tobjectparams.alt=objectparams.alt||'';\n\tobjectparams.caption=objectparams.caption||'';\n\tobjectparams.imagelink=objectparams.imagelink||'';\n  objectparams.fit=objectparams.fit||'';\n  objectparams.imagelinktarget=objectparams.imagelinktarget||'';\n\n  if(typeof objectparams.imagelinktarget==='string' && objectparams.imagelinktarget.toLowerCase()==='no'){\n    objectparams.imagelinktarget=\"\";\n  }\n\n\tif(!objectparams.src){\n\t\treturn '';\n\t}\n\n  if(objectparams.imagelink){\n    return (\n      <figure>\n        <a href={objectparams.imagelink} target={objectparams.imagelinktarget}>\n          <Img {...objectparams} />\n        </a>\n        <FigCaption {...objectparams} />\n      </figure>\n  );\n  } else {\n    return (\n      <figure style={{margin:\"0px\"}}>\n         <Img {...objectparams} />\n        <FigCaption {...objectparams} />\n      </figure>\n  );\n  }\n \n}\n\nconst FigCaption = ({caption}) => {\n  if(caption && caption != '<p></p>'){\n    return (\n      <figcaption><OutputMarkup source={caption} /></figcaption>\n    );\n  } else {\n    return '';\n  }\n}\n\nconst Img = (props) => {\n  if(props.fit){\n    return (\n      <img src={props.src} alt={props.alt} loading=\"lazy\" style={{height:\"100%\",width:\"100%\",objectFit:props.fit}} data-object-fit={props.fit} />\n    );\n  } else {\n    return (\n      <img src={props.src} alt={props.alt} loading=\"lazy\" />\n    )\n  }\n \n}\n\n\nexport default Image;\n","import React, { useEffect } from 'react';\n/* \n    This is not being used yet\n\n    steps to use:\n        1. Set external:true or remove the attribute from the mura.config.json\n        2. Remove the comment from the mura/react/Login import in the mura.config.js\n        3. Add the component to the moduleRegistry \"login\" item in the mura.config.js\n        4. Update the MuraMinimal theme login module to be this.SSR aware\n        5. docker-compose up --build\n*/\n\nfunction Login(props) {\n\n    useEffect(() => {\n      Mura('div.mura-object[data-instanceid=\"'  + props.instanceid + '\"]').processDisplayObject();\n    }, []);\n\n    return (\n      <h3>Login</h3>\n    );\n  \n}\n\nexport default Login;\n","import React,{useState,useEffect} from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\nimport Mura from 'mura.js';\nimport { faBolt } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nfunction MatrixSelector(props){\n    const objectparams = Object.assign({}, props);\n\n    const _personaIds = objectparams.dynamicProps ? objectparams.dynamicProps.personaProps : '';\n    const _stageIds = objectparams.dynamicProps ? objectparams.dynamicProps.stageProps : '';\n\n    const [personaIds, setPersonaIds] = useState(_personaIds);\n    const [stageIds, setStageIds] = useState(_stageIds);\n\n    const _selfIdStart = objectparams.selfidstart ? objectparams.selfidstart : 'I want to learn about';\n    const _selfIdMiddle = objectparams.selfidmiddle ? objectparams.selfidmiddle : 'for my company, or about the';\n    const _selfIdEnd = objectparams.selfidend ? objectparams.selfidend : 'industry.';\n    const _displayType = objectparams.displaytype ? objectparams.displaytype : 'inline';\n\n    const [selfIdStart, setSelfIdStart] = useState(_selfIdStart);\n    const [selfIdMiddle, setSelfIdMiddle] = useState(_selfIdMiddle);\n    const [selfIdEnd, setSelfIdEnd] = useState(_selfIdEnd);\n    const [displayType, setDisplayType] = useState(_displayType);\n\n    const [curSelPersona, setCurSelPersona] = useState('');\n    const [curSelStage, setCurSelStage] = useState('');\n    const [buttonEnabled, setButtonEnabled] = useState(false);\n    const [updateSuccess, setUpdateSuccess] = useState(false);\n    const [showingAlert,setShowingAlert] = useState(false);\n    const [isUpdating, setIsUpdating] = useState(false);\n\n    const [selPersonaValidated, setSelPersonaValidated] = useState(false);\n    const [selStageValidated, setSelStageValidated] = useState(false);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        updateExperience(curSelPersona,curSelStage);\n        return false;\n    }\n\n    const updateSelectedPersona = (e) => {\n        const newPersona = e.target.value;\n        if (curSelPersona != newPersona){\n            setCurSelPersona(newPersona);\n            checkSelectValidation(newPersona,curSelStage);\n        }\n    }\n\n    const updateSelectedStage = (e) => {\n        const newStage = e.target.value;\n        if (curSelStage != newStage){\n            setCurSelStage(newStage);\n            checkSelectValidation(curSelPersona,newStage);\n        }        \n    }\n\n    const checkSelectValidation = (persona,stage) => {\n        //check persona value and personaIds length to see if validated flag should be updated\n        if (persona != '' && personaIds.length){\n            setSelPersonaValidated(true);\n        } else if (persona = '' && personaIds.length){\n            setSelPersonaValidated(false);\n        }\n        //check stage value and stageIds length to see if validated flag should be updated\n        if (stage != '' && stageIds.length){\n            setSelStageValidated(true);\n        } else if (stage = '' && stageIds.length){\n            setSelStageValidated(false);\n        }\n    }\n\n    const updateButtonStatus = (selPersonaValidated,selStageValidated) => {\n        //check validation flags to see if Button should be enabled\n        if (selPersonaValidated && selStageValidated){\n            setButtonEnabled(true);\n        } else {\n            setButtonEnabled(false);\n        }\n    }\n    const updateExperience = async (personaid,stageid) => {\n        setIsUpdating(true);\n        setButtonEnabled(false);\n        \n        const Personaid = personaid;\n        const Stageid = stageid;\n        // console.log('Personaid: ', Personaid);\n        // console.log('Stageid: ', Stageid);\n        const exp = await Mura\n          .getEntity('matrix_selector')\n          .invoke(\n            'updateExperience',\n            {\n                personaid:personaid,\n                stageid:stageid\n            }\n          );\n        \n        if (exp.personaselected || exp.stageselected){\n            setUpdateSuccess(1);\n            setShowingAlert(true);\n            setIsUpdating(false);\n            setSeconds(3);\n        }\n    \n        if (exp.personaselected){\n            Mura(function(){\n                Mura.trackEvent({\n                        category: 'Matrix Self ID',\n                        action: 'Persona',\n                        label:  '#esapiEncode(\"javascript\",personaName)#'\n                });\n            });\n        }\n        \n        if (exp.stageselected){\n            Mura(function(){\n                Mura.trackEvent({\n                        category: 'Matrix Self ID',\n                        action: 'Stage',\n                        label: '#esapiEncode(\"javascript\",stageName)#'\n                });\n            });\n        }\n    \n    }\n    \n    useEffect(() => {\n        let isMounted = true;\n\n        if (isMounted) {\n            updateButtonStatus(selPersonaValidated,selStageValidated);\n            //should we force a page refresh after this to load the updated persona and stage?\n        }\n        \n        return () => { isMounted = false };\n    }, [selPersonaValidated,selStageValidated])\n\n    const [seconds, setSeconds] = useState(0);\n    useEffect(() => {\n        if (seconds > 0){\n            setTimeout(() => setSeconds(seconds -1), 1000);\n        }\n        if (seconds < 1 && showingAlert ){\n            window.location = window.location.href.split(\"?\")[0];\n        }\n    }, [seconds]);\n\n    if(!objectparams.dynamicProps){\n        useEffect(() => {\n            let isMounted = true;\n            if (isMounted) {\n                getPersonas().then((personaProps) => {\n                    if (isMounted) {\n                        setPersonaIds(personaProps);\n                        if (!personaProps.length){\n                            if (isMounted) {\n                                setSelPersonaValidated(true);\n                            }\n                        }\n                    }\n                });\n                getStages().then((stageProps) => {\n                    if (isMounted) {\n                        setStageIds(stageProps);\n                        if (!stageProps.length){\n                            if (isMounted) {\n                                setSelStageValidated(true);\n                            }\n                        }\n                    }\n                });\n            }\n            return () => { isMounted = false };\n        }, []);\n        //todo do we need to add hidden form fields if personaIds or stageIds EQ 1?\n        const [open, setOpen] = React.useState('');\n\n        switch(displayType){\n            case \"widget\" :\n                return(\n                    <>\n                    {/* Mura.editing doesn't seem to work here */}\n                    <Alert variant=\"info matrix-selector-edit-alert\" >\n                        <p className=\"mb-0\">Matrix Selector</p>\n                    </Alert>\n                    <div className={`${open ? 'open' : ''} mura-matrix-selector__widget ${props.widgetposition}`}>\n                        <Button \n                            variant=\"light\"\n                            onClick={() => { setOpen(!open); }}>\n                            <FontAwesomeIcon icon={faBolt} /> Optimize Your Experience\n                        </Button>\n                        <div className=\"mura-matrix-selector__widget__inner\">\n                            <MatrixForm \n                                updateSuccess={updateSuccess}\n                                showingAlert={showingAlert}\n                                handleSubmit={handleSubmit}\n                                selfIdStart={selfIdStart}\n                                updateSelectedPersona={updateSelectedPersona}\n                                personaIds={personaIds}\n                                stageIds={stageIds}\n                                selfIdMiddle={selfIdMiddle}\n                                updateSelectedStage={updateSelectedStage}\n                                selfIdEnd={selfIdEnd}\n                                buttonEnabled={buttonEnabled}\n                                isUpdating={isUpdating}\n                                displaytype={displayType}\n                                {...props}\n                                seconds={seconds}\n                            />\n                            <div className=\"mura-matrix-selector__widget__inner__footer\">\n                                <MatrixSelectorFooter {...props} />\n                            </div>\n                        </div>\n                    </div>\n                    </>\n                )\n                break\n            case \"eyebrow\" :\n                return(\n                    <div className={`mura-matrix-selector__eyebrow`}>\n                        <div className=\"mura-matrix-selector__eyebrow__inner\">\n                            {!showingAlert &&\n                                <div className=\"mura-matrix-selector__eyebrow__inner__heading\">\n                                    <h4><FontAwesomeIcon icon={faBolt} /> Optimize Your Experience</h4>\n                                </div>\n                            }\n                            <MatrixForm \n                                updateSuccess={updateSuccess}\n                                showingAlert={showingAlert}\n                                handleSubmit={handleSubmit}\n                                selfIdStart={selfIdStart}\n                                updateSelectedPersona={updateSelectedPersona}\n                                personaIds={personaIds}\n                                stageIds={stageIds}\n                                selfIdMiddle={selfIdMiddle}\n                                updateSelectedStage={updateSelectedStage}\n                                selfIdEnd={selfIdEnd}\n                                buttonEnabled={buttonEnabled}\n                                isUpdating={isUpdating}\n                                displaytype={displayType}\n                                {...props}\n                                seconds={seconds}\n                            />\n                            {!showingAlert &&\n                                <div className=\"mura-matrix-selector__eyebrow__inner__footer\">\n                                    <MatrixSelectorFooter {...props} />\n                                </div>\n                            }\n                        </div>\n                    </div>\n                )\n                break\n        }\n            return (\n                <>\n                <MatrixForm \n                    updateSuccess={updateSuccess}\n                    showingAlert={showingAlert}\n                    handleSubmit={handleSubmit}\n                    selfIdStart={selfIdStart}\n                    updateSelectedPersona={updateSelectedPersona}\n                    personaIds={personaIds}\n                    stageIds={stageIds}\n                    selfIdMiddle={selfIdMiddle}\n                    updateSelectedStage={updateSelectedStage}\n                    selfIdEnd={selfIdEnd}\n                    buttonEnabled={buttonEnabled}\n                    isUpdating={isUpdating}\n                    {...props}\n                    seconds={seconds}\n                />\n                {!showingAlert &&\n                    <div className=\"mura-matrix-selector__inline__footer\" key=\"matrix-selector-footer\">\n                        <MatrixSelectorFooter {...props} />\n                    </div>\n                }\n                </>\n            )\n    } else {\n\n    }\n}\nconst MatrixSelectorFooter = (props) => {\n    const CustomLinks = props.customlinks ? Array.from(props.customlinks) : [];\n    console.log('props: ', props);\n    if (CustomLinks && CustomLinks.length){\n        const UtilityLinks = CustomLinks.map((link) => \n        <li className=\"list-inline-item\" key={link.name}>\n            <a href={link.value}>{link.name}</a>\n        </li>\n        );\n        return (\n            <ul className=\"list-inline\">\n                {UtilityLinks}\n            </ul>\n        )\n    }\n    return null    \n}\n\nconst MatrixForm = (props) => {\n    return (\n        <>\n        {props.updateSuccess && props.showingAlert &&\n            <div className=\"successMessage\">\n                <h4>Thanks!</h4>\n                <p>We&rsquo;re tailoring our content for you in &hellip; {props.seconds}</p>\n            </div>\n        }\n        {!props.updateSuccess && !props.showingAlert &&\n        <Form inline id=\"mura_matrix-selector-form\" onSubmit={props.handleSubmit} data-autowire=\"false\">\n            <div className=\"select-wrap\">\n            {props.personaIds.length > 1 &&\n            <>\n                <Form.Label className=\"mr-2\">{props.selfIdStart}</Form.Label>\n                <Form.Control as=\"select\" name=\"persona\" size=\"sm\" className=\"mr-2\" value={props.curSelPersona} onChange={props.updateSelectedPersona}>\n                    <option value=\"\" key=\"--\">--</option>\n                    {props.personaIds.map((personaId) => (\n                    <option value={personaId.personaid} key={personaId.personaid}>{personaId.selfidq}</option>\n                    ))}\n                </Form.Control>\n            </>\n            }\n            {props.stageIds.length > 1 &&\n            <>\n                <Form.Label className=\"mr-2\">{props.selfIdMiddle}</Form.Label>\n                <Form.Control as=\"select\" name=\"stage\" size=\"sm\" className=\"mr-2\" value={props.curSelStage} onChange={props.updateSelectedStage}>\n                    <option value=\"\" key=\"--\">--</option>\n                    {props.stageIds.map((stageId) => (\n                    <option value={stageId.stageid} key={stageId.stageid}>{stageId.selfidq}</option>\n                    ))}\n                </Form.Control>\n            </>\n            }\n            <p>{props.selfIdEnd}</p>\n            \n            \n            <Button className=\"ml-2\" variant=\"link\" size=\"sm\" type=\"submit\" disabled={!props.buttonEnabled}>\n                {props.isUpdating ? 'Updating...' : 'Update'}\n            </Button>\n            </div>\n        </Form>\n        }\n        </>\n    )\n}\nexport const getDynamicProps = async props => {\n    const personaIds = await getPersonas();\n    const stageIds = await getStages();\n\n    return{\n      personaProps:personaIds,\n      stageProps:stageIds\n    }\n}\n\nconst getPersonas = async () => {  \n    \n    const personaIds = await Mura\n      .getEntity('matrix_selector')\n      .invoke(\n        'getPersonas'\n      );\n\n    return personaIds;\n}\n\nconst getStages = async () => {  \n    \n    const stageIds = await Mura\n      .getEntity('matrix_selector')\n      .invoke(\n        'getStages'\n      );\n    \n    return stageIds;\n}\n\nexport default MatrixSelector;","import React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport Navbar from 'react-bootstrap/Navbar'\nimport Nav from 'react-bootstrap/Nav'\nimport NavDropdown from 'react-bootstrap/NavDropdown'\nimport { getMura, getHref } from '@murasoftware/next-core';\n\nfunction PrimaryNav(props) {\n  const objectparams = Object.assign({}, props);\n  //console.log(props)\n  if(!objectparams.dynamicProps){\n    const [items, setItems]=useState('');\n\n    useEffect(() => {\n        getDynamicProps(objectparams).then((dynamicProps)=>{\n          setItems(dynamicProps.items);\n        });\n    },[]);\n\n    if(items){\n      return (\n        <Render items={items} link={RouterlessLink} props={props} />\n      );\n    } else {\n      return (\n        <div></div>\n        );\n    }\n  } else {\n    return (\n      <Render items={objectparams.dynamicProps.items} link={RouterLink} props={props} />\n    );\n  }\n}\n\nconst Render = ({ items, link, ...props }) => {\n    const Link=link;\n    const homeNavIcon = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" aria-hidden=\"true\" focusable=\"false\" width=\"1em\" height=\"1em\" style=\"-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 20 20\"><path d=\"M16 8.5l1.53 1.53l-1.06 1.06L10 4.62l-6.47 6.47l-1.06-1.06L10 2.5l4 4v-2h2v4zm-6-2.46l6 5.99V18H4v-5.97zM12 17v-5H8v5h4z\" fill=\"#626262\"/></svg>';\n   \n    return (\n      <Navbar bg=\"white\" variant=\"light\" expand=\"lg\" className=\"navbar-static-top py-0\"  collapseOnSelect>\n      <div className=\"container-xl\">\n        <Link\n          href={'/'}\n          className=\"navbar-brand\"\n          type=\"navbarbrand\"\n          navlogo={props.props.navlogo} />\n        <Navbar.Toggle aria-controls=\"primary-nav\" />\n        <Navbar.Collapse id=\"primary-nav\">\n          <Nav className=\"ml-auto\">\n\n            <Homelink displayhome={props.props.displayhome} link={Link} navicon={homeNavIcon} />\n            \n            {\n              items.map(item => {\n                  return (  \n                    <NavLinkDropdown key={item.contentid} contentid={item.contentid} filename={item.filename} menutitle={item.menutitle} kids={item.kids} link={Link} navicon={item.navicon} />\n                  )\n              })\n            }\n            {props.props.content && props.props.content.translations && (\n                <LangOptions translations={props.props.content.translations} />\n              )\n            }\n            </Nav>\n          </Navbar.Collapse>\n        </div>\n      </Navbar>\n    )\n};\n\nexport const getDynamicProps = async props => {\n  const Mura = getMura();\n  \n  //console.log(\"requesting primary nav data\",props.instanceid,Date.now(),Mura.siteid);\n \n  const collection=await Mura.getFeed('content')\n    .where()\n    .prop('parentid')\n    .isEQ(Mura.homeid)\n    .sort('orderno')\n    .expand(\"kids\")\n    .fields('navicon,menutitle,url,filename')\n    .getQuery();\n  \n    //console.log(\"receiving primary nav data\",props.instanceid,Date.now(),Mura.siteid);\n  return {\n    items:collection.getAll().items\n  };\n}\n\nconst RouterlessLink = ({href,className,type,menutitle,navlogo})=>{\n  switch(type) {\n    case \"navdropdownitem\":\n      return (\n        <NavDropdown.Item href={getHref(href)}>{menutitle}</NavDropdown.Item>\n      )\n    case \"navlink\":\n      return (\n        <Nav.Link href={getHref(href)}>{menutitle}</Nav.Link>\n      )\n    case \"navbarbrand\":\n      return(\n        <Navbar.Brand href={getHref(href)}>\n          <img src={navlogo} loading=\"lazy\" />\n        </Navbar.Brand>\n      )\n    default:\n      return (     \n        <a className={className} href={getHref(href)}>\n            {menutitle}\n        </a>\n      )\n    }\n  }\n  \nconst RouterLink = ({href,className,type,menutitle,navlogo})=>{\n  switch(type) {\n    case \"navdropdownitem\":\n      return (\n        <Link \n        href={getHref(href)} passHref>\n          <NavDropdown.Item>{menutitle}</NavDropdown.Item>\n        </Link>\n      )\n    case \"navlink\":\n      return (\n        <Link \n        href={getHref(href)} passHref>\n          <Nav.Link>{menutitle}</Nav.Link>\n        </Link>\n      )\n    case \"navbarbrand\":\n      return(\n        <Link \n        href={getHref(href)} passHref>\n          <Navbar.Brand>\n            <img src={navlogo} loading=\"lazy\" />\n          </Navbar.Brand>\n        </Link>\n      )\n    default:\n      return (\n        <Link \n          href={getHref(href)}>      \n            <a \n              className={className}>\n                {menutitle}\n            </a>\n        </Link>\n      )\n    }\n}\n\nconst Homelink = (props) => {\n  const Link=props.link;\n  const homeTitle = 'Home';\n  const Mura = getMura();\n\n  function createIcon() { \n    return {__html: props.navicon};\n  };\n\n  if (props.displayhome){\n    return (\n      <li className=\"nav-item\">\n        <Link\n          key={Mura.homeid}\n          href=\"/\"\n          className=\"nav-link\"\n          type=\"navitem\"\n          menutitle={<><span dangerouslySetInnerHTML={createIcon()} /> {homeTitle}</>}\n          type=\"navlink\" />\n      </li>\n    )\n  }\n  return (\n    <></>\n  )\n}\n\nconst LangOptions = props => {\n\n  if (props.translations.items.length) {\n       \n    return (\n      <>\n      <NavDropdown key=\"lang-options\" title=\"Other Languages\" id=\"lang-options\" href=\"\" renderMenuOnMount={true}>\n        {/* if there are children, build the rest of the dropdown */}\n        {props.translations.items.map((translation) => {\n          return(\n            <NavDropdown.Item key={`lang-option-${translation.siteid}`} href={translation.url}>{translation.label}</NavDropdown.Item>\n          )\n        })}\n      </NavDropdown>\n      </>\n    )\n  }\n}\n\nconst NavLinkDropdown = props => {\n  const Link = props.link;\n  function createIcon() { \n    return {__html: props.navicon};\n  };\n  if (props.kids.items.length) {\n       \n    return (\n      <>\n      <NavDropdown key={props.contentid} title={<div style={{display: \"inline-block\"}}><span dangerouslySetInnerHTML={createIcon()} /> {props.menutitle} </div>} id={`dropdown-${props.contentid}`} href={`/${props.filename}`} renderMenuOnMount={true}>\n        {/* placing the main nav item in the dropdown for now since the parent nav item is not a clickable link */}\n        <Link\n          key={props.contentid}\n          href={`/${props.filename}`}\n          type=\"navdropdownitem\"\n          menutitle={props.menutitle} />\n\n        {/* if there are children, build the rest of the dropdown */}\n        {props.kids.items.map((child) => {\n          return(\n            <Link\n              key={child.contentid}\n              href={`/${child.filename}`}\n              type=\"navdropdownitem\"\n              menutitle={child.menutitle} />\n          )\n        })}\n      </NavDropdown>\n      </>\n    )\n  }\n\n  // if item doesn't have children create a link\n  return (\n    <li className=\"nav-item\">\n      <Link \n        key={props.contentid}\n        href={`/${props.filename}`}\n        type=\"navlink\"\n        menutitle={<><span dangerouslySetInnerHTML={createIcon()} /> {props.menutitle} </>} />\n    </li>    \n  )\n\n}\nexport default PrimaryNav;\n","import React,{useState,useEffect} from 'react';\nimport Form from 'react-bootstrap/Form';\nimport { getMura } from '@murasoftware/next-core';\nimport { getLayout, RouterlessLink, RouterLink } from './Collection';\n/*\n  TODO: scrollpages -- not sure if this is even working at all in collection in NextJS, should test\n  Needs to be tested\n  */\n\nfunction ResourceHub(props) {\n  const Mura = getMura();\n  // return('This is the resource hub');\n  const objectparams = Object.assign({}, props);\n  const DynamicCollectionLayout = getLayout(objectparams.layout).component;\n\n  let _collection = false;\n  if(objectparams.dynamicProps){\n    _collection=new Mura.EntityCollection(objectparams.dynamicProps.collection,Mura._requestcontext);\n  }\n  \n  const [collection,setCollection]=useState(_collection);\n  \n  //console.log(objectparams.dynamicProps);\n\n  //SET DEFAULTS FOR CURRENT FILTER PARAMETERS\n  const _curSubtype = objectparams.dynamicProps ? objectparams.dynamicProps.filterprops.subtype : '*';\n  const _curCategoryIds = objectparams.dynamicProps ? objectparams.dynamicProps.filterprops.categoryid : '*';\n  const _curPersonaId = objectparams.dynamicProps ? objectparams.dynamicProps.filterprops.personaid : '*';\n  const _curCategoriesArray = objectparams.dynamicProps ? objectparams.dynamicProps.filterprops.selectedcats : [];\n  const _hasMXP = objectparams.dynamicProps ? objectparams.dynamicProps.filterprops.hasmxp : false;\n\n  const [curSubtype, setCurSubtype]=useState(_curSubtype);\n  const [curCategoriesArray, setCurCategoriesArray]=useState(_curCategoriesArray);\n  const [curCategoryIds, setCurCategoryIds]=useState(_curCategoryIds);\n  const [curPersonaId, setCurPersonaId]=useState(_curPersonaId);\n  const [hasMXP, setHasMXP]=useState(_hasMXP);\n  const [newFilter, setNewFilter]=useState(false);\n  const [filterUpdated, setFilterUpdated]=useState(new Date().toString());\n  \n  const updateFilter = (e) => {\n    switch(e.target.name) {\n      case 'subtype':\n        let subtype = e.target.value;\n        if (subtype != curSubtype) {\n          setCurSubtype(subtype);\n          setNewFilter(true);\n          setFilterUpdated(new Date().toString());\n        }\n        break\n      case 'personaid':\n        let personaid = e.target.value;\n        if (personaid != curPersonaId){\n          setCurPersonaId(personaid);\n          setNewFilter(true);\n          setFilterUpdated(new Date().toString());\n        }\n        break\n      default:\n        if (!curCategoryIds.includes(e.target.value)){\n          setCurCategoriesArray(updateCategoryIds(e.target.name,e.target.value,curCategoriesArray));\n          setCurCategoryIds(getCategoryIds(curCategoriesArray));\n          setNewFilter(true);\n          setFilterUpdated(new Date().toString());\n        }        \n    }//switch    \n  }\n\n  if(!objectparams.dynamicProps){\n\n    useEffect(() => {\n      let isMounted = true;\n      if (isMounted) {\n        getFilterProps(curSubtype,curCategoryIds,curPersonaId,curCategoriesArray,newFilter).then((filterProps) => {\n          if (isMounted) {\n            setHasMXP(filterProps.hasmxp);\n            setCurSubtype(filterProps.subtype);\n            setCurCategoryIds(filterProps.categoryid);\n            setCurPersonaId(filterProps.personaid);\n            setCurCategoriesArray(filterProps.selectedcats);\n            if(isMounted){\n              getCollection(props,filterProps).then((collection) => {\n                setCollection(collection);\n              });\n            }\n          }\n        });\n      }\n      return () => { isMounted = false };\n    }, [filterUpdated])\n\n    if(collection) {\n      console.log('dynamic');\n      return (\n        <div>\n          <RenderFilterForm \n            updateFilter={updateFilter}\n            {...props}\n            curSubtype={curSubtype}\n            curCategoryId={curCategoryIds}\n            curPersonaId={curPersonaId}\n            curCategoriesArray={curCategoriesArray}\n            hasMXP={hasMXP}\n          />\n\n          <DynamicCollectionLayout setCollection={setCollection} collection={collection} props={props} link={RouterlessLink}/>\n\n        </div>\n      )\n    } else {\n      console.log('empty');\n      return (\n        <div>{/* EMPTY COLLECTION */}</div>\n      )\n    }\n\n  } else {\n    console.log('ssr');\n    useEffect(() => {\n      let isMounted = true;\n      if (isMounted) {\n        getFilterProps(curSubtype,curCategoryIds,curPersonaId,curCategoriesArray,newFilter).then((filterProps) => {\n          if(isMounted){\n            setHasMXP(filterProps.hasmxp);\n            setCurSubtype(filterProps.subtype);\n            setCurCategoryIds(filterProps.categoryid);\n            setCurPersonaId(filterProps.personaid);\n            setCurCategoriesArray(filterProps.selectedcats);\n            \n            getCollection(props,filterProps).then((collection) => {\n              if(isMounted){\n                setCollection(collection);\n              }\n            })\n          }\n        });\n      }\n      return () => { isMounted = false };\n    }, [filterUpdated])\n\n    return (\n      <div>\n        <RenderFilterForm \n          updateFilter={updateFilter}\n          {...props}\n          curSubtype={curSubtype}\n          curCategoryId={curCategoryIds}\n          curPersonaId={curPersonaId}\n          curCategoriesArray={curCategoriesArray}\n          hasMXP={hasMXP}\n        />\n        <DynamicCollectionLayout collection={collection} props={props} link={RouterLink}/>\n      </div>\n    )\n\n  }\n}\n\nconst getCategoryIds = categories => {\n  let categoriesList;\n  for (let i = 0; i < categories.length; i++){\n    if (categories[i].value != '*'){\n      if (i < 1){\n        categoriesList = categories[i].value;\n      } else {\n        categoriesList = categoriesList + ',' + categories[i].value;\n      }\n    }\n  }\n  \n  if (categoriesList == undefined){\n    categoriesList = '*';\n  }\n  return categoriesList\n}\n\nexport const getDynamicProps = async props => {\n  const filterProps = await getFilterProps('','','','',false);\n  const collection = await getCollection(props,filterProps);\n  if(!Array.isArray(filterProps.selectedcats)){\n    try{\n      filterProps.selectedcats = JSON.parse(filterProps.selectedcats);\n    }catch(e){\n      filterProps.selectedcats = [];\n    }\n  }\n  return{\n    collection:collection.getAll(),\n    filterprops:filterProps\n  }\n}\n\nconst getCollection = async (props,filterProps) => {\n  const Mura = getMura();\n\n  if(typeof props.content.getAll != 'undefined'){\n      props.content=props.content.getAll();\n  }\n\n  const excludeIDList=props.content.contentid;\n\n  const getItemsPerPage = function(item){\n    if(Mura.renderMode !='static'){\n      if(typeof item.nextn != 'undefined'){\n       return item.nextn\n      } else if(typeof item.itemsperpage != 'undefined'){\n       return item.itemsperpage;\n      } else {\n        return 0;\n      }\n    } else {\n      return 0;\n    }\n  }\n\n  const feed = Mura.getFeed('content');\n\n    feed.prop('type').isIn('Page,Link,File');\n    feed.andProp('path').containsValue(props.content.contentid);\n    feed.andProp('contentid').isNotIn(excludeIDList);\n    feed.expand('categoryassignments');\n\n    if(filterProps.subtype.length){\n      feed.andProp('subtype').isEQ(filterProps.subtype);\n    }\n    if(filterProps.categoryid.length){\n      feed.andProp('categoryid').isIn(filterProps.categoryid);\n      feed.useCategoryIntersect(true);\n    }\n    feed.maxItems(props.maxitems);\n    feed.itemsPerPage(getItemsPerPage());\n\n    let collection;\n\n    if(filterProps.personaid.length){\n      collection = await feed.getQuery({sortBy:\"mxpRelevance\"});\n    } else {\n      collection = await feed.sort('releasedate','desc').getQuery();\n    }\n  return collection;\n}\n\nconst getFilterProps = async (subtype,categoryid,personaid,selectedcategories,newfilter) => {\n  const Subtype = subtype;\n  const Categoryid = categoryid;\n  const Personaid = personaid;\n  const CurSelectedCats = selectedcategories;\n  const NewFilter = newfilter;\n\n  \n  const filterProps = await Mura\n    .getEntity('resourcehub')\n    .invoke(\n      'processFilterArgs',\n      {\n        subtype:Subtype, \n        categoryid:Categoryid, \n        personaid:Personaid, \n        selectedcats:CurSelectedCats, \n        newfilter: NewFilter?1:0\n      }\n    );\n  \n  // console.log('filterProps: ', filterProps);\n  return filterProps;\n}\n\nconst RenderFilterForm = (props) => {\n  const objectparams = Object.assign({}, props);\n  const [categoriesArray,setCategoriesArray]=useState(false);\n  const [personasArray,setPersonasArray]=useState(false);\n\n  const subtypesArray = objectparams.subtypes ? objectparams.subtypes.split(',') : [];\n  const categoryIds = objectparams.categoryids ? objectparams.categoryids.split(',') : [];\n  const personaIds = objectparams.personaids ? objectparams.personaids.split(',') : [];\n\n  useEffect(() => {\n    let isMounted = true;\n    if(isMounted && personaIds.length){\n      getCategoriesInfo(categoryIds).then((data)=>{\n        if(isMounted && data.items.length){\n          setCategoriesArray(data.items);\n        }\n      });\n     }\n    if(isMounted && personaIds.length){\n      getPersonasInfo(personaIds).then((data)=>{\n        if(isMounted && data.items.length){\n          setPersonasArray(data.items);  \n        }      \n      });\n    }   \n    return () => { isMounted = false };\n  }, []);\n  \n  return (\n    <Form className=\"row row-cols-1 row-cols-sm-2 row-cols-lg-3\" id=\"resource-filter-form\">\n      {subtypesArray.length > 0 &&\n      <Form.Group controlId=\"selectSubtypes\" className=\"col type\">\n        <Form.Label>Content Types:</Form.Label>\n        <Form.Control as=\"select\" name=\"subtype\" custom onChange={ props.updateFilter } value={props.curSubtype}>\n          <option value=\"*\" key=\"All Subtypes\">All</option>\n          {subtypesArray.map((subtype, index) => (\n            <option value={subtype} key={index}>{subtype}</option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      }\n      {categoriesArray && categoriesArray.length > 0 &&\n      <>\n        {categoriesArray.map((category, index) => (\n          <CategorySelect categoryid={category.categoryid} filterlabel={category.name} updateFilter={props.updateFilter} curCategoryId={props.curCategoryId} key={category.categoryid} curCategoriesArray={props.curCategoriesArray} />\n        ))}\n      </>\n      }\n      {props.hasMXP && personasArray.length > 0 &&\n      <Form.Group controlId=\"selectPersonas\" className=\"col topic\">\n      <Form.Label>Audience:</Form.Label>\n        <Form.Control as=\"select\" name=\"personaid\" custom onChange={ props.updateFilter } value={props.curPersonaId}>\n          <option value=\"*\" key=\"All Personas\">All</option>\n          {personasArray.map(option => (\n            <option value={option.personaid} key={option.personaid}>{option.name}</option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      }\n    </Form>\n  );\n}\n\nconst CategorySelect = props => {\n  const [categoryKids,setCategoryKids]=useState([]);\n  let curSelectValue = '*';\n\n  useEffect(() => {\n    let isMounted = true;\n    getCategoryKidsInfo(props.categoryid).then((data)=>{\n      if (isMounted) {\n        setCategoryKids(data.items);\n      }\n    });\n\n    return () => { isMounted = false };\n  }, []);  \n  \n  for (let i=0; i < categoryKids.length; i++){\n      if (props.curCategoryId.includes(categoryKids[i].categoryid)){\n        curSelectValue = categoryKids[i].categoryid;\n        break\n      }\n  }\n\n  return(\n    <Form.Group controlId={`selectCategories${props.filterlabel}`} className=\"col topic\">\n      <Form.Label>{props.filterlabel}:</Form.Label>\n        <Form.Control as=\"select\" name={`categoryid${props.filterlabel}`} custom onChange={ props.updateFilter } value={curSelectValue}>\n          <option value=\"*\" key=\"All Categories\">All</option>\n          {categoryKids.map((category, index) => (\n            <option value={category.categoryid} key={index}>{category.name}</option>\n          ))}\n        </Form.Control>\n    </Form.Group>\n  )\n}\n\nconst getCategoriesInfo = async (categoryIds) => {\n  const feed = Mura.getFeed('category');\n        feed.findMany(categoryIds);\n\n  const query = await feed.getQuery();\n  const categories = query.getAll();\n\n  return categories\n}\n\nconst getPersonasInfo = async (personaIds) => {\n  const feed = Mura.getFeed('persona');\n        feed.findMany(personaIds);\n\n  const query = await feed.getQuery();\n  const personas = query.getAll();\n\n  return personas\n}\n\nconst getCategoryKidsInfo = async (categoryId) => {\n  const feed = Mura.getFeed('category');\n        feed.prop('parentid').isEQ(categoryId);\n\n  const query = await feed.getQuery();\n  const categorykids = query.getAll();\n\n  return categorykids\n}\n\nconst updateCategoryIds = (name,value,curCategoriesArray) => {\n  let match = 0;\n\n    for (let i = 0; i < curCategoriesArray.length; i++) {\n      if (curCategoriesArray[i].name === name) {\n            curCategoriesArray[i].value = value;\n          match = 1;\n          break;\n      }\n    }\n    if (!match){\n        curCategoriesArray.push({ \n          name:name,\n          value:value \n        });\n    }\n  \n  return curCategoriesArray;\n}\n\n\n//for debugging only\nconst replacerFunc = () => {\n  const visited = new WeakSet();\n  return (key, value) => {\n    if (typeof value === \"object\" && value !== null) {\n      if (visited.has(value)) {\n        return;\n      }\n      visited.add(value);\n    }\n    return value;\n  };\n};\n\nexport default ResourceHub;","import React,{useState,useEffect} from 'react';\nimport Mura from 'mura.js';\nimport OutputMarkup from \"./OutputMarkup\";\n\nfunction Text(props) {\n  const objectparams = Object.assign({}, props);\n\n  if(!objectparams.dynamicProps && (objectparams.sourcetype==='component' || objectparams.sourcetype==='boundattribute' )){\n    const [source, setSource]=useState('');\n\n    useEffect(() => {\n        getDynamicProps(objectparams).then((dynamicProps)=>{\n          setSource(dynamicProps.source);\n        });\n    },[]);\n\n    if(source){\n      return (\n        <OutputMarkup source={source} />\n      );\n    } else {\n      return (\n        <div></div>\n        );\n    }\n  } else {\n    let source='';\n    if(objectparams.dynamicProps && (objectparams.sourcetype==='component' || objectparams.sourcetype==='boundattribute')){\n      source=objectparams.dynamicProps.source;\n    } else {\n      source=objectparams.source;\n    }\n    if(source && source !== 'unconfigured'){\n      return (\n        <OutputMarkup source={source} />\n      );\n    } else {\n      return (\n        <div></div>\n        );\n    }\n  }\n}\n\nexport const getDynamicProps = async props => {\n  const data = {};\n  if (\n    typeof props.sourcetype !== 'undefined'\n    && (props.sourcetype === 'component' || props.sourcetype === 'boundattribute')\n  ) {\n    if(props.sourcetype === 'component'){\n      if(Mura.isUUID(props.source)){\n        const entity= await Mura.getEntity('content')\n          .loadBy('contentid', props.source, { type: 'component', fields: 'body' });\n          data.source=entity.get('body');\n      } else {\n        const entity= await Mura.getEntity('content')\n        .loadBy('title', props.source, { type: 'component', fields: 'body' });\n        data.source=entity.get('body');\n      } \n    } else if(props.sourcetype === 'boundattribute'){\n      if(typeof props.content.get =='function'){\n        data.source=props.content.get(props.source);\n      } else {\n        data.source=props.content[props.source] || '';\n      }\n    }\n  }\n\n  return data;\n};\n\nexport default Text;\n","import React,{useState,useEffect} from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\n\nfunction PrivacyTools(props){   \n    // const objectparams = Object.assign({}, props);\n    // console.log(objectparams);\n\n    const [optIn, setOptIn] = useState(0);\n    const [optOut, setOptOut] = useState(0);\n    const [mxpAnon, setMxpAnon] = useState(1);\n    const [updateSuccess,setUpdateSuccess] = useState(0);\n    const [showingAlert,setShowingAlert] = useState(false);\n\n    useEffect(() => {\n        let isMounted = true;\n        if (isMounted) {\n            \n            getCurrentPrivacy().then(result => {\n                setMxpAnon(result);\n                console.log('result: ' + result);\n            }); \n\n        }\n        return () => { isMounted = false };\n    }, []);\n\n    // console.log('_mxpAnon: ', _mxpAnon);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        updatePrivacyMXP(optIn,optOut);        \n        setUpdateSuccess(1);\n        return false;\n    }   \n\n    const updatePrivacyMXP = async (optIn,optOut) => {\n        \n        const privacyOptIn = await Mura\n            .getEntity('privacy_tools')\n            .invoke(\n                'updatePrivacyMXP',\n                {\n                    mxp_opt_in:optIn,\n                    mxp_opt_out:optOut\n                }\n            );\n        \n        setShowingAlert(true);\n        return privacyOptIn;\n    }\n\n    const mxpAnonChanged = (e) => {\n        setMxpAnon(e.target.value);\n        if(e.target.value == 1){\n            setOptIn(0);\n            setOptOut(1);\n        } else {\n            setOptIn(1);\n            setOptOut(0);\n        }\n    }\n    \n    //update opt in / out values on radio button click\n    useEffect(() => {\n        let isMounted = true;\n        if (isMounted) {\n            if(mxpAnon == 1){\n                setOptIn(0);\n                setOptOut(1);\n            } else {\n                setOptIn(1);\n                setOptOut(0);\n            }\n        }\n    \n        return () => { isMounted = false };\n      }, [mxpAnon]); \n    \n    //show alert or not\n    useEffect(() => {\n        let isMounted = true;\n        if (isMounted) {\n            if(showingAlert){\n                setTimeout(() => {\n                    setShowingAlert(false);\n                }, 2000);\n            }\n        }\n\n        return () => { isMounted = false };\n    }, [showingAlert]);\n\n    return(\n    <>\n        <h3>Privacy Settings</h3>\n        {updateSuccess == 1 && showingAlert &&\n            <Alert variant=\"success\" >Your preference has been saved.</Alert>\n        }\n        <Form onSubmit={handleSubmit} data-autowire=\"false\">\n            <Form.Group controlId=\"radio_mxp_anon\">\n                <Form.Check\n                    type=\"radio\"\n                    id=\"mxp_anon1\"\n                    name=\"mxp_anon\"\n                    value=\"0\"\n                    checked={mxpAnon == 0}\n                    onChange={mxpAnonChanged}\n                    label=\"For a better experience, allow this site to store some identifying information\"\n                />\n                <Form.Check\n                    type=\"radio\"\n                    id=\"mxp_anon2\"\n                    name=\"mxp_anon\"\n                    value=\"1\"\n                    checked={mxpAnon == 1}\n                    onChange={mxpAnonChanged}\n                    label=\"Do not allow this site to store some identifying information\"\n                />\n            </Form.Group>\n            <Button variant=\"primary\" type=\"submit\">\n                Submit\n            </Button>\n        </Form>\n    </>\n    );\n}\n\nconst getCurrentPrivacy = async () => {\n    const mxpPrivacy = await Mura\n            .getEntity('privacy_tools')\n            .invoke(\n                'privacyStatus'\n            );\n    \n    // return mxpPrivacy.Output;\n    return mxpPrivacy;\n}\n\nexport default PrivacyTools","import React, { useState,useEffect } from 'react';\nimport { Decorator } from '@murasoftware/next-core';\nimport Mura from 'mura.js';\n\nconst GatedAsset =function(props) {\n    let objectparams = Object.assign({},props);\n    \n    const [gateIsOpen,setGateIsOpen]=useState(false);\n    const [editMode,setEditMode]=useState(Mura.editing);\n    const gateparams = objectparams.gateparams || {object:\"container\", items:[], 'render':'client',async:false};\n    const assetparams = objectparams.assetparams || {object:\"container\", items:[], 'render':'client',async:false};\n\n    gateparams.ssr=false;\n    assetparams.ssr=false;\n    gateparams.pinned=true;\n    assetparams.pinned=true;\n    \n    if(typeof objectparams.isgatelocked == 'undefined'){\n        objectparams.isgatelocked=true;\n    }\n\n    useEffect(() => {\n        let isMounted = true;\n        const gatedasset=Mura.getEntity('gatedasset');\n\n        if (isMounted) {\n            if(typeof Mura.displayObjectInstances[props.instanceid]=='undefined'){\n                Mura.displayObjectInstances[props.instanceid]= new Mura.DisplayObject.GatedAsset(props);\n            }\n\n            Mura(document).on('muraContentEditInit',function(){\n                if(isMounted){\n                    setEditMode(true);\n                }\n            })\n\n            const module= Mura('div[data-instanceid=\"' + props.instanceid +'\"]');\n\n            module.on('formSubmitSuccess',function(e){\n                if(isMounted && !gateIsOpen){\n                    const source = e.target || e.srcElement;\n                    const formObj=Mura(source).closest('div.mura-object[data-object=\"form\"]');\n                    gatedasset.invoke('openGate',{contentid: props.content.contentid,formid:formObj.data('objectid')},'get');\n                    setTimeout(\n                        function(){\n                            setGateIsOpen(true);\n                        },\n                        4000\n                    );\n                   \n                }\n            })\n            \n            const handleIsGateOpen = (response)=>{\n                if(typeof response === 'boolean' && response\n                    || typeof response === 'number' && response\n                    || typeof response === 'string' && response.toLowerCase()=='true'){\n                    if(isMounted){\n                        setGateIsOpen(true);\n                    }\n                }\n            }\n            \n            const checkContainerForOpenGates = function(params){\n                if(Array.isArray(params.items)){\n                    params.items.forEach((item)=>{\n                        if(item.object=='form'){\n                            gatedasset.invoke(\n                                'isGateOpen',\n                                {contentid: props.content.contentid,formid:item.objectid}\n                                ,'get')\n                                .then(\n                                    handleIsGateOpen,\n                                    handleIsGateOpen\n                                )\n                        } else if(item.object=='container'){\n                            checkContainerForOpenGates(item);\n                        }\n                    })\n                }\n            }\n\n            if( objectparams.isgatelocked ){\n                checkContainerForOpenGates(gateparams);\n            } else {\n                setGateIsOpen(true);\n            }\n            \n        }\n        return () => { isMounted = false };\n       \n      }, []);\n\n    return (\n        <div>\n            { \n                editMode\n                    ? <div><button className={!gateIsOpen ? 'btn btn-primary' : 'btn'} onClick={function(){setGateIsOpen(false)}}>Gate</button>\n                    <button className={gateIsOpen ? 'btn btn-primary' : 'btn'} onClick={function(){setGateIsOpen(true)}}>Asset</button></div>\n                    : null \n            }\n            <div>\n                <div className=\"mura-gate\" style={{display: !gateIsOpen ? 'block' : 'none' }}>\n                    <Decorator {...gateparams} content={props.content}/>\n                </div>\n                <div className=\"mura-asset\" style={{display: gateIsOpen ? 'block' : 'none' }}>\n                    <Decorator {...assetparams} content={props.content}/>\n                </div>\n            </div>\n        </div>\n    );\n}\n\n\nexport default GatedAsset;\n","import React from 'react';\n\nclass Gist extends React.PureComponent {\n  componentDidMount() {\n    this._updateIframeContent();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    this._updateIframeContent();\n  }\n\n  _defineUrl() {\n    const { id, file } = this.props;\n\n    const fileArg = file ? `?file=${file}` : '';\n\n    return `https://gist.github.com/${id}.js${fileArg}`;\n  }\n\n  _updateIframeContent() {\n    const { id, file } = this.props;\n\n    const iframe = this.iframeNode;\n\n    let doc = iframe.document;\n    if (iframe.contentDocument) doc = iframe.contentDocument;\n    else if (iframe.contentWindow) doc = iframe.contentWindow.document;\n\n    const gistLink = this._defineUrl()\n    const gistScript = `<script type=\"text/javascript\" src=\"${gistLink}\"></script>`;\n    const styles = '<style>*{font-size:12px;}</style>';\n    const elementId = file ? `gist-${id}-${file}` : `gist-${id}`;\n    const resizeScript = `onload=\"parent.document.getElementById('${elementId}').style.height=document.body.scrollHeight + 'px'\"`;\n    const iframeHtml = `<html><head><base target=\"_parent\">${styles}</head><body ${resizeScript}>${gistScript}</body></html>`;\n\n    doc.open();\n    doc.writeln(iframeHtml);\n    doc.close();\n  }\n\n  render() {\n    const { id, file } = this.props;\n\n    return (\n      <iframe\n        ref={(n) => { this.iframeNode = n; }}\n        width=\"100%\"\n        frameBorder={0}\n        id={file ? `gist-${id}-${file}` : `gist-${id}`}\n      />\n    );\n  }\n}\n\nconst render =function(props) {\n    let objectparams = Object.assign({},props);\n\n    objectparams.gistid = objectparams.gistid || '';\n    objectparams.file = objectparams.file || '';\n\n    if(objectparams.gistid){\n        return (\n            <Gist id={objectparams.gistid} file={objectparams.file} />\n        )\n    } else {\n        return (\n            <div></div>\n        )\n    }\n    \n}\n\nexport default render;\n"],"names":["Youtube","props","instanceid","videoid","Vimeo","Wistia","useEffect","Mura","loader","loadjs","padding","position","height","left","top","width","ModalVideo","modalcta","buttonclass","buttonplayiconsize","buttonctatext","showbuttonplayicon","openPlayer","openVidyardLightbox","getVideoPlayer","players","videoplatform","Video","displaytype","length","ItemDate","date","formatteddate","releasedate","Date","lastupdate","Intl","DateTimeFormat","year","month","day","format","ItemCredits","Credits","credits","split","creditsList","credit","i","push","ItemTags","Tags","tags","tagList","tag","htmlDirectives","transform","tree","visit","ondirective","node","data","hast","h","name","attributes","hName","tagName","hProperties","properties","renderDirective","elem","Object","assign","toLowerCase","Decorator","ssr","children","React","createElement","e","console","error","renderers","textDirective","leafDirective","containerDirective","heading","level","OutputMarkup","source","className","parsedSource","getMura","parseStringAsTemplate","getMuraConfig","ConnectorConfig","htmleditortype","gfm","slug","directive","__html","ArticleMeta","fields","fieldlist","item","content","map","field","title","summary","getLayout","layout","muraConfig","ComponentRegistry","uselayout","log","getDefaultQueryPropsFromLayout","getQueryProps","Collection","objectparams","DynamicCollectionLayout","component","dynamicProps","_collection","collection","EntityCollection","_requestcontext","useState","setCollection","isMounted","getDynamicProps","then","_dynamicProps","RouterlessLink","RouterLink","href","getHref","getItemsPerPage","renderMode","nextn","itemsperpage","cdata","sourcetype","feed","getFeed","getAll","andProp","isEQ","contentid","getSelectFields","expand","getExpandFields","maxItems","maxitems","itemsPerPage","sort","sortby","sortdirection","getQuery","query","src","items","Array","isArray","JSON","parse","where","findMany","related","totaltems","getRelatedContent","getEntity","set","imagesizes","getImageSizes","isUUID","imageSizes","fieldarray","hasDate","hasFilename","hasImage","hasFileid","hasContentid","hasContenthistid","hasParentid","filter","join","CollectionNav","nav","pos","setPos","scrollpages","itemsTo","setItemsTo","get","next","prev","itemsOf","itemsToMax","isInNode","isEndVisible","end","isScrolledIntoView","setTimeout","toLocaleLowerCase","endindex","setEndindex","has","incoming","reverse","forEach","unshift","goToPage","page","NavButton","val","onItemClick","_onClick","label","NavButtonLabel","faChevronRight","faChevronLeft","CollectionLayout","link","CurrentItems","itemsList","Link","CollectionReadMoreBtn","ctatext","ItemImage","image","alt","itemImage","CollectionLayoutAccordian","accordionpadding","collapseindicators","collapseindicatorslocation","activeId","setActiveId","toggleActive","id","Card","Header","imagesize","AlternatingBoxes","AlternatingRows","ItemCategories","Categories","categories","catsList","cat","cats","catsTo","hasnext","categoryid","categoryname","CheckForItems","Cards","totalpages","NoItemsMessage","rowcolssm","rowcolsmd","rowcolslg","rowcolsxl","catAssignments","categoryassignments","filteredField","List","ListImage","indexOf","ListMeta","Masonry","SlickSlider","CustomNextArrow","style","onClick","CustomPrevArrow","slides","Number","slidestoshow","sliderlayout","dots","arrows","infinite","speed","autoplay","autoplayspeed","lazyload","vertical","verticalswiping","fade","centermode","centerpadding","breakpoint","settings","slidesToShow","slidesToScroll","objectid","SliderItem","sliderimage","Container","displayObjectInstances","DisplayObject","$items","resetInstanceIds","_items","createUUID","object","cloning","obj","key","moduleStyleData","getComponent","Hr","CTAButton","buttontext","buttoncolor","buttonsize","buttonlink","buttontarget","buttonblock","btnclass","Embed","containerid","html","Image","caption","imagelink","fit","imagelinktarget","margin","FigCaption","Img","objectFit","Login","processDisplayObject","MatrixSelector","_personaIds","personaProps","_stageIds","stageProps","personaIds","setPersonaIds","stageIds","setStageIds","_selfIdStart","selfidstart","_selfIdMiddle","selfidmiddle","_selfIdEnd","selfidend","_displayType","selfIdStart","selfIdMiddle","selfIdEnd","displayType","curSelPersona","setCurSelPersona","curSelStage","setCurSelStage","buttonEnabled","setButtonEnabled","updateSuccess","setUpdateSuccess","showingAlert","setShowingAlert","isUpdating","setIsUpdating","selPersonaValidated","setSelPersonaValidated","selStageValidated","setSelStageValidated","handleSubmit","preventDefault","updateExperience","updateSelectedPersona","newPersona","target","value","checkSelectValidation","updateSelectedStage","newStage","persona","stage","updateButtonStatus","personaid","stageid","Personaid","Stageid","invoke","exp","personaselected","stageselected","setSeconds","trackEvent","category","action","seconds","window","location","getPersonas","getStages","open","setOpen","widgetposition","faBolt","MatrixSelectorFooter","CustomLinks","customlinks","from","UtilityLinks","MatrixForm","personaId","selfidq","stageId","PrimaryNav","setItems","Render","homeNavIcon","navlogo","displayhome","filename","menutitle","kids","navicon","translations","prop","homeid","type","Homelink","homeTitle","createIcon","LangOptions","translation","siteid","url","NavLinkDropdown","display","child","ResourceHub","_curSubtype","filterprops","subtype","_curCategoryIds","_curPersonaId","_curCategoriesArray","selectedcats","_hasMXP","hasmxp","curSubtype","setCurSubtype","curCategoriesArray","setCurCategoriesArray","curCategoryIds","setCurCategoryIds","curPersonaId","setCurPersonaId","hasMXP","setHasMXP","newFilter","setNewFilter","toString","filterUpdated","setFilterUpdated","updateFilter","includes","updateCategoryIds","getCategoryIds","getFilterProps","filterProps","getCollection","categoriesList","undefined","excludeIDList","isIn","containsValue","isNotIn","useCategoryIntersect","sortBy","selectedcategories","newfilter","Subtype","Categoryid","CurSelectedCats","NewFilter","RenderFilterForm","categoriesArray","setCategoriesArray","personasArray","setPersonasArray","subtypesArray","subtypes","categoryIds","categoryids","personaids","getCategoriesInfo","getPersonasInfo","index","curCategoryId","option","CategorySelect","categoryKids","setCategoryKids","curSelectValue","getCategoryKidsInfo","filterlabel","personas","categoryId","categorykids","match","Text","setSource","loadBy","entity","PrivacyTools","optIn","setOptIn","optOut","setOptOut","mxpAnon","setMxpAnon","getCurrentPrivacy","result","updatePrivacyMXP","mxp_opt_in","mxp_opt_out","privacyOptIn","mxpAnonChanged","GatedAsset","gateIsOpen","setGateIsOpen","editing","editMode","setEditMode","gateparams","async","assetparams","pinned","isgatelocked","gatedasset","document","on","module","srcElement","formObj","closest","formid","handleIsGateOpen","response","checkContainerForOpenGates","params","Gist","componentDidMount","_updateIframeContent","componentDidUpdate","prevProps","prevState","_defineUrl","file","fileArg","iframe","iframeNode","doc","contentDocument","contentWindow","gistLink","gistScript","styles","elementId","resizeScript","iframeHtml","writeln","close","render","n","PureComponent","gistid"],"mappings":"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"}